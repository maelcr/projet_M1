(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[14865,51798,93810,17149,16142,30439,10966,11600,18072,69083],{240684:(e,t,i)=>{"use strict";i.d(t,{TA:()=>P,ZP:()=>j});var n=i(667294),l=i(263366),a=i(487462),r=i(497326),o=i(894578),s=i(659864),d=i(108679),u=i.n(d);function c(e){console.warn("loadable: "+e)}var p=n.createContext(),m={initialChunks:{}},h="PENDING",g="REJECTED",_=function(e){return e};function y(e){var t=e.defaultResolveComponent,i=void 0===t?_:t,d=e.render,c=e.onLoad;function y(e,t){void 0===t&&(t={});var _,y="function"==typeof e?{requireAsync:e,resolve:function(){},chunkName:function(){}}:e,v={};function f(e){return t.cacheKey?t.cacheKey(e):y.resolve?y.resolve(e):"static"}function x(e,n,l){var a=t.resolveComponent?t.resolveComponent(e,n):i(e);if(t.resolveComponent&&!(0,s.isValidElementType)(a))throw Error("resolveComponent returned something that is not a React component!");return u()(l,a,{preload:!0}),a}var b=(_=function(e){function i(i){var n;return((n=e.call(this,i)||this).state={result:null,error:null,loading:!0,cacheKey:f(i)},function(e,t){if(!e){var i=Error("loadable: "+t);throw i.framesToPop=1,i.name="Invariant Violation",i}}(!i.__chunkExtractor||y.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),i.__chunkExtractor)?(!1===t.ssr||(y.requireAsync(i).catch(function(){return null}),n.loadSync(),i.__chunkExtractor.addChunk(y.chunkName(i))),(0,r.Z)(n)):(!1!==t.ssr&&(y.isReady&&y.isReady(i)||y.chunkName&&m.initialChunks[y.chunkName(i)])&&n.loadSync(),n)}(0,o.Z)(i,e),i.getDerivedStateFromProps=function(e,t){var i=f(e);return(0,a.Z)({},t,{cacheKey:i,loading:t.loading||t.cacheKey!==i})};var n=i.prototype;return n.componentDidMount=function(){this.mounted=!0;var e=this.getCache();e&&e.status===g&&this.setCache(),this.state.loading&&this.loadAsync()},n.componentDidUpdate=function(e,t){t.cacheKey!==this.state.cacheKey&&this.loadAsync()},n.componentWillUnmount=function(){this.mounted=!1},n.safeSetState=function(e,t){this.mounted&&this.setState(e,t)},n.getCacheKey=function(){return f(this.props)},n.getCache=function(){return v[this.getCacheKey()]},n.setCache=function(e){void 0===e&&(e=void 0),v[this.getCacheKey()]=e},n.triggerOnLoad=function(){var e=this;c&&setTimeout(function(){c(e.state.result,e.props)})},n.loadSync=function(){if(this.state.loading)try{var e=y.requireSync(this.props),t=x(e,this.props,w);this.state.result=t,this.state.loading=!1}catch(e){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:y.resolve(this.props),chunkName:y.chunkName(this.props),error:e?e.message:e}),this.state.error=e}},n.loadAsync=function(){var e=this,t=this.resolveAsync();return t.then(function(t){var i=x(t,e.props,{Loadable:w});e.safeSetState({result:i,loading:!1},function(){return e.triggerOnLoad()})}).catch(function(t){return e.safeSetState({error:t,loading:!1})}),t},n.resolveAsync=function(){var e=this,t=this.props,i=(t.__chunkExtractor,t.forwardedRef,(0,l.Z)(t,["__chunkExtractor","forwardedRef"])),n=this.getCache();return n||((n=y.requireAsync(i)).status=h,this.setCache(n),n.then(function(){n.status="RESOLVED"},function(t){console.error("loadable-components: failed to asynchronously load component",{fileName:y.resolve(e.props),chunkName:y.chunkName(e.props),error:t?t.message:t}),n.status=g})),n},n.render=function(){var e=this.props,i=e.forwardedRef,n=e.fallback,r=(e.__chunkExtractor,(0,l.Z)(e,["forwardedRef","fallback","__chunkExtractor"])),o=this.state,s=o.error,u=o.loading,c=o.result;if(t.suspense&&(this.getCache()||this.loadAsync()).status===h)throw this.loadAsync();if(s)throw s;var p=n||t.fallback||null;return u?p:d({fallback:p,result:c,options:t,props:(0,a.Z)({},r,{ref:i})})},i}(n.Component),function(e){return n.createElement(p.Consumer,null,function(t){return n.createElement(_,Object.assign({__chunkExtractor:t},e))})}),w=n.forwardRef(function(e,t){return n.createElement(b,Object.assign({forwardedRef:t},e))});return w.preload=function(e){y.requireAsync(e)},w.load=function(e){return y.requireAsync(e)},w}return{loadable:y,lazy:function(e,t){return y(e,(0,a.Z)({},t,{suspense:!0}))}}}var v=y({defaultResolveComponent:function(e){return e.__esModule?e.default:e.default||e},render:function(e){var t=e.result,i=e.props;return n.createElement(t,i)}}),f=v.loadable,x=v.lazy,b=y({onLoad:function(e,t){e&&t.forwardedRef&&("function"==typeof t.forwardedRef?t.forwardedRef(e):t.forwardedRef.current=e)},render:function(e){var t=e.result,i=e.props;return i.children?i.children(t):null}}),w=b.loadable,S=b.lazy,k="undefined"!=typeof window;function P(e,t){void 0===e&&(e=function(){});var i=(void 0===t?{}:t).namespace;if(!k)return c("`loadableReady()` must be called in browser only"),e(),Promise.resolve();var n=null;if(k){var l=""+(void 0===i?"":i)+"__LOADABLE_REQUIRED_CHUNKS__",a=document.getElementById(l);if(a){n=JSON.parse(a.textContent);var r=document.getElementById(l+"_ext");if(r)JSON.parse(r.textContent).namedChunks.forEach(function(e){m.initialChunks[e]=!0});else throw Error("loadable-component: @loadable/server does not match @loadable/component")}}if(!n)return c("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),e(),Promise.resolve();var o=!1;return new Promise(function(e){window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[];var t=window.__LOADABLE_LOADED_CHUNKS__,i=t.push.bind(t);function l(){n.every(function(e){return t.some(function(t){return t[0].indexOf(e)>-1})})&&!o&&(o=!0,e())}t.push=function(){i.apply(void 0,arguments),l()},l()}).then(e)}f.lib=w,x.lib=S;let j=f},701305:e=>{"use strict";var t=[],i=[];e.exports=/**
 * Checks if two values are equal. Values may be primitives, arrays, or objects.
 * Returns true if both arguments have the same keys and values.
 *
 * @see http://underscorejs.org
 * @copyright 2009-2013 Jeremy Ashkenas, DocumentCloud Inc.
 * @license MIT
 */function(e,n){var l=t.length?t.pop():[],a=i.length?i.pop():[],r=function e(t,i,n,l){if(t===i)return 0!==t||1/t==1/i;if(null==t||null==i||"object"!=typeof t||"object"!=typeof i)return!1;var a=Object.prototype.toString,r=a.call(t);if(r!=a.call(i))return!1;switch(r){case"[object String]":return t==String(i);case"[object Number]":return!(isNaN(t)||isNaN(i))&&t==Number(i);case"[object Date]":case"[object Boolean]":return+t==+i;case"[object RegExp]":return t.source==i.source&&t.global==i.global&&t.multiline==i.multiline&&t.ignoreCase==i.ignoreCase}for(var o=n.length;o--;)if(n[o]==t)return l[o]==i;n.push(t),l.push(i);var s=0;if("[object Array]"===r){if((s=t.length)!==i.length)return!1;for(;s--;)if(!e(t[s],i[s],n,l))return!1}else{if(t.constructor!==i.constructor)return!1;if(t.hasOwnProperty("valueOf")&&i.hasOwnProperty("valueOf"))return t.valueOf()==i.valueOf();var d=Object.keys(t);if(d.length!=Object.keys(i).length)return!1;for(var u=0;u<d.length;u++)if(!e(t[d[u]],i[d[u]],n,l))return!1}return n.pop(),l.pop(),!0}(e,n,l,a);return l.length=0,a.length=0,t.push(l),i.push(a),r}},60139:e=>{"use strict";function t(e){return function(){return e}}var i=function(){};i.thatReturns=t,i.thatReturnsFalse=t(!1),i.thatReturnsTrue=t(!0),i.thatReturnsNull=t(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},663620:(e,t,i)=>{"use strict";var n=i(60139);e.exports=n},108679:(e,t,i)=>{"use strict";var n=i(121296),l={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},r={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function s(e){return n.isMemo(e)?r:o[e.$$typeof]||l}o[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[n.Memo]=r;var d=Object.defineProperty,u=Object.getOwnPropertyNames,c=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,i,n){if("string"!=typeof i){if(h){var l=m(i);l&&l!==h&&e(t,l,n)}var r=u(i);c&&(r=r.concat(c(i)));for(var o=s(t),g=s(i),_=0;_<r.length;++_){var y=r[_];if(!a[y]&&!(n&&n[y])&&!(g&&g[y])&&!(o&&o[y])){var v=p(i,y);try{d(t,y,v)}catch(e){}}}}return t}},396103:(e,t)=>{"use strict";/** @license React v16.8.4
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var i="function"==typeof Symbol&&Symbol.for,n=i?Symbol.for("react.element"):60103,l=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,r=i?Symbol.for("react.strict_mode"):60108,o=i?Symbol.for("react.profiler"):60114,s=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,u=i?Symbol.for("react.async_mode"):60111,c=i?Symbol.for("react.concurrent_mode"):60111,p=i?Symbol.for("react.forward_ref"):60112,m=i?Symbol.for("react.suspense"):60113,h=i?Symbol.for("react.memo"):60115,g=i?Symbol.for("react.lazy"):60116;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case u:case c:case a:case o:case r:case m:return e;default:switch(e=e&&e.$$typeof){case d:case p:case s:return e;default:return t}}case g:case h:case l:return t}}}function y(e){return _(e)===c}t.typeOf=_,t.AsyncMode=u,t.ConcurrentMode=c,t.ContextConsumer=d,t.ContextProvider=s,t.Element=n,t.ForwardRef=p,t.Fragment=a,t.Lazy=g,t.Memo=h,t.Portal=l,t.Profiler=o,t.StrictMode=r,t.Suspense=m,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===c||e===o||e===r||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===h||e.$$typeof===s||e.$$typeof===d||e.$$typeof===p)},t.isAsyncMode=function(e){return y(e)||_(e)===u},t.isConcurrentMode=y,t.isContextConsumer=function(e){return _(e)===d},t.isContextProvider=function(e){return _(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return _(e)===p},t.isFragment=function(e){return _(e)===a},t.isLazy=function(e){return _(e)===g},t.isMemo=function(e){return _(e)===h},t.isPortal=function(e){return _(e)===l},t.isProfiler=function(e){return _(e)===o},t.isStrictMode=function(e){return _(e)===r},t.isSuspense=function(e){return _(e)===m}},121296:(e,t,i)=>{"use strict";e.exports=i(396103)},441143:e=>{"use strict";e.exports=function(e,t,i,n,l,a,r,o){if(!e){var s;if(void 0===t)s=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[i,n,l,a,r,o],u=0;(s=Error(t.replace(/%s/g,function(){return d[u++]}))).name="Invariant Violation"}throw s.framesToPop=1,s}}},869921:(e,t)=>{"use strict";/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i="function"==typeof Symbol&&Symbol.for,n=i?Symbol.for("react.element"):60103,l=i?Symbol.for("react.portal"):60106,a=i?Symbol.for("react.fragment"):60107,r=i?Symbol.for("react.strict_mode"):60108,o=i?Symbol.for("react.profiler"):60114,s=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,u=i?Symbol.for("react.async_mode"):60111,c=i?Symbol.for("react.concurrent_mode"):60111,p=i?Symbol.for("react.forward_ref"):60112,m=i?Symbol.for("react.suspense"):60113,h=i?Symbol.for("react.suspense_list"):60120,g=i?Symbol.for("react.memo"):60115,_=i?Symbol.for("react.lazy"):60116,y=i?Symbol.for("react.block"):60121,v=i?Symbol.for("react.fundamental"):60117,f=i?Symbol.for("react.responder"):60118,x=i?Symbol.for("react.scope"):60119;function b(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case u:case c:case a:case o:case r:case m:return e;default:switch(e=e&&e.$$typeof){case d:case p:case _:case g:case s:return e;default:return t}}case l:return t}}}function w(e){return b(e)===c}t.AsyncMode=u,t.ConcurrentMode=c,t.ContextConsumer=d,t.ContextProvider=s,t.Element=n,t.ForwardRef=p,t.Fragment=a,t.Lazy=_,t.Memo=g,t.Portal=l,t.Profiler=o,t.StrictMode=r,t.Suspense=m,t.isAsyncMode=function(e){return w(e)||b(e)===u},t.isConcurrentMode=w,t.isContextConsumer=function(e){return b(e)===d},t.isContextProvider=function(e){return b(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return b(e)===p},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===_},t.isMemo=function(e){return b(e)===g},t.isPortal=function(e){return b(e)===l},t.isProfiler=function(e){return b(e)===o},t.isStrictMode=function(e){return b(e)===r},t.isSuspense=function(e){return b(e)===m},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===c||e===o||e===r||e===m||e===h||"object"==typeof e&&null!==e&&(e.$$typeof===_||e.$$typeof===g||e.$$typeof===s||e.$$typeof===d||e.$$typeof===p||e.$$typeof===v||e.$$typeof===f||e.$$typeof===x||e.$$typeof===y)},t.typeOf=b},659864:(e,t,i)=>{"use strict";e.exports=i(869921)},615071:(e,t,i)=>{"use strict";i.d(t,{Z:()=>x});var n=i(487462),l=i(263366),a=i(894578);function r(e,t){return e.replace(RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}i(45697);var o=i(667294),s=i(973935);let d={disabled:!1};var u=i(500220),c="unmounted",p="exited",m="entering",h="entered",g="exiting",_=function(e){function t(t,i){n=e.call(this,t,i)||this;var n,l,a=i&&!i.isMounting?t.enter:t.appear;return n.appearStatus=null,t.in?a?(l=p,n.appearStatus=m):l=h:l=t.unmountOnExit||t.mountOnEnter?c:p,n.state={status:l},n.nextCallback=null,n}(0,a.Z)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===c?{status:p}:null};var i=t.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var i=this.state.status;this.props.in?i!==m&&i!==h&&(t=m):(i===m||i===h)&&(t=g)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,i,n=this.props.timeout;return e=t=i=n,null!=n&&"number"!=typeof n&&(e=n.exit,t=n.enter,i=void 0!==n.appear?n.appear:t),{exit:e,enter:t,appear:i}},i.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===m?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===p&&this.setState({status:c})},i.performEnter=function(e){var t=this,i=this.props.enter,n=this.context?this.context.isMounting:e,l=this.props.nodeRef?[n]:[s.findDOMNode(this),n],a=l[0],r=l[1],o=this.getTimeouts(),u=n?o.appear:o.enter;if(!e&&!i||d.disabled){this.safeSetState({status:h},function(){t.props.onEntered(a)});return}this.props.onEnter(a,r),this.safeSetState({status:m},function(){t.props.onEntering(a,r),t.onTransitionEnd(u,function(){t.safeSetState({status:h},function(){t.props.onEntered(a,r)})})})},i.performExit=function(){var e=this,t=this.props.exit,i=this.getTimeouts(),n=this.props.nodeRef?void 0:s.findDOMNode(this);if(!t||d.disabled){this.safeSetState({status:p},function(){e.props.onExited(n)});return}this.props.onExit(n),this.safeSetState({status:g},function(){e.props.onExiting(n),e.onTransitionEnd(i.exit,function(){e.safeSetState({status:p},function(){e.props.onExited(n)})})})},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,i=!0;return this.nextCallback=function(n){i&&(i=!1,t.nextCallback=null,e(n))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},i.onTransitionEnd=function(e,t){this.setNextCallback(t);var i=this.props.nodeRef?this.props.nodeRef.current:s.findDOMNode(this),n=null==e&&!this.props.addEndListener;if(!i||n){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[i,this.nextCallback],a=l[0],r=l[1];this.props.addEndListener(a,r)}null!=e&&setTimeout(this.nextCallback,e)},i.render=function(){var e=this.state.status;if(e===c)return null;var t=this.props,i=t.children,n=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,(0,l.Z)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.createElement(u.Z.Provider,{value:null},"function"==typeof i?i(e,n):o.cloneElement(o.Children.only(i),n))},t}(o.Component);function y(){}_.contextType=u.Z,_.propTypes={},_.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:y,onEntering:y,onEntered:y,onExit:y,onExiting:y,onExited:y},_.UNMOUNTED=c,_.EXITED=p,_.ENTERING=m,_.ENTERED=h,_.EXITING=g;var v=function(e,t){return e&&t&&t.split(" ").forEach(function(t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))})},f=function(e){function t(){for(var t,i=arguments.length,n=Array(i),l=0;l<i;l++)n[l]=arguments[l];return(t=e.call.apply(e,[this].concat(n))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,i){var n=t.resolveArguments(e,i),l=n[0],a=n[1];t.removeClasses(l,"exit"),t.addClass(l,a?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,i)},t.onEntering=function(e,i){var n=t.resolveArguments(e,i),l=n[0],a=n[1];t.addClass(l,a?"appear":"enter","active"),t.props.onEntering&&t.props.onEntering(e,i)},t.onEntered=function(e,i){var n=t.resolveArguments(e,i),l=n[0],a=n[1]?"appear":"enter";t.removeClasses(l,a),t.addClass(l,a,"done"),t.props.onEntered&&t.props.onEntered(e,i)},t.onExit=function(e){var i=t.resolveArguments(e)[0];t.removeClasses(i,"appear"),t.removeClasses(i,"enter"),t.addClass(i,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var i=t.resolveArguments(e)[0];t.addClass(i,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var i=t.resolveArguments(e)[0];t.removeClasses(i,"exit"),t.addClass(i,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.resolveArguments=function(e,i){return t.props.nodeRef?[t.props.nodeRef.current,e]:[e,i]},t.getClassNames=function(e){var i=t.props.classNames,n="string"==typeof i,l=n?(n&&i?i+"-":"")+e:i[e],a=n?l+"-active":i[e+"Active"],r=n?l+"-done":i[e+"Done"];return{baseClassName:l,activeClassName:a,doneClassName:r}},t}(0,a.Z)(t,e);var i=t.prototype;return i.addClass=function(e,t,i){var n,l=this.getClassNames(t)[i+"ClassName"],a=this.getClassNames("enter").doneClassName;"appear"===t&&"done"===i&&a&&(l+=" "+a),"active"===i&&e&&e.scrollTop,l&&(this.appliedClasses[t][i]=l,n=l,e&&n&&n.split(" ").forEach(function(t){var i,n;return i=e,n=t,void(i.classList?i.classList.add(n):(i.classList?n&&i.classList.contains(n):-1!==(" "+(i.className.baseVal||i.className)+" ").indexOf(" "+n+" "))||("string"==typeof i.className?i.className=i.className+" "+n:i.setAttribute("class",(i.className&&i.className.baseVal||"")+" "+n)))}))},i.removeClasses=function(e,t){var i=this.appliedClasses[t],n=i.base,l=i.active,a=i.done;this.appliedClasses[t]={},n&&v(e,n),l&&v(e,l),a&&v(e,a)},i.render=function(){var e=this.props,t=(e.classNames,(0,l.Z)(e,["classNames"]));return o.createElement(_,(0,n.Z)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(o.Component);f.defaultProps={classNames:""},f.propTypes={};let x=f},500220:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(667294);let l=n.createContext(null)},560053:(e,t)=>{"use strict";/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function i(e,t){var i=e.length;for(e.push(t);0<i;){var n=i-1>>>1,l=e[n];if(0<a(l,t))e[n]=t,e[i]=l,i=n;else break}}function n(e){return 0===e.length?null:e[0]}function l(e){if(0===e.length)return null;var t=e[0],i=e.pop();if(i!==t){e[0]=i;for(var n=0,l=e.length,r=l>>>1;n<r;){var o=2*(n+1)-1,s=e[o],d=o+1,u=e[d];if(0>a(s,i))d<l&&0>a(u,s)?(e[n]=u,e[d]=i,n=d):(e[n]=s,e[o]=i,n=o);else if(d<l&&0>a(u,i))e[n]=u,e[d]=i,n=d;else break}}return t}function a(e,t){var i=e.sortIndex-t.sortIndex;return 0!==i?i:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var r,o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,d=s.now();t.unstable_now=function(){return s.now()-d}}var u=[],c=[],p=1,m=null,h=3,g=!1,_=!1,y=!1,v="function"==typeof setTimeout?setTimeout:null,f="function"==typeof clearTimeout?clearTimeout:null,x="undefined"!=typeof setImmediate?setImmediate:null;function b(e){for(var t=n(c);null!==t;){if(null===t.callback)l(c);else if(t.startTime<=e)l(c),t.sortIndex=t.expirationTime,i(u,t);else break;t=n(c)}}function w(e){if(y=!1,b(e),!_){if(null!==n(u))_=!0,R(S);else{var t=n(c);null!==t&&D(w,t.startTime-e)}}}function S(e,i){_=!1,y&&(y=!1,f(j),j=-1),g=!0;var a=h;try{for(b(i),m=n(u);null!==m&&(!(m.expirationTime>i)||e&&!C());){var r=m.callback;if("function"==typeof r){m.callback=null,h=m.priorityLevel;var o=r(m.expirationTime<=i);i=t.unstable_now(),"function"==typeof o?m.callback=o:m===n(u)&&l(u),b(i)}else l(u);m=n(u)}if(null!==m)var s=!0;else{var d=n(c);null!==d&&D(w,d.startTime-i),s=!1}return s}finally{m=null,h=a,g=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k=!1,P=null,j=-1,I=5,T=-1;function C(){return!(t.unstable_now()-T<I)}function F(){if(null!==P){var e=t.unstable_now();T=e;var i=!0;try{i=P(!0,e)}finally{i?r():(k=!1,P=null)}}else k=!1}if("function"==typeof x)r=function(){x(F)};else if("undefined"!=typeof MessageChannel){var A=new MessageChannel,E=A.port2;A.port1.onmessage=F,r=function(){E.postMessage(null)}}else r=function(){v(F,0)};function R(e){P=e,k||(k=!0,r())}function D(e,i){j=v(function(){e(t.unstable_now())},i)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){_||g||(_=!0,R(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var i=h;h=t;try{return e()}finally{h=i}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=h;h=e;try{return t()}finally{h=i}},t.unstable_scheduleCallback=function(e,l,a){var r=t.unstable_now();switch(a="object"==typeof a&&null!==a&&"number"==typeof(a=a.delay)&&0<a?r+a:r,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return o=a+o,e={id:p++,callback:l,priorityLevel:e,startTime:a,expirationTime:o,sortIndex:-1},a>r?(e.sortIndex=a,i(c,e),null===n(u)&&e===n(c)&&(y?(f(j),j=-1):y=!0,D(w,a-r))):(e.sortIndex=o,i(u,e),_||g||(_=!0,R(S))),e},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(e){var t=h;return function(){var i=h;h=t;try{return e.apply(this,arguments)}finally{h=i}}}},363840:(e,t,i)=>{"use strict";e.exports=i(560053)},653250:(e,t,i)=>{"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=i(667294),l="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=n.useState,r=n.useEffect,o=n.useLayoutEffect,s=n.useDebugValue;function d(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!l(e,i)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var i=t(),n=a({inst:{value:i,getSnapshot:t}}),l=n[0].inst,u=n[1];return o(function(){l.value=i,l.getSnapshot=t,d(l)&&u({inst:l})},[e,i,t]),r(function(){return d(l)&&u({inst:l}),e(function(){d(l)&&u({inst:l})})},[e]),s(i),i};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},950139:(e,t,i)=>{"use strict";/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=i(667294),l=i(61688),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},r=l.useSyncExternalStore,o=n.useRef,s=n.useEffect,d=n.useMemo,u=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,i,n,l){var c=o(null);if(null===c.current){var p={hasValue:!1,value:null};c.current=p}else p=c.current;var m=r(e,(c=d(function(){function e(e){if(!s){if(s=!0,r=e,e=n(e),void 0!==l&&p.hasValue){var t=p.value;if(l(t,e))return o=t}return o=e}if(t=o,a(r,e))return t;var i=n(e);return void 0!==l&&l(t,i)?t:(r=e,o=i)}var r,o,s=!1,d=void 0===i?null:i;return[function(){return e(t())},null===d?void 0:function(){return e(d())}]},[t,i,n,l]))[0],c[1]);return s(function(){p.hasValue=!0,p.value=m},[m]),u(m),m}},61688:(e,t,i)=>{"use strict";e.exports=i(653250)},552798:(e,t,i)=>{"use strict";e.exports=i(950139)},542473:e=>{"use strict";e.exports=function(){}},405410:e=>{"use strict";var t,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BestPinCardAttribution_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="610a35d46510240eb58e262c1909310c",e.exports=i},327620:e=>{"use strict";var t,i,n,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BestPinCardBody_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"lastRepinDate",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"createdAt",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[n={alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,concreteType:"ParsedIngredientMetadata",kind:"LinkedField",name:"ingredients",plural:!0,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"amt",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null},{args:null,kind:"FragmentSpread",name:"RecipeMetadata_recipe"}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null}],storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"repinCount",storageKey:null},n,{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"},{args:null,kind:"FragmentSpread",name:"useNormalizePinData_pin"},{args:null,kind:"FragmentSpread",name:"BestPinCardAttribution_pin"}],type:"Pin",abstractKey:null};l.hash="833cd5d58bc1ac105444aa923e882675",e.exports=l},547983:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BubbleStory_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"referringSource",storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],type:"ExploreArticle",abstractKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"identifierIconName",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"BubblesGridRep_story"}],type:"Story",abstractKey:null};t.hash="1c6b4e45a045976cb346fc1824fa2578",e.exports=t},940572:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"BubblesGridRep_story",selections:[{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},{args:null,kind:"FragmentSpread",name:"ExploreBubble_exploreArticle"}],type:"ExploreArticle",abstractKey:null}],storageKey:null}],type:"Story",abstractKey:null};t.hash="bc3408725d4de6a75e59ac3d2aefd4b2",e.exports=t},603239:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselEllipsis_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"CarouselEllipsis_pin2"}],type:"Pin",abstractKey:null};t.hash="a4b0b28d3f9f52a7e3d5874c94bfb63d",e.exports=t},822423:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselEllipsis_pin2",selections:[{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"}],type:"Pin",abstractKey:null};t.hash="3286ed8ff7f456e30ce44b879fb3e273",e.exports=t},992872:e=>{"use strict";var t,i={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"CarouselModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentCarouselDisplayOptions",kind:"LinkedField",name:"carouselDisplayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"navigationType",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselScrollingMode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null},{alias:null,args:null,concreteType:"StoryContentVisibleItemCount",kind:"LinkedField",name:"contentVisibleItemCount",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"mobile",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"web",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryTilesGridLayout",kind:"LinkedField",name:"gridLayout",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"cols",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"carouselFadeEnds",storageKey:null},{alias:null,args:null,concreteType:"StoryItemViewRepStyle",kind:"LinkedField",name:"itemViewRepStyle",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"exploreArticleRepStyle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"moreIdeasRepStyle",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDisplay",kind:"LinkedField",name:"headerDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expandedTextAlignment",storageKey:null}],storageKey:null}],storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:[t={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"objects",plural:!0,selections:[t,{kind:"InlineFragment",selections:[{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"ItemRep_pin"},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null}],type:"Pin",abstractKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{args:null,kind:"FragmentSpread",name:"HeaderModule_story"}],type:"Story",abstractKey:null};i.hash="5d69c90881b2a9595cac9a9cb8cc1097",e.exports=i},717246:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselSliders_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"CarouselSliders_pin2"}],type:"Pin",abstractKey:null};t.hash="3f223f30a28328f76287f1fcf8c84a2a",e.exports=t},671704:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"CarouselSliders_pin2",selections:[{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"usePinCarouselData_pin"},{args:null,kind:"FragmentSpread",name:"CarouselEllipsis_pin"}],type:"Pin",abstractKey:null};t.hash="d0973811f6c08057de3b9f34d83c8a63",e.exports=t},231928:e=>{"use strict";var t,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"ExploreBubble_exploreArticle",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"curator",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColors",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"identifierIconType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyCategory",storageKey:null},{alias:"articleTitle",args:null,concreteType:"ArticleTitleGraphQL",kind:"LinkedField",name:"title",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:"coverImage236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"236x")'},{alias:"coverImage474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"474x")'},{alias:"coverImage136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"136x136")'},{alias:"coverImage170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"170x")'},{alias:"coverImage222x",args:[{kind:"Literal",name:"spec",value:"222x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"222x")'},{alias:"coverImage90x90",args:[{kind:"Literal",name:"spec",value:"90x90"}],concreteType:"Thumbnails",kind:"LinkedField",name:"coverImages",plural:!0,selections:t,storageKey:'coverImages(spec:"90x90")'}],type:"ExploreArticle",abstractKey:null};i.hash="bc8b8afb394eb9f724930319c776249a",e.exports=i},225785:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FlashlightCropperContainer_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"FlashlightSpotlightDots_pin"}],type:"Pin",abstractKey:null};t.hash="17b1ebef1c9031212ecd7bd5be0e6151",e.exports=t},490644:e=>{"use strict";var t,i,n,l,a,r,o,s,d,u,c,p,m,h,g,_,y,v,f,x,b,w,S,k=(t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],i=[{kind:"Variable",name:"pin",variableName:"pinId"}],n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"isEligibleForRelatedProducts",storageKey:null},s={alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"detection",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},c={alias:"imageOrig",args:d=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:u=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"orig")'},m={alias:"image736x",args:p=[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:u,storageKey:'images(spec:"736x")'},g={alias:"image564x",args:h=[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:u,storageKey:'images(spec:"564x")'},y={alias:"image474x",args:_=[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:u,storageKey:'images(spec:"474x")'},f={alias:"image236x",args:v=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:u,storageKey:'images(spec:"236x")'},w={alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:b=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:"additionalImageOrig",args:d,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x=[a,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:u,storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"orig")'},{alias:"additionalImage564x",args:h,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImage736x",args:p,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"736x")'},{alias:"additionalImage474x",args:_,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImage236x",args:v,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:x,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,concreteType:"AdditionalImages",kind:"LinkedField",name:"additionalImages",plural:!0,selections:[a,{alias:null,args:null,kind:"ScalarField",name:"canonicalImages",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{fragment:{argumentDefinitions:t,kind:"Fragment",metadata:null,name:"FlashlightPagePinQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[n,{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[l,a,r,o,s,c,m,g,y,f,w,S={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:b,storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"FlashlightPagePinQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[l,a,r,o,s,c,m,g,y,f,w,S,{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"2fbe7c612e0b9e55147a27059ea1cb52fb3420abce761a50d75549302dd620bd",metadata:{},name:"FlashlightPagePinQuery",operationKind:"query",text:null}});k.hash="3e072d3a492316c79a629968e8cd0a07",e.exports=k,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(k.default||k)},568189:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FlashlightPageWithData_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetInitialCropArea_pin"},{args:null,kind:"FragmentSpread",name:"useGetNormalizedPinImage_pin"},{args:null,kind:"FragmentSpread",name:"FlashlightCropperContainer_pin"},{args:null,kind:"FragmentSpread",name:"FlashlightResultGridContainer_pin"}],type:"Pin",abstractKey:null};t.hash="903db2b432ad0f02adcdca0d6515898d",e.exports=t},378605:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FlashlightResultGridContainer_pin",selections:[{args:null,kind:"FragmentSpread",name:"RelatedProductsUnifiedFeed_pin"}],type:"Pin",abstractKey:null};t.hash="bcca3e8407135d3e3c7a0a8bacfabeff",e.exports=t},52892:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"FlashlightSpotlightDots_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};t.hash="3a8409077905af94eb39568e4a5a57fc",e.exports=t},612587:e=>{"use strict";var t,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"HeaderModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"style",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"user",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null},{alias:"storyTitle",args:null,concreteType:"StoryText",kind:"LinkedField",name:"title",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"format",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryText",kind:"LinkedField",name:"subtitle",plural:!1,selections:t,storageKey:null},{alias:"storyDescription",args:null,concreteType:"StoryText",kind:"LinkedField",name:"description",plural:!1,selections:t,storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"titleTextColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleTextColor",storageKey:null},{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryHeaderDisplay",kind:"LinkedField",name:"headerDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"expandedTextAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"textAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleAlignment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"headerSize",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"titlePosition",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"subtitleStyle",storageKey:null}],storageKey:null}],storageKey:null}],type:"Story",abstractKey:null};i.hash="4bee3a400f6e868da4c768b56562f0ea",e.exports=i},883597:e=>{"use strict";var t={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"ItemRep_pin",selections:[{alias:"pinId",args:null,kind:"ScalarField",name:"id",storageKey:null},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"PinRep_pin"}],type:"Pin",abstractKey:null};t.hash="e09face5ac4d794d890ecc87ca1a90a4",e.exports=t},43027:e=>{"use strict";var t,i,n,l,a,r,o,s,d,u,c,p,m,h,g,_,y,v,f,x,b,w,S,k,P=(t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],i=[{kind:"Variable",name:"pin",variableName:"pinId"}],n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},s={alias:"imageOrig",args:r=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"orig")'},u={alias:"image736x",args:d=[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"736x")'},p={alias:"image564x",args:c=[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"564x")'},h={alias:"image474x",args:m=[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"474x")'},_={alias:"image236x",args:g=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"236x")'},y={alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},v={alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[a,{alias:"imageOrig",args:r,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"orig")'},{alias:"image736x",args:d,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"736x")'},{alias:"image564x",args:c,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"564x")'},{alias:"image474x",args:m,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"474x")'},{alias:"image236x",args:g,concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:o,storageKey:'images(spec:"236x")'}],storageKey:null},b={alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:x=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:"additionalImageOrig",args:r,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f=[a,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:o,storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"orig")'},{alias:"additionalImage564x",args:c,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f,storageKey:'additionalImagesPerSpec(spec:"564x")'},{alias:"additionalImage736x",args:d,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f,storageKey:'additionalImagesPerSpec(spec:"736x")'},{alias:"additionalImage474x",args:m,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f,storageKey:'additionalImagesPerSpec(spec:"474x")'},{alias:"additionalImage236x",args:g,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:f,storageKey:'additionalImagesPerSpec(spec:"236x")'}],storageKey:null}],storageKey:null},w={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:x,storageKey:null},S={alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},y,{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"detection",storageKey:null}],storageKey:null},{fragment:{argumentDefinitions:t,kind:"Fragment",metadata:null,name:"MobileFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[n,l,a,s,u,p,h,_,{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[y,v],storageKey:null},b,w,S],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"MobileFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[n,l,a,s,u,p,h,_,{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[y,v,k={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},b,w,S,k],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"67eedd3e1834ee184411ff81c5eeea7cf9dc9ec53a5e099459966ce5369828ee",metadata:{},name:"MobileFlashlightPageFetchDataPinQuery",operationKind:"query",text:null}});P.hash="1647166e8b02809a5f8ccfca2dc5019a",e.exports=P,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(P.default||P)},781426:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"MobileFlashlightPage_pin",selections:[{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"736x")'},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"detection",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"UnifiedPinRep_pin"}],type:"Pin",abstractKey:null};t.hash="97621a830643ac50c2f15e7aa19a3b57",e.exports=t},937101:e=>{"use strict";var t,i,n=(i=[t={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],{argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCardDetails_pin",selections:[t,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isVerifiedMerchant",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},{alias:null,args:null,concreteType:"VerifiedIdentity",kind:"LinkedField",name:"verifiedIdentity",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"verified",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"PriceLego_pin"}],type:"Pin",abstractKey:null});n.hash="e127c8f5f9fafd31c5dce4a9a7f66089",e.exports=n},984670:e=>{"use strict";var t,i,n,l,a,r,o,s={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"invite_code"}],kind:"Fragment",metadata:null,name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"inviteCode",variableName:"invite_code"}],concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[l={alias:"first_name",args:null,kind:"ScalarField",name:"firstName",storageKey:null},a={alias:"is_default_image",args:null,kind:"ScalarField",name:"isDefaultImage",storageKey:null},r={alias:"image_medium_url",args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null}],storageKey:null}],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"PinCardSharedHeaderQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetInviteCodeQuery",plural:!1,selections:[n,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"InviteCode",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sender",plural:!1,selections:[l,a,r,o={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null},o],storageKey:null}],type:"InviteCodeResponse",abstractKey:null}],storageKey:null}]},params:{id:"6ecc0f5ef5b300806765351890d4c30338f4cba0f2ed6262aebb971f8d13cedd",metadata:{},name:"PinCardSharedHeaderQuery",operationKind:"query",text:null}};s.hash="6113bb3593481961950c5053449014f3",e.exports=s,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(s.default||s)},114565:e=>{"use strict";var t,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PinCardVisual_pin",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"layout",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"staticPageCount",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"totalVideoDuration",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[{alias:"slotId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:"imagesSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"Thumbnails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},t,{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"236x")'}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{args:null,kind:"FragmentSpread",name:"useLogSwipe_pin"},{args:null,kind:"FragmentSpread",name:"CarouselSliders_pin"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null};i.hash="dfd3c5bc9e87cd7c67416a2769fc06e2",e.exports=i},813283:e=>{"use strict";var t,i,n,l,a,r,o,s,d,u,c,p,m,h,g,_,y,v,f=(t={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},i={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},n={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},d=[r={alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],h={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},g=[i,u={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],{argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"PinRep_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"adMatchReason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"advertiserId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"altText",storageKey:null},{alias:null,args:null,concreteType:"Attribution",kind:"LinkedField",name:"attribution",plural:!1,selections:[{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[t],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"adDestinationUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"attributionSourceId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"autoAltText",storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"followedByMe",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isCollaborative",storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"campaignId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"debug",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"descriptionHtml",storageKey:null},a,{alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},r,{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[o,{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},t,s],storageKey:null},i,{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,concreteType:"ImageCrop",kind:"LinkedField",name:"imageCrop",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minY",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"474x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:d,storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"isDownstreamPromotion",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForWebCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isPromoted",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:[i,u,c,p,{alias:null,args:null,kind:"ScalarField",name:"isPrimaryWebsiteVerified",storageKey:null},m],storageKey:null}],storageKey:null},h,{alias:null,args:null,kind:"ScalarField",name:"mobileLink",storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:g,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"pinnedToBoard",plural:!1,selections:[i],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:[i,{alias:null,args:null,kind:"ScalarField",name:"explicitlyFollowedByMe",storageKey:null},u,c,p,m],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"promoter",plural:!1,selections:g,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"promotedIsRemovable",storageKey:null},{alias:null,args:null,concreteType:"ReactionCountModel",kind:"LinkedField",name:"reactionCountsData",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"reactionType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reactionCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[a,_={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[y={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[y,n,v={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[y,{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayCookTime",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[n,v],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"typeName",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"seoUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shouldOpenInStream",storageKey:null},{alias:null,args:null,concreteType:"Interest",kind:"LinkedField",name:"sourceInterest",plural:!1,selections:[i,n,{alias:null,args:null,kind:"ScalarField",name:"urlName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"Sponsorship",kind:"LinkedField",name:"sponsorship",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"creator",plural:!1,selections:g,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"sponsor",plural:!1,selections:g,storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"hasProductPins",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isDeleted",storageKey:null},{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},_,{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[i,{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoDetail",kind:"LinkedField",name:"v720P",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"duration",storageKey:null},o,s,l],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinRecommendationReason",kind:"LinkedField",name:"recommendationReason",plural:!1,selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n,l],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reason",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reasonId",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"PinCarouselData",kind:"LinkedField",name:"carouselData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,concreteType:"PinCarouselSlot",kind:"LinkedField",name:"carouselSlots",plural:!0,selections:[_,{alias:null,args:null,kind:"ScalarField",name:"details",storageKey:null},h],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"ContextualMenu_pin"},{condition:"skipUnauthFragment",kind:"Condition",passingValue:!1,selections:[{args:null,kind:"FragmentSpread",name:"UnauthProductAttribution_pin"},{args:null,kind:"FragmentSpread",name:"UnauthDesktopContextMenu_pin"}]},{args:null,kind:"FragmentSpread",name:"SeoPageMetadataText_pin"},{args:null,kind:"FragmentSpread",name:"VaseAnnotations_pin"},{args:null,kind:"FragmentSpread",name:"PinCardDetails_pin"},{args:null,kind:"FragmentSpread",name:"PinCardVisual_pin"},{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"__id",storageKey:null}]}],type:"Pin",abstractKey:null});f.hash="f4234ef3c48ea4d07bea87193d2c6b21",e.exports=f},809571:e=>{"use strict";var t,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PriceLego_pin",selections:[{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t={alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"maxPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"minPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"price",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"standardPrice",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[t,{alias:null,args:null,kind:"ScalarField",name:"siteName",storageKey:null}],storageKey:null}],type:"Pin",abstractKey:null};i.hash="4a2543bd99e1b908c6c94274a303fcbc",e.exports=i},993912:e=>{"use strict";var t,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RecipeMetadata_recipe",selections:[{alias:null,args:null,concreteType:"AggregateRatingMetadata",kind:"LinkedField",name:"aggregateRating",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"bestRating",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"ratingValue",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"reviewCount",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTimes",kind:"LinkedField",name:"cookTimes",plural:!1,selections:[{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"cook",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"m",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"CookTime",kind:"LinkedField",name:"prep",plural:!1,selections:t,storageKey:null}],storageKey:null}],type:"RecipeMetadata",abstractKey:null};i.hash="12f77507a9fdec344b44b7e659fa5ac1",e.exports=i},468852:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RelatedProductsImageContent_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"FlashlightCropperContainer_pin"}],type:"Pin",abstractKey:null};t.hash="63b7c7cb48b269ec7bd096ebb0e37dfb",e.exports=t},482495:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RelatedProductsPageWithData_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForRelatedProducts",storageKey:null},{alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetInitialCropArea_pin"},{args:null,kind:"FragmentSpread",name:"useGetNormalizedPinImage_pin"},{args:null,kind:"FragmentSpread",name:"RelatedProductsImageContent_pin"},{args:null,kind:"FragmentSpread",name:"RelatedProductsUnifiedFeed_pin"}],type:"Pin",abstractKey:null};t.hash="dcd02fa7b3bcd48f4e3b8376109da44f",e.exports=t},966498:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"RelatedProductsUnifiedFeed_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};t.hash="12c4e9ff114eb53a8da6ef7727d72985",e.exports=t},91849:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SeoPageMetadataText_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"}],type:"Pin",abstractKey:null};t.hash="8f9d12b0eee9d408e23c20c11af28777",e.exports=t},974452:e=>{"use strict";var t,i,n,l,a={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"inviteType"},{defaultValue:null,kind:"LocalArgument",name:"objectId"}],kind:"Fragment",metadata:null,name:"ShareInviteCreateExternalInviteGraphQLQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"inviteType",variableName:"inviteType"},{kind:"Variable",name:"objectId",variableName:"objectId"}],concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,concreteType:"InviteUserExternal",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ShareInviteCreateExternalInviteGraphQLQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3InviteUserExternalQuery",plural:!1,selections:[n,{kind:"InlineFragment",selections:[l],type:"V3InviteUserExternal",abstractKey:null}],storageKey:null}]},params:{id:"9444c7d899b56b0d3f582ffd76e4aa03c97bb76a403a805aeb20150c64ee61d7",metadata:{},name:"ShareInviteCreateExternalInviteGraphQLQuery",operationKind:"query",text:null}};a.hash="1fbbd3a52281ca7385d39618818c9f5c",e.exports=a,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(a.default||a)},974016:e=>{"use strict";var t,i,n,l,a={fragment:{argumentDefinitions:t=[{defaultValue:null,kind:"LocalArgument",name:"invite_category"},{defaultValue:null,kind:"LocalArgument",name:"url"}],kind:"Fragment",metadata:null,name:"ShareInviteCreateShareLinkGraphQLQuery",selections:[{alias:null,args:i=[{kind:"Variable",name:"inviteCategory",variableName:"invite_category"},{kind:"Literal",name:"name",value:""},{kind:"Variable",name:"url",variableName:"url"}],concreteType:null,kind:"LinkedField",name:"v3CreateShareLinkQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[n={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},l={alias:null,args:null,concreteType:"ShareLink",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inviteCode",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"inviteUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null}],type:"V3CreateShareLink",abstractKey:null},{kind:"InlineFragment",selections:[n],type:"ClientError",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"ShareInviteCreateShareLinkGraphQLQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3CreateShareLinkQuery",plural:!1,selections:[n,{kind:"InlineFragment",selections:[l],type:"V3CreateShareLink",abstractKey:null}],storageKey:null}]},params:{id:"1a2c34659f0fc64fb8a13ad996b008dbd6b92e50c9b051a13ea424a4eeda7cb4",metadata:{},name:"ShareInviteCreateShareLinkGraphQLQuery",operationKind:"query",text:null}};a.hash="811d4ea697a4e7e3aa559549b7762835",e.exports=a,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(a.default||a)},282167:e=>{"use strict";var t={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"StructuredFeedStoryModule_story",selections:[{alias:null,args:null,concreteType:"StoryAction",kind:"LinkedField",name:"action",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"location",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"text",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"containerType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"contentIds",storageKey:null},{alias:null,args:null,concreteType:"StoryDisplayOptions",kind:"LinkedField",name:"displayOptions",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryContentDisplay",kind:"LinkedField",name:"contentDisplay",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"componentType",storageKey:null}],storageKey:null}],storageKey:null},{alias:"storyId",args:null,kind:"ScalarField",name:"id",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyType",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackingParams",storageKey:null},{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"CarouselModule_story"},{args:null,kind:"FragmentSpread",name:"HeaderModule_story"}],type:"Story",abstractKey:null};t.hash="058a61f5e0b72dbde337960de273d6a5",e.exports=t},215298:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicImageWithText_topic",selections:[{alias:"background_color",args:null,kind:"ScalarField",name:"backgroundColor",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:"follower_count",args:null,kind:"ScalarField",name:"followerCount",storageKey:null},{alias:null,args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null}],storageKey:'images(spec:"236x")'}],type:"Interest",abstractKey:null};t.hash="b5b71fb4390c1d3835e468a25f687669",e.exports=t},864754:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"TopicRepFragment_topic",selections:[{alias:"is_followed",args:null,kind:"ScalarField",name:"isFollowed",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{args:null,kind:"FragmentSpread",name:"TopicImageWithText_topic"}],type:"Interest",abstractKey:null};t.hash="e5a0b7dce2aa2313e4cf2c9871cbedf7",e.exports=t},298748:e=>{"use strict";var t,i,n,l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthDesktopContextMenu_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},t={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,concreteType:"Embed",kind:"LinkedField",name:"embed",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"src",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isUnsafe",storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:i=[{alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,concreteType:"SeoBreadcrumbs",kind:"LinkedField",name:"seoBreadcrumbs",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[t,n={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[{alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null}],storageKey:null},n,{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},{alias:null,args:null,concreteType:"Video",kind:"LinkedField",name:"videos",plural:!1,selections:[{alias:null,args:null,concreteType:"VideoList",kind:"LinkedField",name:"videoList",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"usePinImageUrls_pin"}],type:"Pin",abstractKey:null};l.hash="9927ced98afae08f50c02180203fa8b0",e.exports=l},676684:e=>{"use strict";var t,i,n,l,a,r,o,s,d,u,c,p,m,h,g,_,y,v,f,x,b,w,S,k,P,j,I,T,C,F,A,E,R,D,L,Z,M,O,z,N,K,U,B,$,H,G,W,V,q,Y,Q,J,X,ee,et=(t=[{defaultValue:null,kind:"LocalArgument",name:"pinId"}],i=[{kind:"Variable",name:"pin",variableName:"pinId"}],n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},l={alias:null,args:null,kind:"ScalarField",name:"imageSignature",storageKey:null},a={alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},r={alias:null,args:null,kind:"ScalarField",name:"isEligibleForRelatedProducts",storageKey:null},o={alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"title",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"gridTitle",storageKey:null},u={alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null},c={alias:null,args:null,kind:"ScalarField",name:"repinCount",storageKey:null},p={alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null},m={alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},h={alias:null,args:null,kind:"ScalarField",name:"domain",storageKey:null},y={alias:null,args:null,concreteType:"PinJoin",kind:"LinkedField",name:"pinJoin",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"visualAnnotation",storageKey:null},{alias:null,args:null,concreteType:"AnnotationsWithLinks",kind:"LinkedField",name:"annotationsWithLinksArray",plural:!0,selections:[g={alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},_={alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:null}],storageKey:null},v={alias:null,args:null,concreteType:"StoryPinMetadataField",kind:"LinkedField",name:"metadata",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"pinTitle",storageKey:null}],storageKey:null},S=[f={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},x={alias:null,args:null,kind:"ScalarField",name:"fullName",storageKey:null},b={alias:null,args:null,kind:"ScalarField",name:"imageMediumUrl",storageKey:null},w={alias:null,args:null,kind:"ScalarField",name:"imageSmallUrl",storageKey:null}],k=[n,f,x,b,w],P={alias:null,args:null,kind:"ScalarField",name:"imageThumbnailUrl",storageKey:null},j={alias:null,args:null,kind:"ScalarField",name:"privacy",storageKey:null},E={alias:"imageOrig",args:I=[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:A=[T={alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null},_,C={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},F={alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"dominantColor",storageKey:null}],storageKey:'images(spec:"orig")'},D={alias:"image564x",args:R=[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:A,storageKey:'images(spec:"564x")'},Z={alias:"image736x",args:L=[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:A,storageKey:'images(spec:"736x")'},O={alias:"image474x",args:M=[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:A,storageKey:'images(spec:"474x")'},N={alias:"image236x",args:z=[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:A,storageKey:'images(spec:"236x")'},K={alias:null,args:null,concreteType:"StelaVisualObject",kind:"LinkedField",name:"visualObjects",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"detection",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"h",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"index",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStela",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"label",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelX",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"labelY",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"maxAnnotationNumDocuments",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"score",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"showOnCloseup",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"x",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"w",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"y",storageKey:null}],storageKey:null},U={alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"inStock",storageKey:null}],storageKey:null},$={alias:"additionalImageOrig",args:I,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:B=[l,{alias:null,args:null,concreteType:"Thumbnails",kind:"LinkedField",name:"canonicalImage",plural:!1,selections:[F,_,T],storageKey:null}],storageKey:'additionalImagesPerSpec(spec:"orig")'},q={alias:null,args:null,kind:"ScalarField",name:"canonicalImages",storageKey:null},Y={alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[a,s,{alias:null,args:null,concreteType:"RecipeMetadata",kind:"LinkedField",name:"recipe",plural:!1,selections:[g,{alias:null,args:null,concreteType:"CategorizedIngredientsMetadata",kind:"LinkedField",name:"categorizedIngredients",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"fromAggregatedData",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ArticleMetadata",kind:"LinkedField",name:"article",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"datePublished",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"MakeCardTutorialMetadata",kind:"LinkedField",name:"tutorial",plural:!1,selections:[g,C],storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[g,U,$,H={alias:"additionalImage564x",args:R,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:B,storageKey:'additionalImagesPerSpec(spec:"564x")'},G={alias:"additionalImage736x",args:L,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:B,storageKey:'additionalImagesPerSpec(spec:"736x")'},W={alias:"additionalImage474x",args:M,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:B,storageKey:'additionalImagesPerSpec(spec:"474x")'},V={alias:"additionalImage236x",args:z,concreteType:"AdditionalImagesPerSpec",kind:"LinkedField",name:"additionalImagesPerSpec",plural:!0,selections:B,storageKey:'additionalImagesPerSpec(spec:"236x")'},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,concreteType:"AdditionalImages",kind:"LinkedField",name:"additionalImages",plural:!0,selections:[l,q],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},Q={alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"displayName",storageKey:null},{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[g,U,$,H,G,W,V,{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:[{alias:null,args:null,concreteType:"AdditionalImages",kind:"LinkedField",name:"additionalImages",plural:!0,selections:[q,l],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},X=[f,x,b,w,J={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],ee=[n,f,x,b,w,J],{fragment:{argumentDefinitions:t,kind:"Fragment",metadata:null,name:"UnauthDesktopFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[n,l,a,r,o,s,d,u,c,p,m,h,y,{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[v],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:S,storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:S,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:k,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:k,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:k,storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n,P,g,j,_],storageKey:null},E,D,Z,O,N,K,Y,Q],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:t,kind:"Operation",name:"UnauthDesktopFlashlightPageFetchDataPinQuery",selections:[{alias:null,args:i,concreteType:null,kind:"LinkedField",name:"v3GetPinQuery",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Pin",kind:"LinkedField",name:"data",plural:!1,selections:[n,l,a,r,o,s,d,u,c,p,m,h,y,{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:[v,J],storageKey:null},{alias:null,args:null,concreteType:"Domain",kind:"LinkedField",name:"linkDomain",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"officialUser",plural:!1,selections:X,storageKey:null},J],storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"closeupAttribution",plural:!1,selections:X,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"nativeCreator",plural:!1,selections:ee,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"pinner",plural:!1,selections:ee,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"originPinner",plural:!1,selections:ee,storageKey:null},{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:[n,P,g,j,_,J],storageKey:null},E,D,Z,O,N,K,Y,Q,J],storageKey:null}],type:"V3GetPin",abstractKey:null}],storageKey:null}]},params:{id:"5f09d38fcc19ea4defe9a2ced0ea73c23f12ec0bc0e6d4bd4f24974e35d6e8ea",metadata:{},name:"UnauthDesktopFlashlightPageFetchDataPinQuery",operationKind:"query",text:null}});et.hash="41066749b18be6f77425904cd44e3d69",e.exports=et,function(e){if("query"===e.params.operationKind){if(window.__pwsCacheRelayConcreteRequest)window.__pwsCacheRelayConcreteRequest(e);else{let t=[e.params.name,e.params.id].join(":");window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__=window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__||{},window.__PWS_RELAY_CONCRETE_REQUEST_CACHE__[t]=e}}}(et.default||et)},156577:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"UnauthProductAttribution_pin",selections:[{args:null,kind:"FragmentSpread",name:"SeeMoreButton_pin"}],type:"Pin",abstractKey:null};t.hash="2fb133623620997264f81544f7f43636",e.exports=t},875666:e=>{"use strict";var t={argumentDefinitions:[{defaultValue:!1,kind:"LocalArgument",name:"skipUnauthFragment"}],kind:"Fragment",metadata:null,name:"UnifiedPinRep_pin",selections:[{args:[{kind:"Variable",name:"skipUnauthFragment",variableName:"skipUnauthFragment"}],kind:"FragmentSpread",name:"PinRep_pin"}],type:"Pin",abstractKey:null};t.hash="ef57e3f96ab6a0ba7ea79d9d2bb3c326",e.exports=t},161186:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetInitialCropArea_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetNormalizedPinImage_pin"}],type:"Pin",abstractKey:null};t.hash="120ad104e33b94ab10be1098dc10d74b",e.exports=t},469656:e=>{"use strict";var t,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetNormalizedPinImage_pin",selections:[{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"height",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"width",storageKey:null}],storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"orig")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"236x")'}],type:"Pin",abstractKey:null};i.hash="3d7a6d04f923d00acfb2887f852aea16",e.exports=i},124495:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetStringifiedCommerceAuxData_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin2"}],type:"Pin",abstractKey:null};t.hash="6016b14b2081c4349ad3f3a910cc2ea7",e.exports=t},579744:e=>{"use strict";var t,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useGetStringifiedCommerceAuxData_pin2",selections:[{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdpPlus",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isEligibleForPdp",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isOosProduct",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"isStaleProduct",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,concreteType:"Brand",kind:"LinkedField",name:"brand",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"signature",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ShippingInfo",kind:"LinkedField",name:"shippingInfo",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"freeShippingPrice",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"freeShippingValue",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariantSet",kind:"LinkedField",name:"variantSet",plural:!1,selections:[{alias:null,args:null,concreteType:"DimensionMetadata",kind:"LinkedField",name:"dimensionMetadata",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"values",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"ProductVariant",kind:"LinkedField",name:"variants",plural:!0,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"itemId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"itemSetId",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"shoppingFlags",storageKey:null},{alias:null,args:null,concreteType:"AggregatedPinData",kind:"LinkedField",name:"aggregatedPinData",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"isShopTheLook",storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"StoryPinData",kind:"LinkedField",name:"storyPinData",plural:!1,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"storyPinDataId",storageKey:null}],type:"Pin",abstractKey:null};i.hash="f59a904fce00a4dccdfb5e76e2824d4a",e.exports=i},270643:e=>{"use strict";var t={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useLogSwipe_pin",selections:[{args:null,kind:"FragmentSpread",name:"useGetStringifiedCommerceAuxData_pin"}],type:"Pin",abstractKey:null};t.hash="dbfca9820e0aa1302554a0137a270b16",e.exports=t},47737:e=>{"use strict";var t,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"useNormalizePinData_pin",selections:[{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedDescription",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"closeupUnifiedTitle",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"category",storageKey:null},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"orig")'},{alias:null,args:null,kind:"ScalarField",name:"link",storageKey:null},{alias:null,args:null,concreteType:"RichPinDataView",kind:"LinkedField",name:"richMetadata",plural:!1,selections:t=[{alias:null,args:null,concreteType:"RichPinProductMetadata",kind:"LinkedField",name:"products",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,concreteType:"OfferSummary",kind:"LinkedField",name:"offerSummary",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,concreteType:"RichPinGridData",kind:"LinkedField",name:"richSummary",plural:!1,selections:t,storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"trackedLink",storageKey:null}],type:"Pin",abstractKey:null};i.hash="01a93671cde480baa2cfd8b781589acd",e.exports=i},460863:e=>{"use strict";var t,i={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"usePinImageUrls_pin",selections:[{alias:"imageSpec_60x60",args:[{kind:"Literal",name:"spec",value:"60x60"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t=[{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null}],storageKey:'images(spec:"60x60")'},{alias:"imageSpec_136x136",args:[{kind:"Literal",name:"spec",value:"136x136"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"136x136")'},{alias:"imageSpec_170x",args:[{kind:"Literal",name:"spec",value:"170x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"170x")'},{alias:"imageSpec_236x",args:[{kind:"Literal",name:"spec",value:"236x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"236x")'},{alias:"imageSpec_474x",args:[{kind:"Literal",name:"spec",value:"474x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"474x")'},{alias:"imageSpec_564x",args:[{kind:"Literal",name:"spec",value:"564x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"564x")'},{alias:"imageSpec_736x",args:[{kind:"Literal",name:"spec",value:"736x"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"736x")'},{alias:"imageSpec_600x315",args:[{kind:"Literal",name:"spec",value:"600x315"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"600x315")'},{alias:"imageSpec_orig",args:[{kind:"Literal",name:"spec",value:"orig"}],concreteType:"ImageDetails",kind:"LinkedField",name:"images",plural:!1,selections:t,storageKey:'images(spec:"orig")'}],type:"Pin",abstractKey:null};i.hash="b7ea441f2c20a68b323088ebe3847835",e.exports=i},269458:(e,t,i)=>{(window.__PWS_LOADED_HANDLERS__=window.__PWS_LOADED_HANDLERS__||{})["www/pin/[id]/visual-search"]=function(){return i(434788).Z}},459151:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(883119),l=i(785893);function a({currentPrice:e,onlyShowCurrentPrice:t,originalPrice:i,textSize:a,weight:r}){let o=a||"200";return(0,l.jsxs)(n.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:[e&&(0,l.jsx)(n.xv,{color:"default",size:o,weight:null!=r?r:"bold",children:e}),i&&i!==e&&!t&&(0,l.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:(0,l.jsx)(n.xv,{color:"subtle",size:o,weight:null!=r?r:"bold",children:i})})]})}},361259:(e,t,i)=>{"use strict";i.d(t,{$:()=>u,r:()=>c});var n=i(667294),l=i(425288),a=i(497529),r=i(780280),o=i(829407),s=i(785893);let{Provider:d,useHook:u}=(0,l.Z)("PinRep");function c({children:e}){let{isAuthenticated:t}=(0,r.B)(),[i,l]=(0,n.useState)(!0),[u,c]=(0,n.useState)(!1),p=(0,a.Z)(1000069);(0,o.Z)(()=>{let e=async()=>{var e,i,n,a;if(!t){l(!1);return}let r=await p.fetchAllExperiences();r&&r.payload&&(null===(e=r.payload.experiences)||void 0===e?void 0:null===(i=e[1000069])||void 0===i?void 0:i.experience_id)===500417&&null!==(n=r.payload.experiences)&&void 0!==n&&null!==(a=n[1000069])&&void 0!==a&&a.display_data.hide_footer?p.viewExperience(1000069,500417):l(!1),c(!0)};e()});let m=(0,n.useMemo)(()=>({hasSimplifiedPinGridExpLoaded:u,hidePinRepFooter:i}),[u,i]);return(0,s.jsx)(d,{value:m,children:e})}},187638:(e,t,i)=>{"use strict";function n(e){switch(e){case"flashlight":return"flashlight";case"stela":return"stela";case"stl":return"stl";default:return null}}function l({isShopTheLook:e,showFlashlightButton:t,showShopButton:i,showStelaDots:n}){return t&&!n?"flashlight":i?e?"stl":"stela":null}i.d(t,{W:()=>n,Z:()=>l})},813982:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m});var n=i(667294),l=i(883119),a=i(890921),r=i(407043),o=i(356997),s=i(898781),d=i(829407),u=i(865607),c=i(143649),p=i(785893);function m({cropSource:e,filterOptions:t,filterType:i,handleFilterChange:m,viewParameter:h,viewType:g,title:_}){let{logContextEvent:y}=(0,r.v)(),v=(0,s.ZP)(),f=(0,a.Z)(),[x]=(0,n.useState)(""),[b,w]=(0,n.useState)(!0),S=f?14325:13469,k=()=>{y({event_type:13,component:S,view_type:g,view_parameter:h,aux_data:{commerce_data:JSON.stringify({source:(0,c.Z)({cropSource:e,viewType:g})}),filter_type:i}})};(0,d.Z)(()=>{k()});let P=n=>{var l,a;let r=t[n];y({event_type:101,component:S,view_type:g,view_parameter:h,aux_data:{commerce_data:JSON.stringify({source:(0,c.Z)({cropSource:e,viewType:g}),filter_value:null!==(l=null!==(a=r.string_value)&&void 0!==a?a:r.numeric_value)&&void 0!==l?l:r.search_type,select:!r.checked}),filter_type:i}}),m(n)};return(0,p.jsxs)(n.Fragment,{children:[(0,p.jsx)(l.xu,{marginBottom:2,children:(0,p.jsxs)(l.kC,{alignItems:"center",justifyContent:"between",children:[(0,p.jsx)(l.xv,{weight:"bold",children:_||v.bt("Vendeurs", "Sellers", "ProductFilters.Domains.HeaderText", undefined, true)}),(0,p.jsx)(l.xu,{flex:"none",children:(0,p.jsx)(l.hU,{accessibilityLabel:v.bt("Filtre de domaine", "Domain filter", "accessibility label for the icon button to open or close domain filter", undefined, true),icon:b?"arrow-up":"arrow-down",iconColor:"darkGray",onClick:()=>{w(!b),y({event_type:101,component:S,element:f?13522:11547,view_type:g,view_parameter:h,aux_data:{commerce_data:JSON.stringify({filter:b?"collapsed":"expanded"}),filter_type:i}}),b||k()},size:"sm"})})]})}),b?(0,p.jsx)(n.Fragment,{children:t.map((e,t)=>e.label.toLowerCase().includes(x.toLowerCase())&&(0,p.jsx)(l.iP,{onTap:()=>P(t),children:(0,p.jsxs)(l.xu,{alignItems:"center","data-test-id":"multi-select-option",direction:"row",display:"flex",marginBottom:3,children:[(0,p.jsx)(l.xu,{marginEnd:3,children:(0,p.jsx)(o.qE,{name:e.label||"",size:"sm",src:e.image_url})}),(0,p.jsxs)(l.kC,{alignItems:"center",direction:"row",flex:"grow",children:[(0,p.jsx)(l.xv,{children:e.label}),e.is_verified_merchant&&(0,p.jsx)(l.xu,{marginStart:1,children:(0,p.jsx)(u.Z,{isVerifiedMerchant:!0,size:"xs"})})]}),(0,p.jsx)(l.xu,{"data-test-id":e.checked?"option-selected":void 0,margin:-2,marginBottom:-3,marginTop:-3,children:(0,p.jsx)(l.hU,{accessibilityLabel:v.bt("Options de filtre de domaine", "Domain Filter Option", "Accessibility label for radio button of domain filter choices", undefined, true),icon:e.checked?"check-circle":"circle-outline",iconColor:"darkGray",onClick:()=>P(t),size:"lg"})})]})},e.label))}):(0,p.jsx)(l.xu,{width:"80%",children:(0,p.jsx)(l.xv,{color:"subtle",size:"200",children:function(e=[],t){let i=e.filter(e=>e.checked),n=i.length,l=0===n?t.bt("Tous", "All", "text indicates that no domain filter is currently applied for filtering", undefined, true):`(${n}) ${i.map(e=>e.label).join(", ")}`;return l}(t,v)})})]})}},914917:(e,t,i)=>{"use strict";i.d(t,{Z:()=>b});var n=i(667294),l=i(883119),a=i(479216),r=i(529518),o=i(780280),s=i(785893);function d(e,t,i,n){let l=(0,r.c3)((0,r.$X)(e,!!t),i,!!t);return n&&(l=l.slice(0,-3)),l}function u({valueInMicroCurrency:e,requestContext:t,currencyCode:i,disableAutoFormatOnChange:o,hasFractionalCents:u,roundValue:c,onValueParsed:p,autoComplete:m,placeholder:h,errorMessage:g,id:_}){let y=i&&a.XD[i]||"",v="";if("number"==typeof e){let i=d(e,u,t.locale,c);v=`${y}${i}`}let[f,x]=(0,n.useState)(v);(0,n.useEffect)(()=>{if(!o&&null!=e&&""===f){let i=d(e,u,t.locale,c);x(i)}},[f,o,u,t,c,e]);let b=(e,i,n,l)=>{let a="";if(null==e)a="";else{let i=d(e,n,t.locale,l);a=`${y}${i}`}return a},w=()=>{let e;let i=(0,r.qq)(f,t.locale,!!u);e=""===f?null:Number.isNaN(i)?Number.MIN_VALUE:(0,r.y)(i,!!u);let n=b(e,f,!!u,c);x(n),p(e)};return(0,s.jsx)(l.nv,{autoComplete:m,errorMessage:g,id:_,onBlur:()=>{w()},onChange:({value:e})=>x(e),placeholder:h,size:"lg",value:f})}function c(e){return(0,s.jsx)(u,{...e,requestContext:(0,o.B)()})}var p=i(898781);function m({CustomMaxField:e,CustomMinField:t,handleMaxChange:i,handleMinChange:a,maxHeading:r,minHeading:o,max:d,min:u}){let c=(0,p.ZP)();return(0,s.jsxs)(n.Fragment,{children:[(0,s.jsxs)(l.kC,{direction:"row",children:[(0,s.jsx)(l.sg,{span:7,children:(0,s.jsx)(l.xv,{size:"200",children:null!=o?o:c.bt("Min", "Min", "rangeFilter.min", undefined, true)})}),(0,s.jsx)(l.sg,{span:5,children:(0,s.jsx)(l.xv,{size:"200",children:null!=r?r:c.bt("Max", "Max", "rangeFilter.max", undefined, true)})})]}),(0,s.jsxs)(l.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"center",marginTop:2,children:[(0,s.jsx)(l.sg,{span:5,children:t?(0,s.jsx)(t,{value:u}):(0,s.jsx)(l.Ki,{autoComplete:"off",id:"min",onChange:({value:e})=>{a&&a(e)},size:"lg",value:u})}),(0,s.jsx)(l.sg,{span:2,children:(0,s.jsx)(l.xv,{align:"center",color:"subtle",size:"200",children:c.bt("à", "to", "Min to Max", undefined, true)})}),(0,s.jsx)(l.sg,{span:5,children:e?(0,s.jsx)(e,{value:d}):(0,s.jsx)(l.Ki,{autoComplete:"off",id:"max",onChange:({value:e})=>{i&&i(e)},size:"lg",value:d})})]})]})}var h=i(890921),g=i(407043),_=i(829407),y=i(652519),v=i(143649);function f({children:e,currencyCode:t,defaultMaxPrice:i,defaultMinPrice:r,filterType:o,logViewEvent:d,maxPrice:u,minPrice:c,title:m,viewParameter:_,viewType:y}){let{logContextEvent:v}=(0,g.v)(),f=(0,p.ZP)(),x=(0,h.Z)(),b=a.XD[t]||"",[w,S]=(0,n.useState)(!0),k=x?14324:13468;return(0,s.jsxs)(n.Fragment,{children:[(0,s.jsxs)(l.kC,{alignItems:"center",justifyContent:"between",children:[(0,s.jsx)(l.xu,{"data-test-id":"price-filter-label",children:(0,s.jsx)(l.xv,{weight:"bold",children:m||f.bt("Prix", "Price", "Header of product price filter", undefined, true)})}),(0,s.jsx)(l.xu,{flex:"none",children:(0,s.jsx)(l.hU,{accessibilityLabel:f.bt("Filtre de prix", "Price filter", "accessibility label for the icon button to open or close price filter", undefined, true),icon:w?"arrow-up":"arrow-down",iconColor:"darkGray",onClick:()=>{S(!w),v({event_type:101,component:k,element:x?13522:11547,view_type:y,view_parameter:_,aux_data:{commerce_data:JSON.stringify({filter:w?"collapsed":"expanded"}),filter_type:o}}),w||d()},size:"sm"})})]}),w?e:(0,s.jsx)(l.xv,{color:"subtle",size:"200",children:-1===u&&-1===c?f.bt("Tous", "All", "text indicates that no price filter is currently applied for filtering", undefined, true):-1===u?`${b}${c} – ${b}${Math.ceil(i)}+`:-1===c?`${b}${Math.floor(r)} – ${b}${u}`:`${b}${c} – ${b}${u}`})]})}function x({cropSource:e,currencyCode:t,defaultMaxPrice:i,defaultMinPrice:n,disableAutoFormatOnChange:r,handleMaxPriceChange:o,handleMinPriceChange:d,instructions:u,maxPrice:h,minPrice:g,onRangeChange:_,uiType:v}){let f=(0,p.ZP)(),x=a.XD[t]||"",b=Math.ceil(i),w=Math.floor(n),S=-1===g&&-1===h;return(0,s.jsxs)(l.xu,{paddingY:4,children:["slider"===v&&(0,s.jsx)(y.Z,{cropSource:e,currencyType:t,handlePriceChange:([e,t])=>{null==_||_(),e!==g&&d(e),t!==h&&o(t)},instructions:u||"",lowerBound:n,maxPrice:h,minPrice:g,upperBound:i}),"number-boxes"===v&&(0,s.jsx)(m,{CustomMaxField:({value:e})=>(0,s.jsx)(l.xu,{"data-test-id":"max-price-filter",children:(0,s.jsx)(c,{autoComplete:"off",currencyCode:t,disableAutoFormatOnChange:r,id:"max_price",onValueParsed:e=>{o((e||0)/1e6)},placeholder:`${x}${b}`,roundValue:!0,valueInMicroCurrency:S?null:e})}),CustomMinField:({value:e})=>(0,s.jsx)(l.xu,{"data-test-id":"min-price-filter",children:(0,s.jsx)(c,{autoComplete:"off",currencyCode:t,disableAutoFormatOnChange:r,id:"min_price",onValueParsed:e=>{d((e||0)/1e6)},placeholder:`${x}${w}`,roundValue:!0,valueInMicroCurrency:S?null:e})}),max:-1===h?1e6*b:1e6*h,maxHeading:f.bt("Max", "Max", "Maximum Price", undefined, true),min:-1===g?1e6*w:1e6*g,minHeading:f.bt("Min", "Min", "Minimum Price", undefined, true)})]})}function b({cropSource:e,currencyCode:t,defaultMaxPrice:i,defaultMinPrice:l,disableAutoFormatOnChange:a,filterType:r,handleMaxPriceChange:o,handleMinPriceChange:d,instructions:u,isCollapsible:c,maxPrice:p,minPrice:m,onRangeChange:y,title:b,uiType:w,viewParameter:S,viewType:k}){let{logContextEvent:P}=(0,g.v)(),j=(0,h.Z)(),I=()=>{P({event_type:13,component:j?14324:13468,view_type:k,view_parameter:S,aux_data:{commerce_data:JSON.stringify({source:(0,v.Z)({cropSource:e,viewType:k})}),filter_type:r}})};return(0,_.Z)(()=>{I()}),(0,s.jsx)(n.Fragment,{children:c?(0,s.jsx)(f,{currencyCode:t,defaultMaxPrice:i,defaultMinPrice:l,filterType:r,logViewEvent:I,maxPrice:p,minPrice:m,title:b,viewParameter:S,viewType:k,children:(0,s.jsx)(x,{cropSource:e,currencyCode:t,defaultMaxPrice:i,defaultMinPrice:l,disableAutoFormatOnChange:a,handleMaxPriceChange:o,handleMinPriceChange:d,instructions:u,isCollapsible:!0,maxPrice:p,minPrice:m,onRangeChange:y,uiType:w})}):(0,s.jsx)(x,{cropSource:e,currencyCode:t,defaultMaxPrice:i,defaultMinPrice:l,disableAutoFormatOnChange:a,handleMaxPriceChange:o,handleMinPriceChange:d,instructions:u,maxPrice:p,minPrice:m,onRangeChange:y,uiType:w})})}},36022:(e,t,i)=>{"use strict";i.d(t,{$:()=>n,v:()=>l});let n=50,l={APPLIED:"applied",CLEARED:"cleared",MODIFIED:"modified",SUBMITTED:"submitted",FAILED:"failed"}},890921:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(773285),l=i(19121);function a(){let{isAuth:e,country:t}=(0,l.Z)(),{checkExperiment:i}=(0,n.F)();if(!e)return!1;let{anyEnabled:a}=i("web_search_unified_content_filters_international");return"US"===t||a}},180549:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var n=i(616550),l=i(883119),a=i(407043),r=i(558068),o=i(898781),s=i(785893);function d({arrowType:e,pinId:t,viewParameter:i,viewType:d}){let u=(0,o.ZP)(),c=(0,n.k6)(),{previous:p}=(0,r.Hv)(),{logContextEvent:m}=(0,a.v)();return(0,s.jsx)(l.xu,{"data-test-id":"go-back-button",children:(0,s.jsx)(l.hU,{accessibilityLabel:u.bt("Retour", "Go back", "Accessible icon for close button", undefined, true),icon:null!=e?e:"directional-arrow-left",iconColor:"darkGray",onClick:()=>{if(m({event_type:101,view_type:d,element:34,view_parameter:i}),0===p.length){c.replace(`/pin/${t}/`);return}c.goBack()}})})}},363957:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(826067);function l(e){let t=(0,n.mB)(e.search),i=parseInt(t.x,10),l=parseInt(t.y,10),a=parseInt(t.w,10),r=parseInt(t.h,10),o=!function(...e){return e.every(Number.isInteger)}(i,l,a,r)?null:{x:i,y:l,w:a,h:r};return o}},862670:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var n,l=i(667294);i(167912);var a=i(485019),r=i(916117),o=i(223008),s=i(483205);let d=void 0!==n?n:n=i(161186);function u({pinKey:e}){let t=(0,r.Z)(d,e),{getNormalizedPinImage:i}=(0,o.Z)({pinKey:t,maxWidth:s.RZ}),{width:n,height:u}=i(),c=(0,l.useCallback)(({initialCropArea:e})=>e||{x:a.S,y:a.S,w:n-2*a.S,h:u-2*a.S},[u,n]);return{getInitialCropArea:c}}},175644:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n=i(667294),l=i(883119),a=i(407043),r=i(444445),o=i(745312),s=i(96939),d=i(8742),u=i(785893);function c({action:e,component:t,dangerouslySetActionUrl:i,element:c,contextLogData:p,id:m,objects:h,pwtTrackImageLoad:g,surface:_,viewType:y,viewParameter:v}){let{logContextEvent:f}=(0,a.v)(),x=null!=e&&e.url&&e.text?n=>(0,u.jsx)(s.Z,{coverImages:n.images,height:r.yF,onClick:()=>f({event_type:101,view_type:y,view_parameter:v,component:t,element:c,aux_data:{story_id:m,...p}}),text:e.text,url:null!=i?i:e.url,width:r.yF},"actionBubble"):null,{containerRef:b,itemsToRender:w,actionItem:S}=(0,o.n)({items:h,itemWidth:r.yF,itemGap:r.oX,actionItemType:x?"one":void 0});return(0,n.useEffect)(()=>{w.length>0&&g&&g()},[w,g]),(0,u.jsxs)(o.Z,{containerRef:b,itemGap:r.oX,children:[w.map((e,i)=>(0,u.jsx)(l.xu,{"data-grid-item":"true",flex:"none",width:r.yF,children:(0,u.jsx)(d.ZP,{authDesktopSurface:null!=_?_:"ShoppingDynamicHeightGrid",auxData:p,componentType:t,duploQueryRef:null,pin:e,pinId:e.id,pinImageCrop:{height:r.yF,width:r.yF},slotIndex:i,viewParameter:v,viewType:y})},e.id)),S&&(null==x?void 0:x(S))]})}},175892:(e,t,i)=>{"use strict";i.d(t,{Z:()=>N});var n=i(616550),l=i(883119),a=i(407043),r=i(704115),o=i(829407),s=i(667294),d=i(898781),u=i(390598),c=i(214494),p=i(186656),m=i(121151),h=i(499128),g=i(897243),_=i(349700),y=i(784590),v=i(343341),f=i(19121),x=i(487392),b=i(785352),w=i(833991),S=i(977558),k=i(35066),P=i(970023),j=i(785893);let I=new l.H3([new l.Ry(w.HW),new l.Ry(S.fe)]);function T({onFileUpload:e}){let t=(0,d.ZP)(),[i,n]=(0,s.useState)(!1),a=(0,s.useRef)(null),r=t.bt("Importer depuis l’ordinateur", "Upload from computer", "ProductGroupDetailsModal.uploadFromComputer", undefined, true);return(0,j.jsxs)(l.kC,{justifyContent:"center",children:[(0,j.jsx)(l.hU,{ref:a,accessibilityExpanded:i,accessibilityHaspopup:!0,accessibilityLabel:t.bt("Menu d’importation des images de couverture des groupes de produits", "Upload product group cover image menu", "ProductGroupDetailsModal.productGroupCoverImageA11y", undefined, true),bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:()=>n(e=>!e),size:"lg"}),i&&(0,j.jsx)(l.Lt,{anchor:a.current,disableMobileUI:!0,id:"product-group-image-dropdown",onDismiss:()=>n(!1),children:(0,j.jsx)(l.Lt.Item,{onSelect:()=>{n(!1),e()},option:{value:r,label:r}})})]})}function C({image:e,onFileUpload:t,onError:i}){let n=(0,d.ZP)(),a=n.bt("Image de couverture du groupe de produits", "Product Group Cover Image", "ProductGroupDetailsModal.productGroupCoverImageAlt", undefined, true);return(0,j.jsxs)(l.xu,{position:"relative",children:[(0,j.jsx)(l.xu,{height:316,overflow:"hidden",rounding:5,width:316,children:(0,j.jsx)(l.Ee,{alt:a,color:"#EFEFEF",fit:"cover",naturalHeight:1,naturalWidth:1,onError:i,src:e})}),(0,j.jsx)(l.xu,{padding:4,position:"absolute",right:!0,top:!0,children:(0,j.jsx)(T,{onFileUpload:t})})]})}function F({onDismiss:e,onSubmit:t,productGroup:i}){var n,r,o;let{logContextEvent:u}=(0,a.v)(),w=(0,d.ZP)(),S=w.bt("Modifier l’affichage du groupe de produits", "Edit product group display", "ProductGroupDetailsModal.heading", undefined, true),T=(0,f.Z)(),F=T.id||"",A=`/v3/business/users/${F}/storefront/product_group_image/`,[E,R]=(0,s.useState)(""),[D,L]=(0,s.useState)(""),[Z,M]=(0,s.useState)(),[O,z]=(0,s.useState)(),[N,K]=(0,s.useState)(!1),[U,B]=(0,s.useState)(0),[$]=(0,s.useState)(new Date().getTime()),H=i.groupType!==P.yh,{merchantId:G,advertiserId:W}=(0,x.Z)(),{showOneToast:V}=(0,v.F9)(),{updateStorefrontLastUpdated:q}=(0,k.S)(),Y=(0,b.I)({advertiserId:W,merchantId:G,productGroupsIds:[i.entityId],uniq:$},!1,!0),Q=(0,y.Z)({name:"ApiResource",options:{url:A,data:{product_group_ids:[i.entityId]},uniq:$},noCache:!0}),J=(0,s.useRef)(),X=Number(i.entityId),ee=null===(n=Y.data)||void 0===n?void 0:n.find(e=>e.id===X),et=Y.isLoaded&&Q.isLoaded,ei=ee&&(E!==ee.name||D!==(ee.description||"")||!!Z),en=ee&&E!==ee.name,el=ee&&D!==(ee.description||""),ea=et&&(((null===(r=Q.data)||void 0===r?void 0:r[i.entityId])||{})[0]||{}),er=ea?(0,P.cB)((0,g.b)(ea)):null,eo=(null===(o=i.previewPins)||void 0===o?void 0:o[0])||{},es=eo.imageSignature,ed=eo.images&&(0,P.cB)(eo.images),eu=O||[er,ed].filter(e=>!!e)[U];(0,s.useEffect)(()=>{ee&&(R(ee.name||""),L(ee.description||""))},[ee]),(0,s.useEffect)(()=>{u({event_type:9854,component:13998})},[u]);let ec=()=>{e(),u({event_type:9856,component:13998})},ep=w.bt("Enregistrer", "Save", "ProductGroupDetailsModal.SaveBtn", undefined, true),em=w.bt("Annuler", "Cancel", "ProductGroupDetailsModal.CancelBtn", undefined, true);return(0,j.jsx)(l.mh,{zIndex:I,children:(0,j.jsx)(m.ZP,{accessibilityModalLabel:S,align:"center",footer:et?(0,j.jsxs)(l.kC,{alignItems:"start",children:[(0,j.jsx)(l.xu,{width:"50%",children:(0,j.jsx)(l.xv,{size:"300",children:(0,_.nk)(w.bt("Pour modifier les articles dans ce groupe de produits, rendez-vous sur {{catalogsLink}}", "To edit items in this product group, visit {{catalogsLink}}", "ProductGroupDetailsModal.coverImage", undefined, true),{catalogsLink:(0,j.jsx)(l.rU,{display:"inlineBlock",href:"/product-catalogs",target:"blank",underline:"hover",children:(0,j.jsx)(l.xv,{inline:!0,weight:"bold",children:w.bt("Catalogues Pinterest", "Pinterest Catalogs", "ProductGroupDetailsModal.catalogsLink", undefined, true)})},"product-catalogs-link")})})}),(0,j.jsx)(l.xu,{width:"50%",children:(0,j.jsxs)(l.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"end",children:[(0,j.jsx)(l.zx,{color:"gray",onClick:ec,text:em}),(0,j.jsx)(l.zx,{color:"red",disabled:!ei,onClick:()=>{let n=er?Z:Z||es,l=[],a=[];n&&(l.push((0,p.Z)({url:A,method:"PUT",data:{image_signatures:[n],product_group_id:i.entityId}})),a.push("cover_image")),(en||el)&&(l.push(c.Z.create("ProductGroupsResource",{name:E,description:D,productGroupId:Number(i.entityId),filters:null==ee?void 0:ee.filter_v2}).callUpdate()),en&&a.push("name"),el&&a.push("description")),u({event_type:9857,component:13998,aux_data:{product_group_modal_changes:a.join(",")}}),e(),Promise.all(l).then(()=>{t(),q(new Date().getTime()),V(({hideToast:e})=>(0,j.jsx)("div",{className:"ProductGroupSavedToast",children:(0,j.jsx)(h.ZP,{duration:P.QE,onHide:e,text:w.bt("Groupe de produits enregistré", "Product group saved", "MerchantStorefront.ProductGroupDetailsModal.pgSaved", undefined, true)})}))})},text:ep})]})})]},"product-group-details-footer"):(0,j.jsx)(s.Fragment,{}),heading:S,onDismiss:ec,size:H?"md":"sm",children:(0,j.jsx)(l.xu,{marginBottom:2,paddingX:8,children:et?(0,j.jsxs)(l.kC,{justifyContent:"center",children:[(0,j.jsxs)(l.xu,{width:320,children:[(0,j.jsx)(l.xu,{marginBottom:4,children:(0,j.jsx)(l.xv,{size:"300",weight:"bold",children:w.bt("Image de couverture", "Cover image", "ProductGroupDetailsModal.coverImage", undefined, true)})}),(0,j.jsx)("input",{ref:J,accept:"image/*","data-test-id":"cover-image",id:"product-group-image-upload",onChange:e=>{if(e.target instanceof HTMLInputElement){let t=e.target.files[0],i=new FileReader;t&&i.readAsDataURL(t),i.addEventListener("load",()=>{K(!0),u({event_type:9855,component:13998}),(0,p.Z)({url:A,method:"POST",data:{image_base64:i.result}}).then(e=>{var t;M(null===(t=e.resource_response.data)||void 0===t?void 0:t.image_signature),K(!1),"string"==typeof i.result&&z(i.result)})},!1)}},style:{display:"none"},type:"file"}),N&&(0,j.jsx)(l.xu,{color:"secondary",direction:"column",display:"flex",height:316,justifyContent:"center",rounding:5,width:316,children:(0,j.jsx)(l.$j,{accessibilityLabel:w.bt("Importation de l’image de couverture du groupe de produits", "Uploading product group cover image", "ProductGroupDetailsModal.uploadingCoverImage", undefined, true),show:!0})}),!N&&eu&&(0,j.jsx)(C,{image:eu,onError:()=>B(U+1),onFileUpload:()=>{var e;null===(e=J.current)||void 0===e||e.click()}})]}),H&&(0,j.jsxs)(l.xu,{marginStart:4,width:320,children:[(0,j.jsx)(l.xu,{marginBottom:4,children:(0,j.jsx)(l.xv,{size:"300",weight:"bold",children:w.bt("Titre", "Title", "ProductGroupDetailsModal.name", undefined, true)})}),(0,j.jsx)(l.nv,{id:"name",onChange:({value:e})=>R(e.slice(0,255)),size:"lg",type:"text",value:E}),(0,j.jsxs)(l.xu,{height:30,marginBottom:4,marginTop:2,children:[E&&(0,j.jsx)(l.xv,{color:"subtle",size:"100",children:w.bt("Modifier le nom de votre groupe de produits dans votre boutique le modifiera également dans les catalogues", "Changing your product group's name in your shop will also change its name in Catalogs", "ProductGroupDetailsModal.pgName", undefined, true)}),!E&&(0,j.jsx)(l.xv,{color:"error",size:"100",children:w.bt("Ce champ ne peut pas être laissé vide !", "This field can't be blank!", "ProductGroupDetailsModal.nameEmptyError", undefined, true)})]}),(0,j.jsx)(l.xu,{marginBottom:4,children:(0,j.jsx)(l.xv,{size:"300",weight:"bold",children:w.bt("Description", "Description", "ProductGroupDetailsModal.description", undefined, true)})}),(0,j.jsx)(l.xu,{height:178,children:(0,j.jsx)(l.Kx,{id:"description",onChange:({value:e})=>L(e.slice(0,155)),placeholder:w.bt("Dites en plus sur ce groupe de produits aux consommateurs sur Pinterest", "Tell shoppers on Pinterest more about this product group", "ProductGroupDetailsModal.descriptionPlaceholder", undefined, true),rows:7,value:D})})]})]}):(0,j.jsx)(l.$j,{accessibilityLabel:w.bt("Chargement des informations du groupe de produits", "Loading product group details", "ProductGroupDetailsModal.loadingSpinner", undefined, true),show:!0})})})})}let A=()=>{},E=({url:e,onClick:t,i18n:i})=>(0,j.jsx)(l.ZP,{accessibilityLabel:i.bt("Bouton Acheter", "Shop button", "ProductGroupV2.shopButton.accessibilityLabel", undefined, true),color:"white",href:e,onClick:t,size:"lg",text:i.bt("Acheter", "Shop", "ProductGroupV2.shopButton.text", undefined, true)}),R=({i18n:e})=>(0,j.jsx)(l.zx,{accessibilityLabel:e.bt("Bouton Acheter", "Shop button", "ProductGroupV2.shopButton.accessibilityLabel", undefined, true),color:"white",size:"lg",text:e.bt("Acheter", "Shop", "ProductGroupV2.shopButton.text", undefined, true)});function D({onClick:e,productGroup:t,showControls:i,url:n}){var a,r;let o=(0,d.ZP)(),c=o.bt("Modifier l’affichage du groupe de produits", "Edit product group display", "ProductGroupV2.editTooltip", undefined, true),[p,m]=(o.bt("Supprimer le groupe de produits de la boutique", "Remove product group from shop", "ProductGroupV2.removeTooltip", undefined, true),(0,s.useState)(!1)),[h,g]=(0,s.useState)(!1),_=!!(n&&e),{WIDTH:y,HEIGHT:v}=u.PRODUCT_GROUP_COVER_IMAGE_DIMENSIONS,f=y-64;return(0,j.jsxs)(l.xu,{onMouseEnter:()=>{g(!0)},onMouseLeave:()=>{g(!1)},position:"relative",children:[(0,j.jsxs)(l.xu,{position:"relative",children:[(0,j.jsxs)(l.zd,{height:v,rounding:8,width:y,children:[(0,j.jsx)(u.Z,{productGroup:{coverImages:t.coverImages,groupType:t.groupType,previewPins:null===(a=t.previewPins)||void 0===a?void 0:a.map(e=>({imageSignature:e.imageSignature,images:e.images}))}}),(0,j.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}},height:v,position:"absolute",top:!0,width:y})]}),(0,j.jsx)(l.xu,{color:"selected",height:v,opacity:h?.5:0,position:"absolute",rounding:8,top:!0,width:y})]}),i&&h&&(0,j.jsxs)(l.xu,{display:"flex",padding:8,position:"absolute",right:!0,top:!0,children:[(0,j.jsx)(l.xu,{marginEnd:0,children:(0,j.jsx)(l.u,{idealDirection:"down",text:c,children:(0,j.jsx)(l.hU,{accessibilityLabel:c,bgColor:"lightGray",icon:"edit",iconColor:"darkGray",onClick:({event:e})=>{e.stopPropagation(),e.preventDefault(),m(!0)},size:"xl"})})}),!1]}),(0,j.jsxs)(l.xu,{bottom:!0,left:!0,padding:8,position:"absolute",children:[(0,j.jsx)(l.xu,{marginBottom:5,maxWidth:f,children:(0,j.jsx)(l.X6,{color:"inverse",lineClamp:2,size:"600",children:t.name})}),h&&(0,j.jsx)(l.xu,{marginBottom:5,maxWidth:f,children:(0,j.jsx)(l.xv,{color:"inverse",size:"300",children:t.description})}),!_&&(0,j.jsx)(R,{i18n:o}),_&&(0,j.jsx)(E,{i18n:o,onClick:null!=e?e:A,url:null!=n?n:""})]}),i&&p&&(0,j.jsx)(F,{onDismiss:()=>m(!1),onSubmit:()=>m(!1),productGroup:{entityId:t.entityId,groupType:t.groupType,previewPins:null===(r=t.previewPins)||void 0===r?void 0:r.map(e=>({imageSignature:e.imageSignature,images:e.images}))}})]})}var L=i(717615),Z=i(231947),M=i(151645),O=i(436395),z=i(316674);function N({productGroup:e,slotIndex:t}){let{logContextEvent:i}=(0,a.v)(),{data:s}=(0,O.Z)(),{search:d}=(0,n.TH)(),{pin:u}=(0,r.Z)(d),c=u?"pdp":"profile",p=null==s?void 0:s.username,m=function(){let{ownProfile:e}=function(){let{data:e}=(0,O.Z)(),t=(0,f.Z)(),i=(0,M.Z)({user:e,viewer:t}),n=(0,L.Z)(),l=(0,Z.q6)(t,null==e?void 0:e.id,n);return{isORBACProfileManager:l,ownProfile:i}}();return e}();if((0,o.Z)(()=>{var t;z.Z.StructuredFeed.ProductGroups.viewProductGroup({productGroupId:e.entityId,source:c,groupType:null!==(t=e.groupType)&&void 0!==t?t:"",componentType:13698},i)}),!p)return null;let h=`/${p}/_shop/${e.entityId}/`;return(0,j.jsx)(l.Tg,{href:h,onTap:()=>{var n;z.Z.StructuredFeed.ProductGroups.tapProductGroup({productGroupId:e.entityId,source:c,groupType:null!==(n=e.groupType)&&void 0!==n?n:"",componentType:13698,index:t},i)},children:(0,j.jsx)(D,{productGroup:e,showControls:m})})}},288562:(e,t,i)=>{"use strict";i.d(t,{M:()=>v,Z:()=>f});var n=i(667294),l=i(883119),a=i(180549),r=i(898781),o=i(349700),s=i(773285),d=i(994912),u=i(427806),c=i(785893);function p({title:e,variant:t}){let i=(0,r.ZP)(),{checkExperiment:a}=(0,s.F)(),{anyEnabled:p}=a("web_unified_visual_feed"),m={default:(0,o.nk)(i.bt("Acheter {{ category }}", "Shop {{ category }}", "relatedProducts.stela.header", undefined, true),{category:(e||"").toLowerCase()}).join("").trim(),"unified-feed":(0,o.nk)(i.bt("{{ category }}", "{{ category }}", "unifiedHeader.stela.header", undefined, true),{category:(0,d.Z)(e||"")}).join("").trim(),"closeup-shop":"","unified-feed-no-label":"","closeup-shop-idea-pin":i.bt("Acheter des articles similaires", "Shop similar items", "relatedProducts.header", undefined, true),"related-products":"",flashlight:e,"shop-module":""},h={"closeup-shop":i.bt("Acheter des articles similaires", "Shop similar items", "relatedProducts.header", undefined, true),"unified-feed":"","unified-feed-no-label":"","related-products":i.bt("Plus de produits", "More to shop", "relatedProducts.header", undefined, true),"closeup-shop-idea-pin":i.bt("Acheter des articles similaires", "Shop similar items", "relatedProducts.header", undefined, true),flashlight:"","shop-module":i.bt("Acheter le look", "Shop the look", "shopTheLook.header", undefined, true)},g=e?m[["flashlight","unified-feed","closeup-shop-idea-pin","shop-module"].includes(t)?t:"default"]:h[t];return(0,c.jsx)(n.Fragment,{children:g?(0,c.jsx)(l.X6,{accessibilityLevel:1,size:p&&"flashlight"!==t?"500":"400",children:g}):(0,c.jsx)(u.Z,{text:i.bt("Page produits similaires", "Related products page", "relatedProducts.unifiedFeed.accessibilityhiddenheading", undefined, true)})})}var m=i(407043),h=i(124580),g=i(780280),_=i(167234);function y({buttonText:e,handleDrawerClose:t,isDrawerOpen:i,onClick:n,largeSize:a=!1,reversed:o=!1,invertWhenDrawerIsOpen:s=!1,hasProductFiltersApplied:d=!1}){let u=(0,r.ZP)(),p=s&&i,m=(0,c.jsx)(l.JO,{accessibilityLabel:"",color:p?"light":"dark",icon:"filter"},"filterIcon"),h=e&&(0,c.jsx)(l.xv,{align:"center",color:p?"inverse":"default",weight:"bold",children:e},e);return(0,c.jsx)(l.iP,{accessibilityLabel:u.bt("Filtrer", "Filter", "productsFilterButton", undefined, true),onTap:()=>{i?t():n()},rounding:"pill",children:(0,c.jsxs)(l.xu,{position:"relative",children:[(0,c.jsx)(l.xu,{alignContent:"center",color:p?"dark":"secondary",dangerouslySetInlineStyle:a?{__style:{padding:"18px"}}:void 0,display:"flex",justifyContent:"center",minHeight:40,paddingX:4,rounding:"pill",children:(0,c.jsx)(l.kC,{alignItems:"center",gap:{row:2,column:0},children:o?[h,m]:[m,h]})}),d&&(0,c.jsx)(l.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{border:"2px solid white"}},display:"flex",height:14,justifyContent:"center",minWidth:14,position:"absolute",right:!0,rounding:"pill",top:!0})]})})}let v=60;function f({filtersText:e,handleDrawerClose:t,handleDrawerOpen:i,isDrawerOpen:r,isProductOnlyFeed:o,pinId:s,showFilter:d,title:u,variant:f,viewParameter:x,viewType:b}){let{logContextEvent:w}=(0,m.v)(),{isRTL:S}=(0,g.B)(),k=(0,n.useRef)(null);(0,n.useEffect)(()=>(d&&w({event_type:120,view_type:b,component:13467,element:11735,view_parameter:x}),k.current&&h.Z.addObstruction("top",k.current),()=>{k.current&&h.Z.removeObstruction("top",k.current)}),[d]);let P=()=>{w({event_type:101,view_type:b,component:13467,element:11735,view_parameter:x}),i&&i()};return(0,c.jsx)(_.Z,{position:"fixed",style:{width:"100%",zIndex:3,backgroundColor:"#ffffff"},children:(0,c.jsxs)(l.xu,{ref:k,alignItems:"center",color:"default","data-test-id":"related-products-header",display:"flex",height:v,justifyContent:"center",paddingY:4,position:"absolute",top:!0,width:"100%",children:[(0,c.jsx)(l.xu,{left:!S,marginStart:5,position:"absolute",right:S,children:(0,c.jsx)(a.Z,{arrowType:o?"directional-arrow-left":"cancel",pinId:s,viewParameter:x,viewType:b})}),(0,c.jsx)(p,{title:u,variant:f}),d&&"boolean"==typeof r&&P&&e&&t&&(0,c.jsx)(l.xu,{"data-test-id":"filter-button",left:S,marginEnd:12,position:"absolute",right:!S,children:(0,c.jsx)(y,{buttonText:e,handleDrawerClose:t,isDrawerOpen:r,onClick:P})})]})})}},515631:(e,t,i)=>{"use strict";i.d(t,{l:()=>ee,Z:()=>ei});var n,l,a=i(667294);i(167912);var r=i(616550),o=i(883119),s=i(187638),d=i(862670),u=i(865686),c=i(288562),p=i(352870),m=i(916117),h=i(276602),g=i(297852),_=i(785893);let y=void 0!==n?n:n=i(468852);function v({cropArea:e,description:t,surfaceType:i,height:n,imageSignature:l,imageUrl:a,pinKey:s,requestParams:d,trafficSource:u,viewParameter:c,width:v}){let f=(0,r.k6)(),x=(0,h.E)(),b=(0,m.Z)(y,s);return(0,_.jsx)(o.xu,{"data-test-id":"flashlight-enabled-image",height:n,overflow:"hidden",rounding:4,width:v,children:(0,_.jsxs)(o.zd,{height:n,width:v,children:[(0,_.jsx)(o.Ee,{alt:t,naturalHeight:n,naturalWidth:v,onLoad:()=>{x&&x.markConstraintComplete("visualSearchMainPinImageRender")},src:a}),(0,_.jsx)(p.Z,{customCropper:({origCrop:e,cropSource:t,title:n})=>{let l=window.location.pathname+window.location.search,a=(0,g.Z)({cropArea:e,cropSource:t,isProductPage:!1,pinId:b.entityId,requestParams:d,surfaceType:i,title:n,trafficSource:u});a!==l&&f.replace(a)},imageSignature:l,imageSize:{h:n,w:v},initialCropArea:e,pinKey:b,showAnimation:!1,viewParameter:c})]})})}var f=i(407373),x=i(83053),b=i(647945),w=i(407043),S=i(223008),k=i(773285),P=i(42447),j=i(780280),I=i(483205),T=i(700380),C=i(430323),F=i(826067),A=i(280446),E=i(829407),R=i(307603),D=i(255164),L=i(975540),Z=i(94047),M=i(985057),O=i(873476),z=i(697335),N=i(12755),K=i(36022),U=i(813982),B=i(914917),$=i(898781),H=i(143649);function G({categoryFilters:e,cropSource:t,handleCategoryChange:i,viewParameter:n,viewType:l}){let{logContextEvent:r}=(0,w.v)(),s=(0,$.ZP)(),[d,u]=(0,a.useState)(!0);return(0,_.jsxs)(a.Fragment,{children:[(0,_.jsxs)(o.kC,{alignItems:"center",justifyContent:"between",children:[(0,_.jsx)(o.xv,{weight:"bold",children:s.bt("Catégorie de produit", "Product category", "filter.category.header", undefined, true)}),(0,_.jsx)(o.xu,{flex:"none",children:(0,_.jsx)(o.hU,{accessibilityLabel:s.bt("Catégorie de produit", "Product category", "filter.category.button", undefined, true),icon:d?"arrow-up":"arrow-down",iconColor:"darkGray",onClick:()=>{u(!d),r({event_type:101,component:13535,element:11547,view_type:l,view_parameter:n,aux_data:{commerce_data:JSON.stringify({filter:d?"collapsed":"expanded"})}}),d||r({event_type:13,component:13535,view_type:l,view_parameter:n,aux_data:{commerce_data:JSON.stringify({source:(0,H.Z)({cropSource:t,viewType:l})})}})},size:"sm"})})]}),d?(0,_.jsx)(a.Fragment,{children:e.slice(0,5).map((e,t)=>(0,_.jsxs)(o.xu,{alignItems:"center",direction:"row",display:"flex",marginBottom:3,children:[(0,_.jsx)(o.xu,{flex:"grow",children:(0,_.jsx)(o.xv,{children:e.label.charAt(0).toUpperCase()+e.label.slice(1)})}),(0,_.jsx)(o.xu,{children:(0,_.jsx)(o.hU,{accessibilityLabel:s.bt("Option de filtrage par catégorie", "Category Filter Option", "filter.category.option", undefined, true),icon:e.checked?"check-circle":"circle-outline",iconColor:"darkGray",onClick:()=>i(t),size:"sm"})})]},e.label))}):(0,_.jsx)(o.xu,{width:"80%",children:(0,_.jsx)(o.xv,{color:"subtle",size:"200",children:function(e=[],t){let i=e.filter(e=>e.checked),n=i.length,l=0===n?t.bt("Tous", "All", "filter.category.applied", undefined, true):`(${n}) ${i.map(e=>e.label).join(", ")}`;return l}(e,s)})})]})}var W=i(144226);function V(e,t){return e.filter(e=>e.checked).map(e=>e[t]).join(",")}function q(e){return e.map(e=>({...e,checked:!1}))}function Y({listOfAvailableFiltersFromAPI:e,appliedFilterValues:t,key:i,component:n,viewType:l,viewParameter:r}){let{logContextEvent:o}=(0,w.v)(),[s,d]=(0,a.useState)([]),[u,c]=(0,a.useState)(""),[p,m]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{if(e){let n=q(e),l=t?function(e,t,i){if(e){let n=decodeURI(e).split(",");return t.map(e=>n.includes(e[i])?{...e,checked:!0}:e)}return t}(t,n,i):n;d(l);let a=V(l,i);c(a)}},[e,t,i]),{filters:s,setFilters:d,submittedFilters:u,submitFilters:function(e){e!==u&&o({event_type:7472,component:n,view_type:l,view_parameter:r}),c(e),m(!1)},isFilterChanged:p,clearFilters:()=>q(s),getSelected:e=>V(e,i),handleFilterChange:function({index:e,pinId:t,auxCommerceData:a}){let c=!s[e].checked,p=[...s.slice(0,e),{...s[e],checked:c},...s.slice(e+1)];d(p),m(u!==V(p,i)),o({event_type:101,component:n,element:11548,view_type:l,view_parameter:r,aux_data:{pin_id:t,commerce_data:JSON.stringify({[i]:s[e][i],select:c,...a})}})}}}function Q({categoryFilters:e,domainFilters:t,minPrice:i,maxPrice:n},l){let a=l.bt("Filtres", "Filters", "Filter icon button to open drawer containing price filter and domain filters on related products feed", undefined, true),r=function({categoryFilters:e,domainFilters:t,minPrice:i,maxPrice:n}){let l=t?t.split(",").length:0,a=e?e.split(",").length:0;return(n||i?1:0)+l+a}({categoryFilters:e,domainFilters:t,minPrice:i,maxPrice:n}),o=r>0?` (${r})`:"";return`${a}${o}`}function J({categoryFilters:e,cropSource:t,domainFilters:i,drawerHeight:n,handleFilterChange:l,onSubmit:r,pinId:s,priceFilters:d,submittedFilters:u,updateButtonText:c,width:p,viewParameter:m,viewType:h}){let{logContextEvent:g}=(0,w.v)(),y=(0,$.ZP)();(0,E.Z)(()=>{g({event_type:13,component:13467,view_type:h,view_parameter:m,aux_data:{commerce_data:JSON.stringify({source:(0,H.Z)({cropSource:t,viewType:h})})}})});let{category:v,domain:f,max:x,min:b}=u||{},{filters:S,setFilters:k,submittedFilters:P,submitFilters:j,isFilterChanged:I,clearFilters:T,getSelected:C,handleFilterChange:F}=Y({listOfAvailableFiltersFromAPI:i,appliedFilterValues:f,key:"domain",component:13469,viewType:h,viewParameter:m}),{filters:A,setFilters:R,submittedFilters:D,submitFilters:L,isFilterChanged:Z,clearFilters:M,getSelected:O,handleFilterChange:z}=Y({listOfAvailableFiltersFromAPI:e,appliedFilterValues:v,key:"label",component:13535,viewType:h,viewParameter:m}),[N,V]=(0,a.useState)(d),[q,J]=(0,a.useState)(-1),[X,ee]=(0,a.useState)(-1),[et,ei]=(0,a.useState)(-1),[en,el]=(0,a.useState)(-1),[ea,er]=(0,a.useState)(!1);(0,a.useEffect)(()=>{!d||x&&b||V(d),b&&ee(parseInt(b,10)),x&&J(parseInt(x,10))},[d,x,b]);let{max_value:eo,min_value:es,currency_type:ed}=N||{},eu=e=>t=>{let i,n;let l=0>(t||0)?0:t;l&&g({event_type:7472,component:13468,view_type:h,view_parameter:m});let a=!1;"max"===e?(i=l||eo,-1===(n=X)&&(n=es),n>i&&(n=Math.max(i-K.$,0))):(n=l||0,-1===(i=q)&&(i=eo),i<n&&(i=n+K.$)),er(a=a||en!==n||et!==i),ee(n),J(i)};(0,a.useEffect)(()=>{c&&c(Q({categoryFilters:D,domainFilters:P,maxPrice:-1===q?void 0:q,minPrice:-1===X?void 0:X},y))},[y,q,X,N,D,P,c]);let ec=({categoryParam:e,domainParam:t,maxPrice:i,minPrice:n})=>{l({categoryParam:e,domainParam:t,maxPrice:-1!==i?i:void 0,minPrice:-1!==n?n:void 0}),ei(i),el(n),er(!1),(et!==i||en!==n)&&g({event_type:7472,component:13468,view_type:h,view_parameter:m}),j(t),L(e);let a=-1!==n,o=-1!==i,s=""!==t,d=""!==e,u=a?n.toString():"",p=o?i.toString():"",_=s?encodeURI(t):"",v=d?encodeURI(e):"";r&&r({category:v,domain:_,max:p,min:u}),c&&c(Q({categoryFilters:e,domainFilters:t,maxPrice:-1===i?void 0:i,minPrice:-1===n?void 0:n},y))};return(0,_.jsxs)(a.Fragment,{children:[(0,_.jsxs)(o.xu,{direction:"column",display:"flex",height:n-50-70,overflow:"scroll",paddingX:1,paddingY:1,width:"100%",children:[(0,_.jsxs)(o.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:3,children:[(0,_.jsx)(o.xv,{weight:"bold",children:y.bt("Filtrer", "Filter", "shopping.filter.header", undefined, true)}),(0,_.jsx)(o.zx,{onClick:()=>{J(-1),ee(-1),k(T()),R(M()),ec({categoryParam:"",domainParam:"",maxPrice:-1,minPrice:-1}),g({event_type:101,component:13467,element:11545,view_type:h,view_parameter:m})},size:"md",text:y.bt("Tout effacer", "Clear all", "filter.clear.button", undefined, true)})]}),!!N&&(0,_.jsx)(W.Z,{children:(0,_.jsx)(B.Z,{cropSource:t,currencyCode:ed,defaultMaxPrice:eo,defaultMinPrice:es,disableAutoFormatOnChange:!0,handleMaxPriceChange:eu("max"),handleMinPriceChange:eu("min"),maxPrice:q,minPrice:X,uiType:"slider",viewParameter:m,viewType:h})}),!!A&&A.length>0&&4!==t&&(0,_.jsx)(W.Z,{children:(0,_.jsx)(G,{categoryFilters:A,cropSource:t,handleCategoryChange:e=>{z({index:e,pinId:s})},viewParameter:m,viewType:h})}),!!S&&S.length>0&&(0,_.jsx)(W.Z,{children:(0,_.jsx)(U.Z,{cropSource:t,filterOptions:S,handleFilterChange:e=>{F({index:e,pinId:s,auxCommerceData:{source:(0,H.Z)({cropSource:t,viewType:h})}})},viewParameter:m,viewType:h})})]}),(0,_.jsx)(o.xu,{color:"default",display:"flex",justifyContent:"center",position:"fixed",width:p,children:(0,_.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap"}},direction:"row",display:"flex",paddingY:2,children:(0,_.jsx)(o.xu,{marginStart:2,children:(0,_.jsx)(o.sg,{span:6,children:(0,_.jsx)(o.zx,{color:"red",disabled:!(I||Z||ea),onClick:()=>{let e=C(S),t=O(A);ec({categoryParam:t,domainParam:e,maxPrice:q,minPrice:X}),g({event_type:101,component:13467,element:11546,view_type:h,view_parameter:m})},size:"md",text:y.bt("Confirmer", "Confirm", "Button to submit all selected filter options", undefined, true),type:"submit"})})})})})]})}function X({categoryFilters:e,cropSource:t,domainFilters:i,isDrawerOpen:n,handleFilterChange:l,handleSubmit:r,pinId:s,priceFilters:d,submittedFilters:u,topOffset:c=0,updateButtonText:p,viewParameter:m=3455,viewType:h}){let g=(0,z.t)(),y=g+c,[v,f]=(0,a.useState)(0),x=()=>{f(window.innerHeight-g)};return(0,a.useEffect)(()=>(x(),window.addEventListener("resize",x),()=>{window.removeEventListener("resize",x)}),[]),(0,_.jsx)(o.xu,{color:"default",dangerouslySetInlineStyle:{__style:{marginRight:n?0:-N.pG,visibility:n?"visible":"hidden",top:y}},height:v,left:!0,paddingX:N.VF,position:"fixed",width:N.pG,zIndex:new o.Ry(2),children:(0,_.jsx)(J,{categoryFilters:e,cropSource:t,domainFilters:i,drawerHeight:v,handleFilterChange:l,onSubmit:r,pinId:s,priceFilters:d,submittedFilters:u,updateButtonText:p,viewParameter:m,viewType:h,width:N.pG-N.VF*N.vc*2})})}let ee=65,et=void 0!==l?l:l=i(482495);function ei({pinKey:e}){let t=(0,r.k6)(),{logContextEvent:i}=(0,w.v)(),{checkExperiment:n}=(0,k.F)(),{isRTL:l}=(0,j.B)(),p=(0,m.Z)(et,e),{id:h}=(0,r.UO)(),{pinId:y}=(0,A.Z)(h||""),K=(0,O.Z)(),U=(0,r.TH)(),B=(0,F.mB)(U.search),{x:$,y:H,w:G,h:W,surfaceType:V,q:q,rs:Y,domain:Q,full_feed_title:J,category:ei,max:en,min:el,requestParams:ea}=B,er=(0,s.W)(V),eo={category:ei,domain:Q,min:el,max:en},es=(0,D.Z)(Number(B.cropSource)),ed=(0,M.Z)({x:$,y:H,w:G,h:W})?(0,R.Z)({x:$,y:H,w:G,h:W},!0):void 0,[eu,ec]=(0,a.useState)(ed),[ep,em]=(0,a.useState)(0),eh=(0,a.useCallback)(()=>U.pathname.includes("/products/"),[U]),[eg,e_]=(0,a.useState)(eh()),[ey,ev]=(0,a.useState)(void 0),[ef,ex]=(0,a.useState)(null),eb=(0,a.useRef)(null),[ew,eS]=(0,a.useState)(parseInt(el,10)||null),[ek,eP]=(0,a.useState)(parseInt(en,10)||null),[ej,eI]=(0,a.useState)(Q?decodeURI(Q):null),[eT,eC]=(0,a.useState)(ei?decodeURI(ei):null),[eF,eA]=(0,a.useState)(!1),[eE,eR]=(0,a.useState)(""),eD=(0,a.useCallback)(()=>eA(!0),[]),eL=(0,a.useCallback)(()=>eA(!1),[]),{anyEnabled:eZ}=n("web_unified_visual_feed"),{visualSearchFlashlightUnifiedResource:eM,visualSearchFlashlightUnifiedResource:{data:eO},filters:ez,filters:{category_filters:eN,domain_filters:eK,price_filters:eU}={},searchId:eB,setSearchId:e$}=(0,b.Z)({resourceOptions:ey}),{description:eH,imageSignature:eG,isEligibleForRelatedProducts:eW}=p,eV=({minPrice:e,maxPrice:t,domainParam:i,categoryParam:n})=>{eS(e),eP(t),eI(i),eC(n)},eq=0,eY="",eQ=es||5,eJ=eg?"shopping":"flashlight";(0,a.useEffect)(()=>{let e=eh();e!==eg&&e_(e)},[eh,e_,eg]),(0,a.useEffect)(()=>{ef!==decodeURIComponent(J)&&ex(J?decodeURIComponent(J):null)},[ex,ef,J]);let{getInitialCropArea:eX}=(0,d.Z)({pinKey:p});(0,E.Z)(()=>{if(!eu&&p){let e=eX({initialCropArea:null}),i=(0,g.Z)({cropArea:e,cropSource:eQ,isProductPage:eg,pinId:y,requestParams:ea,searchQuery:q,surfaceType:er,title:ef,trafficSource:Y});t.replace(i)}}),(0,a.useEffect)(()=>(eb&&eb.current&&eY===y&&(eb.current.scrollTop=eq),()=>{eb&&eb.current&&(eq=eb.current.scrollTop,eY=y)}),[eb]),(0,a.useEffect)(()=>{((null==eu?void 0:eu.x)!==(null==ed?void 0:ed.x)||(null==eu?void 0:eu.y)!==(null==ed?void 0:ed.y)||(null==eu?void 0:eu.w)!==(null==ed?void 0:ed.w)||(null==eu?void 0:eu.h)!==(null==ed?void 0:ed.h))&&(ec({x:(null==ed?void 0:ed.x)||0,y:(null==ed?void 0:ed.y)||0,w:(null==ed?void 0:ed.w)||1,h:(null==ed?void 0:ed.h)||1}),e$(""))},[null==eu?void 0:eu.h,null==eu?void 0:eu.w,null==eu?void 0:eu.x,null==eu?void 0:eu.y,null==ed?void 0:ed.h,null==ed?void 0:ed.w,null==ed?void 0:ed.x,null==ed?void 0:ed.y,e$]);let e0=(0,T.Z)(()=>{window&&em(window.innerWidth)},100);(0,a.useEffect)(()=>{window&&em(window.innerWidth)},[]),(0,a.useEffect)(()=>(window&&window.addEventListener("resize",e0),()=>{window&&window.removeEventListener("resize",e0)}),[e0]);let e1=(p.visualObjects||[]).some(e=>e.isStela),e2="stl"===er,e6=eZ&&!eg&&!e2,{getNormalizedPinImage:e4}=(0,S.Z)({pinKey:p,maxWidth:I.RZ});(0,a.useEffect)(()=>{if(p.entityId){let{width:e,height:t}=e4(),i=eX({initialCropArea:eu});ev({categories:eT,crop:(0,L.Z)({cropArea:i,scaledWidth:e,scaledHeight:t}),crop_source:eQ,domains:ej,entry_source:eJ,entrypoint:K,field_set_key:"shopping_grid_item",image_signature:p.imageSignature||void 0,is_shopping:function({inUnifiedFeedExperiment:e,isProductOnlyFeed:t,isShopEntryPoint:i}){return!e||!!i||!!t}({inUnifiedFeedExperiment:eZ,isProductOnlyFeed:eg,isShopEntryPoint:e2}),pin_id:p.entityId,price_max:ek,price_min:ew,request_params:ea,source:Y})}},[eT,eQ,ej,eJ,K,eX,e4,e1,eZ,eu,eg,e2,ek,ew,p.entityId,p.imageSignature,ea,Y]);let e3=eW||eg?427:72,e8=eQ&&4===eQ?3462:3455;if((0,E.Z)(()=>{p&&!eZ&&i({event_type:13,view_type:e3,view_parameter:e8,view_data:{pin_id:y},aux_data:{commerce_data:JSON.stringify({entrypoint:eJ,pin_is_stela:e1})}})}),!p)return null;let{width:e7,height:e9,url:e5}=e4(),te=eX({initialCropArea:eu}),tt=e7+20,ti=({category:e,domain:i,min:n,max:l})=>{t.replace({pathname:`/pin/${y}/visual-search/${eg?"products/":""}`,query:{...te,cropSource:eQ,entrySource:eJ,rs:Y,category:e,domain:i,min:n,max:l},search:(0,Z.Z)({cropArea:te,cropSource:eQ,requestParams:ea,surfaceType:er,title:ef,trafficSource:Y})})},tn=eg?ep:ep-tt,tl=(0,f.Z)(ez),ta=!eZ||eZ&&eg,tr=!eg;return(0,_.jsx)(P.Z,{constraints:["shoppingModuleRender","visualSearchMainPinImageRender"],measureGridVisuallyComplete:!0,surface:"visual_search",children:(0,_.jsx)(C.Z,{objectId:eB,view:e3,children:(0,_.jsxs)(o.xu,{"data-test-id":"related-products",children:[(0,_.jsx)(c.Z,{filtersText:eE,handleDrawerClose:eL,handleDrawerOpen:eD,isDrawerOpen:eF,isProductOnlyFeed:eg,pinId:y,showFilter:!e6&&tl,title:ta?ef:"",variant:function({hasLabel:e,isEligibleForRelatedProducts:t,isProductOnlyFeed:i,isShopEntryPoint:n,isUnifiedFeed:l}){return n?"shop-module":!e&&l?"unified-feed-no-label":i||t&&!l?"closeup-shop":t&&l?"unified-feed":"related-products"}({hasLabel:!!ef,isEligibleForRelatedProducts:eW,isProductOnlyFeed:eg,isShopEntryPoint:e2,isUnifiedFeed:eZ}),viewParameter:e8,viewType:e3}),(0,_.jsx)(o.xu,{marginTop:2,children:(0,_.jsx)(z.c,{children:e=>(0,_.jsxs)(o.xu,{alignItems:"stretch",direction:"row",display:"flex",justifyContent:"start",marginTop:12,children:[tl&&(0,_.jsx)(X,{categoryFilters:eN,cropSource:eQ,domainFilters:eK,handleFilterChange:eV,handleSubmit:ti,isDrawerOpen:eF,pinId:y,priceFilters:eU,submittedFilters:eo,topOffset:c.M,updateButtonText:e=>{eR(e)},viewParameter:e8,viewType:e3}),tr&&(0,_.jsx)(o.xu,{ref:eb,bottom:!0,dangerouslySetInlineStyle:{__style:{top:e+ee+32,marginBottom:10,left:!l&&eF?N.pG:0,right:l?0:void 0}},height:"inherit",marginStart:!l&&eF?0:12,overflow:"auto",position:"fixed",width:tt,children:(0,_.jsx)(v,{cropArea:te,cropSource:eQ,description:null!=eH?eH:"",height:e9,imageSignature:eG||"",imageUrl:e5,pinKey:p,requestParams:ea,searchQuery:q,surfaceType:er,trafficSource:Y,viewParameter:e8,viewType:e3,width:e7})}),(0,_.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:(0,u.Z)({cropperWidth:tt,top:ee-16,isFilterOpened:eF,isProductOnlyFeed:eg,isRTL:l})},position:"relative",width:eF?tn-N.pG:tn,children:eO&&(0,_.jsx)(x.Z,{isFilterOpened:eF,isProductOnlyFeed:eg,pinKey:p,surfaceType:er,viewParameter:e8,viewType:e3,visualSearchFlashlightUnifiedResource:eM})})]})})})]})})})}},83053:(e,t,i)=>{"use strict";i.d(t,{Z:()=>P});var n,l=i(667294);i(167912);var a=i(616550),r=i(883119),o=i(175644),s=i(785893);function d({title:e}){return(0,s.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:55}},"data-test-id":"unified-feed-subheader",display:"flex",justifyContent:"center",children:(0,s.jsx)(r.X6,{accessibilityLevel:2,size:"400",children:e})})}var u=i(773285),c=i(276602),p=i(861411);let m={flashlight:72,stela:427,stl:427};function h({pinId:e,surfaceType:t,visualSearchFlashlightUnifiedResource:i}){let n=(0,a.TH)(),{checkExperiment:h}=(0,u.F)(),g=(0,c.E)(),{data:_}=i,y=(null==_?void 0:_.results)||[],v=`/pin/${e}/visual-search/products/${n.search}`,f=t?m[t]:72,x=()=>{g&&g.markConstraintComplete("shoppingModuleRender")};return(0,s.jsx)(l.Fragment,{children:y.filter(e=>"story"===e.type).map((e,t)=>{if("story"===e.type){let{action:i,id:n,objects:l,story_type:a,title:u}=e;switch(a){case"unified_visual_feed_product_upsell":let c=u.format||"",m=h("web_product_pin_rep_redesign").anyEnabled;return(0,s.jsx)(p.qS,{auxData:{story_type:a},component:14339,loggingId:n,objectIdStr:n,slotIndex:t,viewParameter:3462,viewType:f,children:({impressionTrackerRef:e})=>(0,s.jsxs)(r.xu,{ref:e,children:[c&&(0,s.jsx)(d,{title:c}),(0,s.jsx)(r.xu,{"data-test-id":"unified-feed-stela-story",marginBottom:12,marginTop:4,children:(0,s.jsx)(o.Z,{action:i,component:14339,contextLogData:{story_type:a},dangerouslySetActionUrl:v,element:179,id:n,objects:l,pwtTrackImageLoad:x,surface:m?"ShoppingModule":void 0,viewParameter:3462,viewType:f})})]})},n);case"unified_visual_feed_organic_header":return(0,s.jsx)(p.qS,{auxData:{story_type:a},component:14339,loggingId:n,objectIdStr:n,slotIndex:t,viewParameter:3462,viewType:f,children:({impressionTrackerRef:t})=>(0,s.jsx)(r.xu,{ref:t,marginBottom:4,children:(0,s.jsx)(d,{title:e.title.format||""})})},n)}}return null})})}var g=i(407043),_=i(898781),y=i(317254),v=i(700380),f=i(8742);function x({commerceData:e,isFilterOpened:t,isProductFeed:i,searchId:n,viewParameter:a,viewType:o,visualSearchFlashlightUnifiedResource:d}){let u=(0,_.ZP)(),{logContextEvent:c}=(0,g.v)(),[p,m]=(0,l.useState)(),[h,x]=(0,l.useState)(!1),b=(0,l.useRef)(null),w=(0,l.useRef)(null),S=(0,v.Z)(()=>{b.current&&m(b.current.getBoundingClientRect().y)},100);(0,l.useEffect)(()=>{var e;null===(e=w.current)||void 0===e||e.handleResize()},[t]),(0,l.useEffect)(()=>{if(!h)return window.addEventListener("scroll",S),()=>window.removeEventListener("scroll",S)}),(0,l.useEffect)(()=>{var e,t;let i=(null===(e=window)||void 0===e?void 0:e.innerHeight)||(null===(t=document.body)||void 0===t?void 0:t.clientHeight);!h&&p<i&&(x(!0),c({event_type:110,view_type:o,view_parameter:a}))},[p,c,h,x,o,a]);let{data:k,isFetching:P,fetchMore:j,isAtEnd:I}=d,T=((null==k?void 0:k.results)||[]).filter(e=>"pin"===e.type);return(0,s.jsxs)(r.xu,{"data-test-id":"visual-search-feed",children:[(0,s.jsx)(r.xu,{ref:b,marginTop:2,children:(0,s.jsx)(y.Z,{isAtEndOfFeed:I,itemCount:(T||[]).length,children:(0,s.jsx)(r.Rk,{ref:w,items:T||[],loadItems:j,minCols:1,renderItem:({data:t,itemIdx:l})=>"pin"===t.type?(0,s.jsx)(f.ZP,{authDesktopSurface:i?"ShoppingDynamicHeightGrid":"SearchItem",auxData:{commerce_data:e},componentType:0,duploQueryRef:null,pin:t,pinId:t.id,slotIndex:l,viewData:{search_identifier:n},viewParameter:a,viewType:o}):null,scrollContainer:()=>window})})}),(0,s.jsx)(r.kC,{alignItems:"stretch",justifyContent:"center",width:"100%",children:(0,s.jsx)(r.$j,{accessibilityLabel:u.bt("Chargement des résultats de la recherche visuelle", "Loading visual search results", "visualSearch.spinner.label", undefined, true),show:P})})]})}var b=i(916117),w=i(829407),S=i(999018);let k=void 0!==n?n:n=i(966498);function P({isFilterOpened:e,isProductOnlyFeed:t,pinKey:i,surfaceType:n,viewParameter:a,viewType:r,visualSearchFlashlightUnifiedResource:o}){let d=(0,b.Z)(k,i),{logContextEvent:u}=(0,g.v)(),c="stl"===n,p=c||t,{data:m}=o,_=null==m?void 0:m.search_identifier,y={is_product_only_feed:p},v=(0,S.Z)(d);(0,w.Z)(()=>{u({event_type:13,view_type:r,view_parameter:a,aux_data:v({default:y})})});let{entityId:f}=d;return(0,s.jsxs)(l.Fragment,{children:[!c&&(0,s.jsx)(h,{pinId:f,surfaceType:n,visualSearchFlashlightUnifiedResource:o}),(0,s.jsx)(x,{commerceData:y,isFilterOpened:e,isProductFeed:p,searchId:_,viewParameter:a,viewType:r,visualSearchFlashlightUnifiedResource:o})]})}},407373:(e,t,i)=>{"use strict";function n(e){let{category_filters:t,domain_filters:i,price_filters:n}=e||{};return!!t||!!i||!!n}i.d(t,{Z:()=>n})},647945:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(667294),l=i(407373),a=i(784590);function r({resourceOptions:e,setFlashlightSearchId:t}){let[i,r]=(0,n.useState)(),[o,s]=(0,n.useState)(""),[d,u]=(0,n.useState)(),c=(0,a.Z)(e?{name:"VisualSearchFlashlightUnifiedResource",options:e}:null);return(0,n.useEffect)(()=>{let{data:e}=c,i=null==e?void 0:e.search_identifier;i&&(t?t(i):s(i)),r(e)},[t,c]),(0,n.useEffect)(()=>{let{data:e}=c,t=null==e?void 0:e.search_identifier,n=null==i?void 0:i.search_identifier;!e||t&&n&&t===n||(0,l.Z)(i)||!(0,l.Z)(e)||u({category_filters:e.category_filters,domain_filters:e.domain_filters,price_filters:e.price_filters})},[d,i,c]),{visualSearchFlashlightUnifiedResource:c,filters:d,searchId:o,setSearchId:s}}},865686:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(12755);function l({cropperWidth:e,top:t,isRTL:i,isFilterOpened:l,isFlashlightPage:a,isProductOnlyFeed:r}){let o=r?0:e+40,s=e+16,d={top:t,overflow:"auto"};return i?{...d,marginRight:a?s:o}:{...d,marginLeft:a?s:l?o+n.pG:o}}},362810:(e,t,i)=>{"use strict";i.d(t,{Z:()=>_});var n=i(667294),l=i(883119),a=i(785893);function r({isTopRow:e,image:t}){var i,n,r;return(0,a.jsxs)(l.zd,{height:e?217:168,wash:!0,width:e?236:117,children:[(0,a.jsx)(l.Ee,{alt:t.alt||"",fit:"cover",naturalHeight:null!==(i=t.height)&&void 0!==i?i:1,naturalWidth:null!==(n=t.width)&&void 0!==n?n:1,src:null!==(r=t.url)&&void 0!==r?r:""}),!!t.price&&(0,a.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(255, 255, 255, 0.8)",borderRadius:"18px",color:"#111",fontSize:"10px",fontWeight:"600",lineHeight:"24px",padding:"06px"}},"data-test-id":"shopping-upsell-price",height:24,left:!0,margin:1,paddingX:2,paddingY:1,position:"absolute",top:!0,children:t.price})]})}var o=i(407043),s=i(356997),d=i(564194),u=i(310227),c=i(149230),p=i(841509),m=i(525199);let h={container:{borderRadius:`${u.Oc}px ${u.Oc}px 25px 25px`,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},content:{marginBottom:"2px"},visualOverlay:{backgroundColor:"rgba(0, 0, 0, .1)"}},g=({images:e,firstImageIndex:t})=>{let i=t+1,n=t+2;return(0,a.jsxs)(l.xu,{overflow:"hidden",rounding:4,children:[(0,a.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:h.content},children:e.at(t)?(0,a.jsx)(r,{image:e[t],isTopRow:!0}):null}),e.length>n?(0,a.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"between",children:[(0,a.jsx)(r,{image:e[i]}),(0,a.jsx)(r,{image:e[n]})]}):null]})};function _({dangerouslySetActionUrl:e,query:t,story:i,slotIndex:r}){let u,_,y,v;let{logContextEvent:f}=(0,o.v)(),{action:x,id:b,objects:w,story_type:S,subtitle:k}=i,{text:P,url:j}=x||{},[I,T]=(0,n.useState)(!1),C=(0,n.useCallback)(()=>T(!0),[T]),F=(0,n.useCallback)(()=>T(!1),[T]),A=(w||[]).reduce((e,t)=>{var i,n,l,a,r,o,s,d,u;return"pin"!==t.type?e:[...e,{domain:t.domain,image:{alt:t.title||t.description,height:null===(i=t.images)||void 0===i?void 0:null===(n=i["474x"])||void 0===n?void 0:n.height,url:null===(l=t.images)||void 0===l?void 0:null===(a=l["474x"])||void 0===a?void 0:a.url,width:null===(r=t.images)||void 0===r?void 0:null===(o=r["474x"])||void 0===o?void 0:o.width,price:null===(s=((null===(d=t.rich_summary)||void 0===d?void 0:null===(u=d.products)||void 0===u?void 0:u[0])||{}).offer_summary)||void 0===s?void 0:s.price}}]},[]),E=(A[0]||{}).domain||void 0,R={story_type:S};if(["search_product_collage_story","shop_article_story"].includes(S)?(u=2,_=43,R={...R,story_id:b,entered_query:t}):"shop_brand_story"===S||"shop_brand_affinity_story"===S?(u=1,_=92,E&&(R={...R,commerce_data:JSON.stringify({domain:E})})):["stela_in_flashlight_card","stela_in_flashlight_onecol"].includes(S)?(u=72,_=3050):"related_domain_collage"===S?(u=72,_=3455):"related_products_collage"===S&&(u=1,_=3177),["related_domain_collage","shop_brand_story","shop_brand_affinity_story"].includes(S)&&x){let e=x.user;y=e&&(e.image_medium_url||e.image_large_url),v=e&&e.full_name}let D=e||j;if(!D)return null;let L=(0,c.Z)({url:D})?"nofollow":"none";return(0,a.jsx)(d.Z,{componentType:200,contextLogData:R||{},impressionType:"Story",loggingId:S,slotIndex:r,viewParameter:_,viewType:u,children:(0,a.jsx)(l.Tg,{href:D,onTap:()=>f({event_type:101,element:372,component:200,view_type:u,view_parameter:_,aux_data:{story_type:S}}),rel:L,children:(0,a.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:h.container},onMouseEnter:C,onMouseLeave:F,overflow:"hidden",position:"relative",children:[(0,a.jsx)(g,{firstImageIndex:["related_domain_collage","related_products_collage"].includes(S)?1:0,images:A.map(({image:e})=>e)}),(0,a.jsx)(l.xu,{alignItems:"center",color:"secondary",display:"flex",justifyContent:"center",marginTop:2,paddingX:3,paddingY:k?4:2,rounding:"pill",children:(0,a.jsxs)(l.xu,{alignContent:"start",direction:"column",display:"flex",justifyContent:"center",margin:2,children:[k?(0,a.jsx)(l.xu,{marginBottom:1,children:(0,a.jsx)(l.xv,{align:"start",color:"subtle",children:k.format})}):null,(0,a.jsx)(l.xv,{align:"start",weight:"bold",children:P})]})}),v&&y&&(0,a.jsx)(l.xu,{margin:2,position:"absolute",right:!0,top:!0,children:(0,a.jsx)(s.qE,{name:v,outline:!0,size:"md",src:y})}),(0,a.jsx)(m.Z,{visibility:I?"visible":"none",children:(0,a.jsx)(p.Z,{additionalStyles:h.visualOverlay})})]})})})}},992061:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(883119),l=i(785893);function a({hovered:e,rounding:t}){return(0,l.jsx)(n.xu,{color:"transparentDarkGray",display:e?"block":"none",height:"100%",left:!0,opacity:.2,position:"fixed",rounding:t,top:!0,width:"100%",zIndex:new n.Ry(1)})}},157796:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(667294),l=i(883119),a=i(785893);function r({color:e="red",duration:t,finalProgress:i,shape:r="pill"}){let[o,s]=(0,n.useState)(!1);(0,n.useEffect)(()=>{let e=setTimeout(()=>{s(!0)},0);return()=>{clearTimeout(e)}},[]);let d="pill"===r;return(0,a.jsx)(l.xu,{color:e,dangerouslySetInlineStyle:{__style:{transform:d?`translateX(${o?"-5px":"-100%"})`:`scaleX(${o?1:0})`,transformOrigin:"left",transitionDuration:`${t}ms`,transitionTimingFunction:"ease-in"}},height:d?8:6,rounding:d?"pill":2,width:`${i}%`})}},485019:(e,t,i)=>{"use strict";i.d(t,{S:()=>v,Z:()=>b});var n=i(667294),l=i(615071),a=i(883119),r=i(112690),o=i(785893);let s={nw:0,ne:90,se:180,sw:270},d={ne:[7,-7],se:[7,7],sw:[-7,7],nw:[-7,-7]},u={nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},c=(e,t,i,n)=>{if("rounded"!==n)return`translate(${t}, ${i}), rotate(${s[e]})`;{let[n,l]=d[e];return`translate(${t+n}, ${i+l}), rotate(${s[e]})`}};function p({corner:e,x:t,y:i,size:n,cornerStyle:l}){return(0,o.jsxs)("g",{style:{cursor:u[e]},transform:c(e,t,i,l),children:[(0,o.jsx)("rect",{className:`v2cropperHandle ${e}`,fill:"rgba(0,0,0,0)",height:n,stroke:"none",width:n,x:0,y:0}),"rounded"===l?(0,o.jsx)("path",{className:`v2cropperHandle ${e}`,d:"M16 0H24V8H16C11.5817 8 8 11.5817 8 16V24H0V16C0 7.16343 7.16345 0 16 0Z",fill:"#fff"}):(0,o.jsx)("path",{className:`v2cropperHandle ${e}`,d:`M ${n} 0 L 0 0 L 0 ${n}`,fill:"none",stroke:"#fff",strokeWidth:6})]})}let m={n:"ns-resize",s:"ns-resize",e:"ew-resize",w:"ew-resize"};function h({edge:e,x:t,y:i,w:n,h:l}){return(0,o.jsx)("rect",{className:`v2cropperHandle ${e}`,fill:"rgba(0,0,0,0)",height:l,stroke:"none",style:{cursor:m[e]},width:n,x:t,y:i})}function g({x:e,y:t,w:i,h:l}){let a="rounded";return(0,o.jsxs)(n.Fragment,{children:[(0,o.jsx)(p,{corner:"nw",cornerStyle:a,size:20,x:e,y:t}),(0,o.jsx)(p,{corner:"ne",cornerStyle:a,size:20,x:e+i,y:t}),(0,o.jsx)(p,{corner:"sw",cornerStyle:a,size:20,x:e,y:t+l}),(0,o.jsx)(p,{corner:"se",cornerStyle:a,size:20,x:e+i,y:t+l}),(0,o.jsx)(h,{edge:"n",h:30,w:i-40,x:e+20,y:t-10}),(0,o.jsx)(h,{edge:"e",h:l-40,w:30,x:e+i-20,y:t+20}),(0,o.jsx)(h,{edge:"s",h:30,w:i-40,x:e+20,y:t+l-10}),(0,o.jsx)(h,{edge:"w",h:l-40,w:30,x:e-20,y:t+20})]})}var _=i(391254);function y(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let v=16,f=`
.preview-crop-area-enter {
  opacity: 0;
}

.preview-crop-area-enter-active {
  opacity: 1;
  transition: opacity 300ms;
}

.preview-crop-area-exit {
  opacity: 1;
}

.preview-crop-area-exit-active {
  opacity: 0;
  transition: opacity 300ms;
}

.preview-crop-area-exit-done {
  opacity: 0;
}
`;class x extends n.Component{constructor(...e){super(...e),y(this,"state",{cropArea:!!this.props.initialCropArea&&function({initialCropArea:e,imageSize:t}){let{x:i,y:n,w:l,h:a}=e,{h:r,w:o}=t;if(!r||!o)return e;let s=i,d=n,u=l,c=a;return s<v&&(s=v,u-=v-i),s+u>o-v&&(u-=s+u-o+v),d<v&&(d=v,c-=v-n),d+c>r-v&&(c-=d+c-r+v),{x:s,y:d,w:u,h:c}}({initialCropArea:this.props.initialCropArea,imageSize:this.props.imageSize})||{h:0,w:0,x:0,y:0},cropChangeType:null}),y(this,"cropResizeDirection",null),y(this,"_cropperOverlay",(0,n.createRef)()),y(this,"_checkCropHandleValid",(e,t)=>{let{cropArea:{h:i,w:n,x:l,y:a}}=this.state;switch(this.cropResizeDirection){case"ne":e<l&&t>a+i?this.cropResizeDirection="sw":e<l?this.cropResizeDirection="nw":t>a+i&&(this.cropResizeDirection="se");break;case"nw":e>l+n&&t>a+i?this.cropResizeDirection="se":e>l+n?this.cropResizeDirection="ne":t>a+i&&(this.cropResizeDirection="sw");break;case"se":e<l&&t<a?this.cropResizeDirection="nw":e<l?this.cropResizeDirection="sw":t<a&&(this.cropResizeDirection="ne");break;case"sw":e>l+n&&t<a?this.cropResizeDirection="ne":e>l+n?this.cropResizeDirection="se":t<a&&(this.cropResizeDirection="nw");break;case"n":t>a+i&&(this.cropResizeDirection="s");break;case"s":t<a&&(this.cropResizeDirection="n");break;case"e":e<l&&(this.cropResizeDirection="w");break;case"w":e>l+n&&(this.cropResizeDirection="e")}}),y(this,"handleOnMouseDown",e=>{var t;e.preventDefault(),e.stopPropagation();let{clientX:i,clientY:n}=e,{target:l}=e,a=i-this._cropperOverlayCoor.x,r=n-this._cropperOverlayCoor.y,o=l.classList?Array.from(l.classList):l instanceof Element&&(null===(t=l.getAttribute("class"))||void 0===t?void 0:t.split(" "))||[];o.includes("v2cropperHandle")?(this.setState({cropChangeType:"resize"}),o.includes("ne")&&(this.cropResizeDirection="ne"),o.includes("nw")&&(this.cropResizeDirection="nw"),o.includes("se")&&(this.cropResizeDirection="se"),o.includes("sw")&&(this.cropResizeDirection="sw"),o.includes("n")&&(this.cropResizeDirection="n"),o.includes("s")&&(this.cropResizeDirection="s"),o.includes("e")&&(this.cropResizeDirection="e"),o.includes("w")&&(this.cropResizeDirection="w")):o.includes("v2cropSection")?(this.setState({cropChangeType:"move"}),this.cropChangeStartCoor={x:a,y:r}):o.includes("v2shadowMask")&&(this.cropChangeStartCoor={x:a,y:r},this.setState({cropArea:{h:0,w:0,x:a,y:r},cropChangeType:"select"}))}),y(this,"handleOnMouseMove",e=>{var t,i,n,l,a,r;let{cropArea:{h:o,w:s,x:d,y:u},cropChangeType:c}=this.state,{imageSize:p}=this.props,{clientX:m,clientY:h}=e,g=m-this._cropperOverlayCoor.x,_=h-this._cropperOverlayCoor.y;if("resize"===c){let e=Math.max(Math.min(g,(null!==(t=p.w)&&void 0!==t?t:1)-v),v),n=Math.max(Math.min(_,(null!==(i=p.h)&&void 0!==i?i:1)-v),v);switch(this._checkCropHandleValid(e,n),this.cropResizeDirection){case"ne":{let t=Math.max(o+(u-n),48),i=Math.max(e-d,48);this.setState({cropArea:{h:t,w:i,x:d,y:t<=48?u:n}});break}case"nw":{let t=Math.max(s+(d-e),48),i=Math.max(o+(u-n),48);this.setState({cropArea:{h:i,w:t,x:48===t?d:e,y:48===i?u:n}});break}case"se":{let t=Math.max(n-u,48),i=Math.max(e-d,48);this.setState({cropArea:{h:t,w:i,x:d,y:u}});break}case"sw":{let t=Math.max(n-u,48),i=Math.max(s+(d-e),48);this.setState({cropArea:{h:t,w:i,x:48===i?d:e,y:u}});break}case"n":{let e=Math.max(u-n+o,48);this.setState({cropArea:{h:e,w:s,x:d,y:48===e?u:n}});break}case"s":{let e=Math.max(n-u,48);this.setState({cropArea:{h:e,w:s,x:d,y:u}});break}case"e":{let t=Math.max(e-d,48);this.setState({cropArea:{h:o,w:t,x:d,y:u}});break}case"w":{let t=Math.max(s-e+d,48);this.setState({cropArea:{h:o,w:t,x:48===t?d:e,y:u}})}}}else if("move"===c){let e=g-this.cropChangeStartCoor.x,t=_-this.cropChangeStartCoor.y,i=Math.max(Math.min(d+e,(null!==(n=p.w)&&void 0!==n?n:1)-s-v),v),a=Math.max(Math.min(u+t,(null!==(l=p.h)&&void 0!==l?l:1)-o-v),v);this.cropChangeStartCoor={x:g,y:_},this.setState({cropArea:{h:o,w:s,x:i,y:a}})}else if("select"===c){let e=Math.max(Math.min(g,null!==(a=p.w)&&void 0!==a?a:1),0),t=Math.max(Math.min(_,null!==(r=p.h)&&void 0!==r?r:1),0),i=e-this.cropChangeStartCoor.x,n=t-this.cropChangeStartCoor.y;this.setState({cropArea:{h:Math.abs(n),w:Math.abs(i),x:Math.min(this.cropChangeStartCoor.x,e),y:Math.min(this.cropChangeStartCoor.y,t)}})}}),y(this,"handleOnMouseUp",()=>{let{cropChangeType:e}=this.state;("resize"===e||"move"===e||"select"===e)&&this.handleCrop(),this.cropResizeDirection=null})}componentDidMount(){let{body:e}=document,t=this._cropperOverlay.current;if(t&&e){if(t){let e=t.getBoundingClientRect();this._cropperOverlayCoor={x:e.left,y:e.top}}window.addEventListener("mouseup",this.handleOnMouseUp),e.addEventListener("mousemove",this.handleOnMouseMove),t.addEventListener("mousedown",this.handleOnMouseDown)}}componentWillUnmount(){let{body:e}=document,t=this._cropperOverlay.current;t&&e&&(window.removeEventListener("mouseup",this.handleOnMouseUp),e.removeEventListener("mousemove",this.handleOnMouseMove),t.removeEventListener("mousedown",this.handleOnMouseDown))}handleCrop(){var e,t,i,n,l,a,r,o;let{imageSize:s,onChange:d,viewParameter:u,logContextEvent:c}=this.props,{cropChangeType:p,cropArea:m}=this.state;if(0===m.w&&0===m.h)this.setState({cropChangeType:null}),d({origCrop:{h:(null!==(e=s.h)&&void 0!==e?e:1)-2*v,w:(null!==(t=s.w)&&void 0!==t?t:1)-2*v,x:v,y:v}});else{let e,t;this.setState({cropChangeType:null});let h=Math.max(Math.min(m.x,(null!==(i=s.w)&&void 0!==i?i:1)-48-v),v),g=Math.max(Math.min(m.y,(null!==(n=s.h)&&void 0!==n?n:1)-48-v),v);switch(e=m.h<48?48:g+m.h>(null!==(l=s.h)&&void 0!==l?l:1)-v?(null!==(r=s.h)&&void 0!==r?r:1)-g-v:m.h,t=m.w<48?48:h+m.w>(null!==(a=s.w)&&void 0!==a?a:1)-v?(null!==(o=s.w)&&void 0!==o?o:1)-h-v:m.w,p){case"move":c({event_type:7603,view_type:72,view_parameter:u});break;case"resize":c({event_type:7604,view_type:72,view_parameter:u})}d({origCrop:{h:e,w:t,x:h,y:g}})}}render(){let{children:e,previewCropArea:t,showPreviewArea:i}=this.props,{cropArea:{h:n,w:r,x:s,y:d},cropChangeType:u}=this.state;return(0,o.jsxs)(a.xu,{ref:this._cropperOverlay,dangerouslySetInlineStyle:{__style:{cursor:"crosshair"}},"data-test-id":"visual-search-cropper",height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:[(0,o.jsx)(_.Z,{unsafeCSS:f}),(0,o.jsxs)("svg",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%"},children:[(0,o.jsx)("defs",{children:(0,o.jsxs)("mask",{id:"Mask",children:[(0,o.jsx)("rect",{fill:"#fff",height:"100%",rx:"0",ry:"0",width:"100%",x:"0",y:"0"}),(0,o.jsx)("rect",{height:n,id:"hole",rx:0,ry:0,width:r,x:s,y:d},`${s}${d}`),(0,o.jsx)(l.Z,{classNames:"preview-crop-area",in:i&&!u,mountOnEnter:!0,timeout:300,unmountOnExit:!0,children:(0,o.jsx)("rect",{height:t.h,id:"preview",rx:4,ry:4,width:t.w,x:t.x,y:t.y},`${t.x}${t.y}`)})]})}),(0,o.jsx)("rect",{className:"v2shadowMask",height:"100%",mask:"url(#Mask)",style:{fill:"rgba(0,0,0,0.5)"},width:"100%",x:"0",y:"0"}),(0,o.jsx)("use",{className:"v2cropSection",fill:"rgba(0,0,0,0)",href:"#hole",stroke:"#fff",strokeWidth:"2",style:{cursor:"move"}}),"select"!==u&&(0,o.jsx)(g,{h:n,w:r,x:s,y:d})]}),e]})}}function b(e){let t=(0,r.Z)();return(0,o.jsx)(x,{logContextEvent:t,...e})}},403368:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var n=i(667294),l=i(883119),a=i(898781),r=i(785893);function o(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class s extends n.Component{constructor(...e){super(...e),o(this,"state",{isHovering:!1}),o(this,"handleMouseEnter",e=>{this.setState({isHovering:!0}),this.props.onMouseEnter&&this.props.onMouseEnter(e)}),o(this,"handleMouseLeave",e=>{this.setState({isHovering:!1}),this.props.onMouseLeave&&this.props.onMouseLeave(e)})}render(){let{forwardedRef:e,icon:t,onClick:i,onMouseDown:n,onMouseUp:a,selected:o,style:s,text:d,x:u,y:c,zIndex:p,backdropDiameter:m=32,dotDiameter:h=16}=this.props,{isHovering:g}=this.state,_=g?m+4:m;return(0,r.jsx)("div",{ref:e,"aria-label":this.props.i18n.bt("Chercher cet article", "Search this item", "flashlight.dot.a11ylabel", undefined, true),"data-test-id":"flashlight-dot",onClick:i,onKeyPress:i,onMouseDown:n,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onMouseUp:a,role:"button",style:{zIndex:p,position:"absolute",top:c-_/2,left:u-_/2,outline:"none"},tabIndex:"0",children:(0,r.jsxs)(l.xu,{alignItems:"center",borderStyle:"none",color:"default",dangerouslySetInlineStyle:{__style:{boxShadow:o?"0 0 0 3px #e60023":"none",borderRadius:h,top:(_-h)/2,left:(_-h)/2,...s}},"data-test-id":"flashlight-dot-style",display:"flex",height:h,justifyContent:"center",padding:0,position:"absolute",width:h,children:[!!d&&(0,r.jsx)(l.xv,{align:"center",color:"default",inline:!0,size:"100",weight:"bold",children:d}),t&&(0,r.jsx)(l.JO,{accessibilityLabel:this.props.i18n.bt("Ancre de balise", "Tag anchor", "accessibility label for an anchor for an object in a pin", undefined, true),color:"error",icon:t,inline:!0,size:h/2})]})})}}let d=(0,n.forwardRef)((e,t)=>{let i=(0,a.ZP)();return(0,r.jsx)(s,{...e,forwardedRef:t,i18n:i})})},352870:(e,t,i)=>{"use strict";i.d(t,{Z:()=>S});var n,l,a=i(667294);i(167912);var r=i(616550),o=i(485019),s=i(112690),d=i(403368),u=i(829407),c=i(785893);function p({showAnimation:e,auxData:t,index:i,isStela:n,onClick:l,onHover:a,onUnhover:r,spotlightCenter:o,viewParameter:p,viewType:m}){let h=(0,s.Z)(),g=n?1221:1260;(0,u.Z)(()=>{h({event_type:120,element:g,aux_data:t,view_parameter:p,view_type:m})});let _=parseFloat((.1*(i+1)).toFixed(2)),y={animation:e?`spotlightDotPop 0.6s ease-out ${_}s both`:"none"};return(0,c.jsx)(d.Z,{onClick:e=>{e&&(e.stopPropagation(),e.preventDefault()),h({aux_data:t,element:g,event_type:101,view_parameter:p,view_type:m}),l(i)},onMouseEnter:e=>{e&&(e.stopPropagation(),e.preventDefault()),a(i)},onMouseLeave:e=>{e&&(e.stopPropagation(),e.preventDefault()),r()},style:y,x:o.x,y:o.y})}var m=i(916117),h=i(391254),g=i(999018),_=i(599611);let y=`
@keyframes spotlightDotPop {
  0% {
    transform: scale(0);
  }

  100% {
    transform: scale(1);
  }
}`,v=void 0!==n?n:n=i(52892),f=({showAnimation:e,pinKey:t,imageSignature:i,imageSize:n,currentSpotlightIdx:l,handleSpotlightClick:r,handleSpotlightHover:o,handleSpotlightUnhover:s,viewParameter:d,viewType:u})=>{var f;let x=(0,m.Z)(v,t),b=(0,g.Z)(x),w=(null!==(f=x.visualObjects)&&void 0!==f?f:[]).filter(e=>e.isStela)||[];return(0,c.jsxs)(a.Fragment,{children:[(0,c.jsx)(h.Z,{unsafeCSS:y}),w.map((t,a)=>{var m,h;if(a===l)return null;let{x:g,y,w:v,h:f}=t,w=(0,_.Z)({cropArea:{x:g,y,w:v,h:f},scaledWidth:null!==(m=n.w)&&void 0!==m?m:0,scaledHeight:null!==(h=n.h)&&void 0!==h?h:0}),S={x:w.x+w.w/2,y:w.y+w.h/2},k={...b({override:{entrypoint:"flashlight"}}),pin_id:x.entityId,image_signature:i,visual_objects:JSON.stringify([{x:t.x,y:t.y,w:t.w,h:t.h}])},P=`${S.x}${S.y}`;return(0,c.jsx)(p,{auxData:k,index:a,isStela:!!t.isStela,onClick:r,onHover:o,onUnhover:s,showAnimation:e,spotlightCenter:S,viewParameter:d,viewType:u},P)})]})};var x=i(94047),b=i(297852);let w=void 0!==l?l:l=i(225785);function S({customCropper:e,imageSize:t,imageSignature:i,initialCropArea:n,pinKey:l,showAnimation:s,trafficSource:d,viewParameter:u,viewType:p}){let h=(0,m.Z)(w,l),g=(0,r.k6)(),[y,v]=(0,a.useState)(!1),[S,k]=(0,a.useState)({w:0,h:0,x:0,y:0}),[P,j]=(0,a.useState)(0),I=(0,a.useMemo)(()=>{var e;return(null!==(e=h.visualObjects)&&void 0!==e?e:[]).filter(e=>e.isStela)||[]},[h.visualObjects]);(0,a.useEffect)(()=>{let e=I.findIndex(e=>{var i,l;let{x:a,y:r,w:o,h:s}=e;return function(e,t,i){let n=Object.keys(e).reduce((i,n)=>i+Math.abs(e[n]-t[n]),0);return n<=4}(n,(0,_.Z)({cropArea:{x:a,y:r,w:o,h:s},scaledWidth:null!==(i=t.w)&&void 0!==i?i:0,scaledHeight:null!==(l=t.h)&&void 0!==l?l:0}),0)});j(e)},[t,n,I]);let T=({origCrop:e,cropSource:t,trafficSource:i,title:n})=>{let{entityId:l}=h,a=window.location.pathname+window.location.search,r=(0,b.Z)({cropArea:e,cropSource:null!=t?t:6,isProductPage:!1,pinId:l,title:n,trafficSource:i,surfaceType:"flashlight"});r!==a&&(g.replace(r),g.replace({pathname:`/pin/${l}/visual-search/`,search:(0,x.Z)({cropArea:e,cropSource:null!=t?t:6,title:n,trafficSource:i,surfaceType:"flashlight"}),state:{internalNavigation:!0}}))},C=I&&!!I.length;return(0,c.jsx)(o.Z,{imageSize:t,initialCropArea:n,onChange:null!=e?e:T,previewCropArea:S,showPreviewArea:!1,viewParameter:u,children:C&&(0,c.jsx)(f,{currentSpotlightIdx:P,handleSpotlightClick:i=>{var n,l;let a=I[i],{x:r,y:o,w:s,h:u}=a,c=(0,_.Z)({cropArea:{x:r,y:o,w:s,h:u},scaledWidth:null!==(n=t.w)&&void 0!==n?n:0,scaledHeight:null!==(l=t.h)&&void 0!==l?l:0}),p={origCrop:c,cropSource:a.isStela?4:1,trafficSource:d,title:a.title||""};e?e(p):T(p)},handleSpotlightHover:e=>{if(e!==P){var i,n;v(!0);let{x:l,y:a,w:r,h:o}=I[e];k((0,_.Z)({cropArea:{x:l,y:a,w:r,h:o},scaledWidth:null!==(i=t.w)&&void 0!==i?i:0,scaledHeight:null!==(n=t.h)&&void 0!==n?n:0}))}},handleSpotlightUnhover:()=>{v(!1)},imageSignature:i,imageSize:t,pinKey:h,showAnimation:s,viewParameter:u,viewType:p})},JSON.stringify(n))}},558068:(e,t,i)=>{"use strict";i.d(t,{Hv:()=>s,aX:()=>c,nK:()=>p});var n=i(667294),l=i(616550),a=i(425288),r=i(785893);let{Provider:o,useHook:s}=(0,a.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),d=e=>e&&e.pathname?e.pathname+(e.search||""):"";function u(e,t){var i;let n={action:t.type,location:t.location,match:t.match};if(t.location===(null===(i=e.current)||void 0===i?void 0:i.location))return e;switch(t.type){case"POP":if(e.forward.length>0&&d(e.forward[0].location)===d(n.location))return{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};return{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:n,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:n};default:return e}}function c(){let{current:e,previous:t}=s(),i=(0,n.useMemo)(()=>e?t.concat(e):t,[e,t]);return i}function p({children:e}){let t=(0,l.k6)(),i=(0,l.TH)(),a=(0,l.$B)(),s={forward:[],current:{action:t.action,location:i,match:a},previous:[]},[d,c]=(0,n.useReducer)(u,s);return(0,n.useEffect)(()=>{let{action:e}=t;c({type:e,location:i,match:a})},[i]),(0,r.jsx)(o,{value:d,children:e})}},310227:(e,t,i)=>{"use strict";i.d(t,{Dv:()=>a,Ml:()=>r,Oc:()=>n,mv:()=>l});let n=16,l=4,a={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},r=120},743473:(e,t,i)=>{"use strict";i.d(t,{Z:()=>w});var n,l,a=i(167912),r=i(214494),o=i(402201),s=i(186656),d=i(107193),u=i(567831),c=i(794230),p=i(704115);let m={open(e){var t;let i=m._validParams.reduce((t,i)=>(e&&Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]),t),{}),n=m._getDialogType(e),l=m.generateFbRef(null!==(t=e.unauthId)&&void 0!==t?t:""),a=e.object_type&&e.object_id&&"feed"===n,r=(0,u.Z)(e.path),h=(0,p.Z)();if(h.ptrf&&(r=(0,c.Z)(r,{ptrf:h.ptrf})),a&&(r=(0,c.Z)(r,{fb_ref:l})),i.method=n,"feed"===i.method){let t=(0,o.Z)({width:e.width,height:e.height}),n="http://www.facebook.com/sharer/sharer.php?u="+r;i.picture&&(n+="&picture="+i.picture),i.name&&(n+="&title="+i.name),i.description&&(n+="&description="+i.description),i.caption&&(n+="&caption="+i.caption),window.open(encodeURI(n),"sharer",t)}else"send"===i.method?i.link=r:"share"===i.method&&(i.href=r),(0,d.default)(t=>{t.getLoginStatus(()=>{if("send"===i.method){let n;t.ui(i);let l=10,a=setInterval(()=>{((n=function(){if(!document)return;let e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe")).reduce((e,t)=>t instanceof HTMLIFrameElement?e.concat([t]):e,[]);if(e.length)return e.slice(0,e.length-1).forEach(e=>{var t;return null===(t=e.parentNode)||void 0===t?void 0:t.removeChild(e)}),e[e.length-1]}())||!l)&&(clearInterval(a),n&&m.executeMessengerCallback(n,e.callback)),l-=1},1e3)}else"share"===i.method&&t.ui(i,t=>{a&&t&&!t.error_message&&(0,s.Z)({url:`/v3/log/facebook/feed_share/${e.object_type||""}/${e.object_id||""}/${l}`,method:"PUT",data:{showError:!1}}),e.callback&&e.callback(t)})})},e.viewer)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback(e,t){let i=10,n=setInterval(()=>{let{width:t}=e.style;"0px"!==t&&i||(clearInterval(n),e.style.width="575px"),i-=1},1e3);t&&t()},generateFbRef(e){let t="";for(;t.length<20;)t+=Math.floor(65535*Math.random()).toString(16);return e+":"+t},_getDialogType(e){let t=m._validOptions.includes(e.type),i=t?e.type:"feed";return i}},h=function(e,t){let i=window.screen.width,n=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((i-e)/2)+",top="+(n>t?Math.round((n-t)/2):0)};function g(e,t,i){let n=h(t,i);window.open(e,void 0,n)}let _={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog(e){let t=_._getWindowUrl(e.share_path,e.share_text);g(t,_.DIALOG_WIDTH,_.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,c.Z)("https://social-plugins.line.me/lineit/share",{url:e?(0,u.Z)(e):void 0,text:t})},y={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog(e){let t=y._getWindowUrl(e.tweet_path,e.tweet_text);g(t,y.DIALOG_WIDTH,y.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,c.Z)("https://twitter.com/intent/tweet",{via:"pinterest",url:e?(0,u.Z)(e):void 0,text:t||void 0})},v=void 0!==n?n:n=i(974452),f=void 0!==l?l:l=i(974016),x=()=>{let e=(0,a.useRelayEnvironment)();return async(t,i)=>await new Promise((n,l)=>(0,a.fetchQuery)(e,f,{invite_category:i.toString(),url:t}).subscribe({next:e=>{var t,i,l,a,r,o,s,d,u;return n({invite_code:null!==(t=null===(i=e.v3CreateShareLinkQuery)||void 0===i?void 0:null===(l=i.data)||void 0===l?void 0:l.inviteCode)&&void 0!==t?t:"",invite_url:null!==(a=null===(r=e.v3CreateShareLinkQuery)||void 0===r?void 0:null===(o=r.data)||void 0===o?void 0:o.inviteUrl)&&void 0!==a?a:"",title:null!==(s=null===(d=e.v3CreateShareLinkQuery)||void 0===d?void 0:null===(u=d.data)||void 0===u?void 0:u.title)&&void 0!==s?s:""})},error:e=>l(e)}))},b=()=>{let e=(0,a.useRelayEnvironment)();return async(t,i,n,l)=>{let r={invite_category:t,invite_object:i,invite_channel:n};return await new Promise((t,i)=>(0,a.fetchQuery)(e,v,{inviteType:JSON.stringify(r),objectId:l}).subscribe({next:e=>{var i,n,l,a,r,o,s,d,u;return t({invite_code:null!==(i=null===(n=e.v3InviteUserExternalQuery)||void 0===n?void 0:null===(l=n.data)||void 0===l?void 0:l.inviteCode)&&void 0!==i?i:"",invite_url:null!==(a=null===(r=e.v3InviteUserExternalQuery)||void 0===r?void 0:null===(o=r.data)||void 0===o?void 0:o.inviteUrl)&&void 0!==a?a:"",title:null!==(s=null===(d=e.v3InviteUserExternalQuery)||void 0===d?void 0:null===(u=d.data)||void 0===u?void 0:u.title)&&void 0!==s?s:""})},error:e=>i(e)}))}};function w(){let e={pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8,search:0},t=x(),i=b();function n(t,i){let n=e[t.object_type]||0,l=t.invite_channel,a=null==t.invite_category?3:t.invite_category,o=t.object_id,s=r.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:a,invite_object:n,invite_channel:l},invite_code:i,object_id:o,client_tracking_params:t.client_tracking_params});return s.callCreate()}function l(n){let l=e[n.object_type]||0,a=n.invite_channel,r=null==n.invite_category?3:n.invite_category;return 10===r&&n.path?t(n.path,r):i(r,l,a.toString(),n.object_id)}return{ObjectTypeToInviteObject:e,logShareInvite:function(e,t){t&&n(e,t.invite_code)},createShareInviteData:l,shareFacebookInvite:function(e){let{options:t,unauthId:i,viewer:a}=e;return l(t).then(e=>{let l=e.invite_url,r=e.invite_code;if(l){let o={type:"share",object_type:t.object_type,object_id:t.object_id,name:t.name,caption:e.title,description:t.description,path:l,picture:t.picture,callback(e){e&&!e.error_message&&n(t,r)}};m.open({...o,display:"popup",unauthId:i,viewer:a})}return Promise.resolve(e)},e=>Promise.reject(e))},shareTwitterInvite:function(t){let i=e[t.object_type]||0;return l(t).then(e=>{let l=e.invite_url,a=e.invite_code,r=t.description;return 6===i&&t.name&&(r=t.name),r.trim()||(r=`${e.title}
`),l&&y.openDialog({tweet_path:l,tweet_text:r}),n(t,a),Promise.resolve(e)},e=>Promise.reject(e))},shareLineInvite:function(t){let i=e[t.object_type]||0;return l(t).then(e=>{let l=e.invite_url,a=e.invite_code,r=t.description;return 6===i&&t.name&&(r=t.name),r.trim()||(r=`${e.title}
`),l&&_.openDialog({share_path:l,share_text:r}),n(t,a),Promise.resolve(e)},e=>Promise.reject(e))},shareFbMessengerInvite:function(e){let{options:t,unauthId:i,viewer:a}=e;return l(t).then(e=>{let l=e.invite_url,r=e.invite_code;return l&&m.open({type:"send",object_type:t.object_type,object_id:t.object_id,name:t.name,caption:e.title,description:t.description,path:l,picture:t.picture,callback(e){e&&e.success&&n(t,r)},display:"popup",unauthId:i,viewer:a}),Promise.resolve(e)},e=>Promise.reject(e))}}}},483205:(e,t,i)=>{"use strict";i.d(t,{I6:()=>l,Nv:()=>n,RZ:()=>a,ZG:()=>s,b9:()=>o,s0:()=>r});let n=44,l=24,a=446,r=.05,o=36,s=20},754320:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var n=i(667294),l=i(883119),a=i(407043),r=i(643010),o=i(444445),s=i(898781),d=i(905031),u=i(50286),c=i(785893);let p=({contentIds:e,previewImageSrc:t,url:i,buttonText:p,imageWidth:m,isInMobileCarousel:h,slideWidth:g,shape:_="square",storyId:y,storyType:v,view:f,viewParameter:x,component:b,element:w})=>{let S="square"===_?4:"circle",k=null!=m?m:o.yF,P=(0,d.Z)()?o.tG:k,j=(0,u.HG)(),I=(0,r.vs)(),{logContextEvent:T}=(0,a.v)(),C=(0,s.ZP)(),F=(0,n.useMemo)(()=>!Number.isNaN(f)&&!Number.isNaN(x)&&!Number.isNaN(b)&&!Number.isNaN(w),[f,x,b,w]),A="lg";return h&&g&&(A=g>150?"lg":g>135&&g<=150?"md":"sm"),(0,n.useEffect)(()=>{F&&T({event_type:120,view_type:f,view_parameter:x,component:b,element:w,aux_data:{content_ids:e,story_id:y,story_type:v}})},[e,T,f,x,b,w,F,y,v]),(0,c.jsx)(l.xu,{"data-test-id":"sf-action-item-rep",children:(0,c.jsx)(l.xu,{color:"secondary",height:h?g:P,overflow:"hidden",rounding:S,width:h?g:P,children:(0,c.jsx)(l.zd,{height:"100%",rounding:S,wash:!0,width:"100%",children:(0,c.jsx)(l.Ee,{alt:C.bt("Image d’aperçu Action Item Rep", "Action Item Rep Preview Image", "actionItemRep.image", undefined, true),color:"#fff",fit:"cover",naturalHeight:50,naturalWidth:50,src:t,children:(0,c.jsx)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0,0,0,0.3)"}},display:"flex",height:"100%",justifyContent:"center",left:!0,top:!0,width:"100%",children:(0,c.jsx)(l.ZP,{color:I?"gray":"white",href:i,onClick:()=>{F&&T({event_type:j?101:102,view_type:f,view_parameter:x,component:b,element:w,aux_data:{content_ids:e,story_id:y,story_type:v}})},size:A,text:p})})})})})})}},701865:(e,t,i)=>{"use strict";i.d(t,{Z:()=>C});var n=i(667294),l=i(616550),a=i(883119),r=i(407043),o=i(366428),s=i(992061),d=i(444445),u=i(898781),c=i(608760),p=i(215292),m=i(785893);function h({item:e={},imagePlaceholderColor:t=c.hK,onTap:i}){var l,r;let o=(0,u.ZP)(),h=null==e?void 0:null===(l=e.cover_images)||void 0===l?void 0:l[0],g=null==h?void 0:h["236x"];return(0,m.jsx)(a.iP,{onTap:i,children:(0,m.jsxs)(n.Fragment,{children:[(0,m.jsx)(p.q,{children:({hovered:e,onMouseEnter:i,onMouseLeave:n})=>(0,m.jsx)(a.xu,{"data-test-id":"category-bubble",marginBottom:2,onMouseEnter:i,onMouseLeave:n,children:(0,m.jsxs)(a.zd,{height:d.yF,rounding:"circle",wash:!0,width:d.yF,children:[(0,m.jsx)(s.Z,{hovered:e,rounding:"circle"}),(0,m.jsx)(a.Ee,{alt:o.bt("Image affichant l’aperçu des contenus d’un article", "Image previewing contents of an item", "itemRep.userRep.previewImage", undefined, true),color:t,fit:"cover",naturalHeight:d.yF,naturalWidth:d.yF,src:(null==g?void 0:g.url)||""})]})})}),(null==e?void 0:null===(r=e.title)||void 0===r?void 0:r.format)&&(0,m.jsx)(a.xu,{width:d.yF,children:(0,m.jsx)(a.xv,{align:"center",weight:"bold",children:e.title.format})})]})})}var g=i(752802),_=i(57427),y=i(327651),v=i(641968),f=i(50286);let x=["170x","192x","200x","236x"];var b=i(668916);let w="pill";var S=i(642345),k=i(48125),P=i(429091),j=i(180910);let I=()=>{},T={2:h,3:function({item:e={},onTap:t}){let i=(0,u.ZP)(),n=null==e?void 0:e.identifier_icon_type,{icon:l,text:r}=function(e,t){switch(e){case 2:return{icon:"workflow-status-all",text:t.bt("Catégories", "Categories", "NavigationBubble.NavigationIcon.utils", undefined, true)};case 3:return{icon:"shopping-bag",text:t.bt("Boutiques", "Stores", "ExploreArticleRep.NavigationBubble.utils", undefined, true)};case 4:return{icon:"terms",text:t.bt("Vos articles", "Your items", "ExploreArticleRep.NavigationBubble.utils", undefined, true)};default:return{icon:null}}}(n,i);return(0,m.jsx)(a.iP,{onTap:t,rounding:l?5:w,tapStyle:"compress",children:(0,m.jsx)(p.q,{children:({active:t,hovered:i,onMouseEnter:n,onMouseLeave:o,onFocus:u,onBlur:c})=>{var p,h,g;return(0,m.jsxs)(a.xu,{"data-test-id":"navigation-bubble",onBlur:c,onFocus:u,onMouseEnter:n,onMouseLeave:o,rounding:5,children:[l&&(0,m.jsxs)(a.zd,{height:85,rounding:5,wash:!0,width:85,children:[(0,m.jsx)(s.Z,{hovered:i}),(0,m.jsx)(a.xu,{alignItems:"center",color:"secondary",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%",children:(0,m.jsx)(a.JO,{accessibilityLabel:r||"",color:"default",icon:l,size:32})})]}),r&&(0,m.jsx)(a.xu,{marginTop:2,width:85,children:(0,m.jsx)(a.xv,{align:"center",weight:"bold",children:r})}),!l&&!r&&(null==e?void 0:null===(p=e.title)||void 0===p?void 0:p.format)&&(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:null===(h=e.aux_fields)||void 0===h?void 0:h.button_background_color}},rounding:w,children:(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:t&&"rgba(0, 0, 0, 0.15)"||i&&"rgba(0, 0, 0, 0.06)"||void 0}},padding:4,rounding:w,children:(0,m.jsx)(a.xv,{align:"center",color:(null===(g=e.aux_fields)||void 0===g?void 0:g.button_text_color)==="#ffffff"?"inverse":"default",weight:"normal",children:(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{whiteSpace:"nowrap",textOverflow:"ellipsis"}},maxWidth:d.yF-16,overflow:"hidden",children:e.title.format})})})})]})}})})},1:function({item:e={},onTap:t}){var i;let n=(0,u.ZP)(),l=null==e?void 0:null===(i=e.cover_images)||void 0===i?void 0:i[0],r=null==l?void 0:l["236x"];return(0,m.jsx)(a.iP,{onTap:t,rounding:3,tapStyle:"compress",children:(0,m.jsx)(p.q,{children:({hovered:t,onMouseEnter:i,onMouseLeave:l})=>{var o;return(0,m.jsx)(a.xu,{"data-test-id":"search-bubble",onMouseEnter:i,onMouseLeave:l,rounding:3,children:(0,m.jsxs)(a.zd,{height:150,rounding:3,wash:!0,width:300,children:[(0,m.jsx)(s.Z,{hovered:t}),(0,m.jsx)(a.Ee,{alt:n.bt("Image affichant l’aperçu des contenus d’un article", "Image previewing contents of an item", "itemRep.userRep.previewImage", undefined, true),fit:"cover",naturalHeight:150,naturalWidth:300,role:"presentation",src:(null==r?void 0:r.url)||"",children:(0,m.jsx)(a.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:150,justifyContent:"center",padding:3,position:"absolute",top:!0,width:300,children:(null==e?void 0:null===(o=e.title)||void 0===o?void 0:o.format)&&(0,m.jsx)(a.X6,{color:"inverse",size:"400",children:e.title.format})})})]})})}})})},4:function({item:e,onTap:t,slotIndex:i}){let{action:n,aux_fields:l,cover_images:r,dominant_colors:o,title:s}=e;if(!s||!r||!n)return null;let d=r.length<=0?[{}]:r.slice(0,2);return(0,m.jsx)(a.iP,{onTap:t,rounding:4,tapStyle:"compress",children:(0,m.jsxs)(a.xu,{alignItems:"center","data-test-id":"style-bubble",display:"flex",height:258,justifyContent:"center",overflow:"hidden",position:"relative",rounding:4,width:P.u,children:[(0,m.jsx)(a.kC,{children:d.map((e,t)=>{var n,l,r;return(0,m.jsx)(a.zd,{height:258,wash:!0,width:P.u/d.length,children:(0,m.jsx)(a.Ee,{alt:"",color:(o||[])[t],fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:(null===(n=e["474x"])||void 0===n?void 0:n.url)||(null===(l=e["736x"])||void 0===l?void 0:l.url)||(null===(r=e["236x"])||void 0===r?void 0:r.url)||""})},`styleCarousel_bubble${i}_pin${t}`)})}),(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:null==l?void 0:l.button_background_color}},paddingX:4,paddingY:3,position:"absolute",rounding:"pill",children:(0,m.jsx)(a.xv,{align:"center",weight:"bold",children:(0,m.jsx)("span",{style:{color:null==l?void 0:l.button_text_color,margin:"0"},children:s.format})})})]})})},13:({item:e={},onTap:t})=>{var i,n,l,r;let o=(0,u.ZP)(),s=(0,f.HG)(),c=null===(i=e.action)||void 0===i?void 0:i.url;if(!c)return null;let p=e.curator||{},h=p.full_name||"",b=p.username||"",w=p.image_medium_url||"",S=(null===(n=p.verified_identity)||void 0===n?void 0:n.verified)||!1,k=p.is_verified_merchant||!1,[P={},j={}]=e.cover_images||[],I=(null===(l=(0,g.Z)({images:P,resolutionPreferences:x}))||void 0===l?void 0:l.url)||"",T=(null===(r=(0,g.Z)({images:j,resolutionPreferences:x}))||void 0===r?void 0:r.url)||"",C=s?d.yF:d.tG;return(0,m.jsxs)(a.xu,{"data-test-id":"default-brand-article",width:C,children:[(0,m.jsx)(a.Tg,{accessibilityLabel:"",href:c,onTap:t,rounding:3,children:(0,m.jsxs)(a.xu,{height:157,children:[(0,m.jsx)(a.zd,{height:157,rounding:4,wash:!0,width:C,children:I&&T&&(0,m.jsxs)(a.kC,{children:[(0,m.jsx)(_.Z,{height:157,src:I,width:C/2}),(0,m.jsx)(a.xu,{color:"default",width:1}),(0,m.jsx)(_.Z,{height:157,src:T,width:C/2})]})}),(0,m.jsx)(a.xu,{display:"flex",justifyContent:"center",marginTop:-8,children:(0,m.jsx)(y.Z,{color:"gray",fullName:h||b,size:64,src:w||""})})]})}),(0,m.jsx)(a.xu,{height:40}),h&&(0,m.jsx)(v.Z,{isVerifiedIdentity:S,isVerifiedMerchant:k,name:h}),(0,m.jsx)(a.xu,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:2,width:"100%",children:(0,m.jsx)(a.ZP,{accessibilityLabel:o.bt("Accédez à une page de produits de cette marque", "Navigate to a feed of products from this brand", "StructuredFeed.ItemReps.ExploreArticleRep.DefaultBrandArticle.linkAccessibilityLabel", undefined, true),href:c,size:"lg",text:o.bt("Acheter", "Shop", "StructuredFeed.ItemReps.ExploreArticleRep.DefaultBrandArticle.ButtonText", undefined, true)})})]})},19:function({item:e,onTap:t}){let i=(0,f.HG)(),{action:n,cover_images:l,dominant_colors:r,title:o,subtitle:s}=e,d=null==o?void 0:o.format;if(!d||!l||!n)return null;let u=i?200:150,c=i?j.KW:j.hk,p=i?j.d:j.Gd,h=(null==s?void 0:s.format)||"",_=l.slice(0,3);return(0,m.jsx)(a.iP,{onTap:t,rounding:4,tapStyle:"compress",children:(0,m.jsxs)(a.xu,{"data-test-id":"triple-preview-display-card",rounding:4,width:p,children:[(0,m.jsx)(a.zd,{height:u,rounding:4,wash:!0,width:p,children:(0,m.jsx)(a.kC,{alignItems:"stretch",justifyContent:"start",children:_.map((e,t)=>{var i;let n=(null===(i=(0,g.Z)({images:e,resolutionPreferences:["200x","236x","400x"]}))||void 0===i?void 0:i.url)||"";return(0,m.jsx)(a.xu,{height:u,width:c,children:(0,m.jsx)(a.Ee,{alt:"",color:(r||[])[t],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:n})},n)})})}),(0,m.jsxs)(a.xu,{marginTop:4,children:[(0,m.jsx)(a.kC,{justifyContent:"center",children:(0,m.jsx)(a.xv,{align:"center",size:"400",weight:"bold",children:d})}),h&&(0,m.jsx)(a.xu,{display:"flex",justifyContent:"center",marginTop:1,children:(0,m.jsx)(a.xv,{align:"center",color:"subtle",size:i?"200":"100",children:h})})]})]})})},20:function({item:e,onTap:t}){let i=(0,f.HG)(),{action:n,cover_images:l,aux_fields:r,title:o,subtitle:s,dominant_colors:d=[]}=e,u=(null==o?void 0:o.format)||"",{background_color:c}=r||{};if(!u||!l||!n||!c)return null;let p=i?k.m:k.d,h=i?186:160,_=i?126:108,y=i?137:118,v=i?92:80,x=(null==s?void 0:s.format)||"",b=l.slice(0,3).map(e=>{var t;return(null===(t=(0,g.Z)({images:e,resolutionPreferences:["200x","236x","400x"]}))||void 0===t?void 0:t.url)||""}),w=(0,S.zI)(c)?"light":"dark";return(0,m.jsx)(a.iP,{onTap:t,rounding:4,tapStyle:"compress",children:(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:c}},"data-test-id":"stacked-collage-display-card",height:p,overflow:"hidden",rounding:4,width:p,children:(0,m.jsxs)(a.xu,{height:p,padding:2,position:"relative",children:[(0,m.jsxs)(a.xu,{marginBottom:3,marginTop:4,children:[(0,m.jsx)(a.kC,{justifyContent:"center",children:(0,m.jsx)(a.xv,{align:"center",color:w,lineClamp:1,size:"400",weight:"bold",children:u})}),x&&(0,m.jsx)(a.xu,{display:"flex",justifyContent:"center",marginTop:1,children:(0,m.jsx)(a.xv,{align:"center",color:w,lineClamp:1,size:"100",children:null==s?void 0:s.format})})]}),(0,m.jsx)(a.xu,{bottom:!0,left:!0,position:"absolute",children:(0,m.jsx)(a.zd,{height:y,rounding:4,wash:!0,width:v,children:(0,m.jsx)(a.xu,{height:y,width:v,children:(0,m.jsx)(a.Ee,{alt:"",color:d[1],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:b[1]})})})}),(0,m.jsx)(a.xu,{bottom:!0,position:"absolute",right:!0,children:(0,m.jsx)(a.zd,{height:y,rounding:4,wash:!0,width:v,children:(0,m.jsx)(a.xu,{height:y,width:v,children:(0,m.jsx)(a.Ee,{alt:"",color:d[2],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:b[2]})})})}),(0,m.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{bottom:"-22px"}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,children:(0,m.jsx)(a.zd,{height:h,rounding:4,wash:!0,width:_,children:(0,m.jsx)(a.xu,{height:h,width:_,children:(0,m.jsx)(a.Ee,{alt:"",color:d[0],fit:"cover",naturalHeight:200,naturalWidth:200,role:"presentation",src:b[0]})})})})]})})})},21:function({item:e,onTap:t}){var i,n,l;let{cover_images:r,dominant_colors:o,title:s}=e;if(!s||!r)return null;let d=r[0];return(0,m.jsx)(a.iP,{onTap:t,rounding:4,tapStyle:"compress",children:(0,m.jsx)(a.xu,{borderStyle:"shadow",color:"default",height:189,overflow:"hidden",position:"relative",rounding:4,width:b.H,children:(0,m.jsx)(a.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:(0,m.jsx)(a.Ee,{alt:"",color:(o||[])[0],fit:"cover",naturalHeight:1,naturalWidth:1,role:"presentation",src:(null===(i=d["474x"])||void 0===i?void 0:i.url)||(null===(n=d["736x"])||void 0===n?void 0:n.url)||(null===(l=d["236x"])||void 0===l?void 0:l.url)||"",children:(0,m.jsx)(a.xu,{alignItems:"end",dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(0, 0, 0, 0) 0%, rgba(0, 0, 0, 0.4) 100%)"}},display:"flex",height:"100%",paddingX:3,paddingY:3,width:"100%",children:(0,m.jsx)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",width:"100%",children:(0,m.jsx)(a.xv,{align:"start",color:"light",size:"300",weight:"bold",children:s.format})})})})})})})}};function C(e){var t,i;let{component:s,slotIndex:d,item:u,showExpandedHeader:c,story:p,view:g,viewParameter:_}=e,{display_options:y,story_type:v,id:f,content_ids:x}=p||{},{logContextEvent:b}=(0,r.v)(),w=(0,l.k6)(),S=null==u?void 0:u.id,k=(0,n.useMemo)(()=>({story_type:v,story_id:f,content_ids:x,article_id:S}),[S,x,f,v]),P=(0,o.Z)({componentType:s,contextLogData:k,impressionType:"Article",loggingId:S,objectIdStr:S,slotIndex:d,viewParameter:_,viewType:g}),j=c?null==y?void 0:null===(t=y.item_view_rep_style)||void 0===t?void 0:t.expanded_explore_article_rep_style:null==y?void 0:null===(i=y.item_view_rep_style)||void 0===i?void 0:i.explore_article_rep_style,{action:C}=u||{},{url:F=""}=C||{},A=Object.hasOwnProperty.call(T,j)?T[j]:h,E=c?I:()=>{w.push(F),b({event_type:101,component:s,view_type:g,view_parameter:_,aux_data:k})};return(0,m.jsx)(a.xu,{ref:P,children:(0,m.jsx)(A,{...e,onTap:E})})}},668916:(e,t,i)=>{"use strict";i.d(t,{H:()=>n});let n=252},48125:(e,t,i)=>{"use strict";i.d(t,{d:()=>n,m:()=>l});let n=216,l=258},429091:(e,t,i)=>{"use strict";i.d(t,{u:()=>n});let n=369},180910:(e,t,i)=>{"use strict";i.d(t,{Gd:()=>a,KW:()=>l,d:()=>r,hk:()=>n});let n=108,l=124,a=3*n,r=3*l},232921:(e,t,i)=>{"use strict";i.d(t,{lf:()=>l,wg:()=>a,xR:()=>n});let n=299,l=270,a=232},981228:(e,t,i)=>{"use strict";i.d(t,{Z:()=>f});var n=i(667294),l=i(883119),a=i(407043),r=i(34518);let o=e=>e?r.a$:r.Ql;function s(e,t,i){return{backgroundColor:`rgba(${e.join(", ")}, ${o(i||t)})`,marginRight:t?"2px":"0px",marginLeft:t?"2px":"0px"}}var d=i(232921),u=i(785893);let c={MOBILE:{HEIGHT_PX:64,WIDTH_PX:48},SMALL:{HEIGHT_PX:72,WIDTH_PX:54},DEFAULT:{HEIGHT_PX:96,WIDTH_PX:72},LARGE:{HEIGHT_PX:130,WIDTH_PX:98}},p=(e,t,i)=>{let n;switch(i){case"MOBILE":n={0:{transform:"rotate(-15deg)",top:"6px",left:"16px"},1:{transform:"rotate(0deg)",top:"3px",left:"30px"},2:{transform:"rotate(15deg)",top:"6px",left:"44px"}};break;case"SMALL":n={0:{transform:t?"rotate(-22deg)":"rotate(-15deg)",top:"12px",left:"12px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"6px":"10px",left:"26px"},2:{transform:t?"rotate(24deg)":"rotate(15deg)",top:"12px",left:"40px"}};break;case"LARGE":n={0:{transform:t?"rotate(-26deg)":"rotate(-15deg)",top:"50px",left:"44px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"36px":"40px",left:"68px"},2:{transform:t?"rotate(26deg)":"rotate(15deg)",top:"56px",left:"98px"}};break;default:n={0:{transform:t?"rotate(-22deg)":"rotate(-15deg)",top:"20px",left:"64px"},1:{transform:t?"rotate(1deg)":"rotate(0deg)",top:t?"10px":"14px",left:"82px"},2:{transform:t?"rotate(24deg)":"rotate(15deg)",top:"20px",left:"100px"}}}let l=n[e];return l.border="1px solid #FFFFFF",l.transition="all 150ms ease-out",l};function m({fanOut:e,card:t,index:i,size:n}){let a;let r=c[n],{height:o=r.HEIGHT_PX,url:s,width:d=r.WIDTH_PX,colorRGB:m,opacity:h}=t;return s?a=(0,u.jsx)(l.Ee,{alt:s,fit:"cover",naturalHeight:o,naturalWidth:d,src:s}):m&&h&&(a=(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:`rgba(${m.join(", ")}, ${h})`}},height:r.HEIGHT_PX,width:r.WIDTH_PX})),(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:p(i,e,n)},position:"absolute",rounding:5,children:(0,u.jsx)(l.zd,{height:r.HEIGHT_PX,rounding:5,wash:!0,width:r.WIDTH_PX,children:a})})}function h(){return(0,u.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(0, 0, 0, 0.03)"}},left:!0,position:"absolute",right:!0,rounding:r.N3,top:!0})}var g=i(605706),_=i(50286);let y={1:function(e){var t;let{pinCards:i,isClicked:n,isHovered:a,item:o={},story:c}=e,p=(0,_.HG)(),y=(0,g.Z)(),v=c&&(null===(t=c.objects)||void 0===t?void 0:t.length),{board_name:f,header_text:x,top_image_dominant_color_rgb:b}=o,w=n?106:110,S=n?d.xR-4:d.xR;p||(w=90,S=1===v?"100%":y?d.wg:d.lf);let k=155;return p||(k=y?108:148),(0,u.jsxs)(l.xu,{dangerouslySetInlineStyle:{__style:s(b,n,a)},display:"flex",height:w,paddingY:2,position:"relative",rounding:r.N3,width:S,children:[(0,u.jsx)(h,{}),(0,u.jsx)(l.xu,{position:"relative",width:p?112:100,children:i.map((e,t)=>(0,u.jsx)(m,{card:e,fanOut:a||n,index:t,size:p?"SMALL":"MOBILE"},t))}),(0,u.jsxs)(l.xu,{direction:"column",display:"flex",justifyContent:"center",marginStart:p?2:3,width:k,children:[(0,u.jsx)(l.xv,{size:p?"200":"100",children:x}),(0,u.jsx)(l.xv,{lineClamp:2,size:"400",weight:"bold",children:f})]})]})},3:function(e){let{pinCards:t,isClicked:i,isHovered:n,item:a}=e,{board_name:o,top_image_dominant_color_rgb:d}=a;return(0,u.jsxs)(l.xu,{alignItems:"end",dangerouslySetInlineStyle:{__style:s(d,i,n)},display:"flex",height:i?165:169,justifyContent:"center",paddingX:4,paddingY:3,position:"relative",rounding:r.N3,width:i?232:236,children:[(0,u.jsx)(h,{}),t.map((e,t)=>(0,u.jsx)(m,{card:e,fanOut:n||i,index:t,size:"DEFAULT"},t)),(0,u.jsx)(l.xv,{align:"center",lineClamp:1,size:"200",weight:"bold",children:o})]})},4:function(e){var t;let{logContextEvent:i}=(0,a.v)(),{pinCards:n,isHovered:o,item:d,view:c,viewParameter:p}=e,{action:g,board_name:_,header_text:y,ideas_deep_link_url:v,top_image_dominant_color_rgb:f}=d,x=null!==(t=null==g?void 0:g.url)&&void 0!==t?t:v.concat("?ideas_referrer=25");return(0,u.jsxs)(l.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:s(f,!1,o)},direction:"column",display:"flex",justifyContent:"end",marginBottom:6,minHeight:377,paddingX:4,paddingY:8,position:"relative",rounding:r.N3,width:236,children:[n.map((e,t)=>(0,u.jsx)(m,{card:e,fanOut:o,index:t,size:"LARGE"},t)),(0,u.jsx)(l.xu,{height:168,width:"100%"}),(0,u.jsx)(h,{}),(0,u.jsxs)(l.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"end",children:[(0,u.jsxs)(l.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:5,marginTop:5,children:[(0,u.jsx)(l.xu,{marginBottom:1,children:(0,u.jsx)(l.xv,{size:"200",weight:"bold",children:y})}),(0,u.jsx)(l.xv,{align:"center",size:"500",weight:"bold",children:_})]}),(0,u.jsx)(l.xu,{display:"flex",justifyContent:"center",marginTop:1,position:"relative",width:"100%",children:(0,u.jsx)(l.ZP,{color:"white",href:x,onClick:({event:e})=>{e.stopPropagation(),i({event_type:101,view_type:c,view_parameter:p,component:14268,element:13002,object_id_str:d.board_id})},size:"lg",text:"Explore"})})]})]})}},v=["100%","60%"];function f(e){var t,i;let{component:o,isInViewOrNext:s,item:{action:d,board_id:c,ideas_deep_link_url:p,images:m,image_dominant_color_rgb:h},slotIndex:g,story:f={},view:x,viewParameter:b}=e,{logContextEvent:w}=(0,a.v)(),S=(0,_.ZP)(),{display_options:k,objects:P}=f,j=null==P?void 0:P.length,[I,T]=(0,n.useState)(!1),[C,F]=(0,n.useState)(!1),[A,E]=(0,n.useState)(!1);(0,n.useEffect)(()=>{if("desktop"===S){let e=setTimeout(()=>E(!0),700);return()=>{clearTimeout(e)}}},[S]);let R=[],D="desktop"!==S?r.mS:r.S$;(s||"desktop"!==S)&&(R=A?[...m[D]]:[m[D][0]]);let L=3-R.length;for(let e=0;e<L;e+=1)R.push({colorRGB:h,opacity:v[e]});R.reverse();let Z=null==k?void 0:null===(t=k.item_view_rep_style)||void 0===t?void 0:t.more_ideas_rep_style,M=y[Z],O=o||r.kx[Z],z=null!==(i=null==d?void 0:d.url)&&void 0!==i?i:p.concat("?ideas_referrer=25");return M&&(0,u.jsx)(l.Tg,{href:z,onMouseDown:()=>F(!0),onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),onTap:()=>w({event_type:101,view_type:x,view_parameter:b,component:O,element:13002,object_id_str:c,aux_data:{index:g,total_object_count:j}}),children:(0,u.jsx)(M,{isClicked:C,isHovered:I,pinCards:R,...e})})}},34518:(e,t,i)=>{"use strict";i.d(t,{N3:()=>n,Ql:()=>l,S$:()=>r,a$:()=>a,kx:()=>s,mS:()=>o});let n=4,l=.35,a=.5,r="170x",o="136x136",s={1:14114,3:14074,4:14268}},988874:(e,t,i)=>{"use strict";i.d(t,{Z:()=>g});var n=i(616550),l=i(883119),a=i(444445),r=i(91885),o=i(477802),s=i(826067),d=i(50286),u=i(8742),c=i(785893);let p=new Set(["shopping_module_closeup","product_pins","shopping_list","shop_tab_upsell"]),m=new Set(["product_tagged_shopping_module_upsell"]),h=e=>null!=e&&e.shop_source||p.has(null==e?void 0:e.story_type)?"ShoppingDynamicHeightGrid":"StoryFeedNonProduct";function g(e){var t,i,p;let{pins_display:g}=(0,s.mB)((0,n.TH)().search),{component:_,isInMobileCarousel:y,imageWidth:v,item:f,saveButtonOptions:x,slideWidth:b,slotIndex:w,story:S,surface:k,view:P,viewParameter:j}=e,I=null!=v?v:a.yF,T="desktop"===(0,d.ZP)(),C=T?I:a.tG;if(!f)return null;let{story_type:F,id:A,content_ids:E,display_options:R,user:D}=S||{},{pins_display:L}=(null==R?void 0:R.content_display)||{},{id:Z,debug:M}=f,O=![3,1].includes(null!=L?L:Number(g)),z={story_type:F,story_id:A,content_ids:E},N=k||h(S),K={auxData:z,componentType:null!==(t=null==S?void 0:null===(i=S.display_options)||void 0===i?void 0:null===(p=i.content_display)||void 0===p?void 0:p.component_type)&&void 0!==t?t:_,impressionData:z,pinId:Z,slotIndex:w,viewData:{pin_id:Z},viewParameter:j,viewType:P},U={authDesktopSurface:N,disableHover:!T,pin:f,pinImageCrop:O?{height:C,width:C}:null,saveButtonOptions:x,pinOwner:m.has(F)&&D?D:null},B=(0,c.jsxs)(l.xu,{"data-test-id":r.Kb,children:[(0,c.jsx)(u.ZP,{...K,...U,duploDisablePinCardPadding:y,duploIsSquarePin:O,duploQueryRef:null,trafficSource:"ShoppingDynamicHeightGrid"===N?"shop_feed":void 0}),M&&(0,c.jsx)(o.Wu,{data:M})]});return O?(0,c.jsx)(l.xu,{flex:"none",width:y?b:C,children:B},Z):B}},57427:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(883119),l=i(785893);function a({height:e,width:t,src:i}){return(0,l.jsx)(n.xu,{height:e,width:t,children:(0,l.jsx)(n.Ee,{alt:"",color:"lightGray",fit:"cover",naturalHeight:e,naturalWidth:t,role:"presentation",src:i})})}},456183:(e,t,i)=>{"use strict";i.d(t,{Z:()=>y});var n=i(667294),l=i(616550),a=i(883119),r=i(407043),o=i(366428),s=i(444445),d=i(327651),u=i(641968),c=i(608760),p=i(785893);let m=.4*s.yF,h=.75*s.yF;var g=i(57427);let _={5:({item:e,imagePlaceholderColor:t=c.hK})=>{let{username:i,image_large_url:n,full_name:l,is_verified_merchant:r=!1,verified_identity:o}=e;return(0,p.jsxs)(a.xu,{width:s.yF,children:[(0,p.jsx)(a.xu,{display:"flex",justifyContent:"center",marginBottom:2,children:(0,p.jsx)(d.Z,{color:t,fullName:l||i,size:120,src:n||""})}),l&&(0,p.jsx)(u.Z,{isVerifiedIdentity:!!(null==o?void 0:o.verified),isVerifiedMerchant:r,name:l})]})},1:({item:e={},story:t,imagePlaceholderColor:i=c.hK})=>{var n,l,r;let{username:o,image_large_url:_,full_name:y,id:v,is_verified_merchant:f=!1,verified_identity:x}=e,b=(null==t?void 0:null===(n=t.custom_properties)||void 0===n?void 0:null===(l=n.preview_image_map)||void 0===l?void 0:null===(r=l[v])||void 0===r?void 0:r[0])||"";return(0,p.jsxs)(a.xu,{height:s.yF,width:s.yF,children:[(0,p.jsx)(a.zd,{height:h,rounding:4,wash:!0,width:s.yF,children:(0,p.jsx)(g.Z,{height:s.yF,src:b,width:s.yF})}),(0,p.jsx)(a.xu,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:-12,children:(0,p.jsx)(d.Z,{color:i,fullName:y||o,size:m,src:_||""})}),y&&(0,p.jsx)(u.Z,{isVerifiedIdentity:!!(null==x?void 0:x.verified),isVerifiedMerchant:f,name:y})]})},2:({item:e={},story:t})=>{var i,n;let{username:l,image_large_url:r,full_name:o,id:c,is_verified_merchant:_=!1,verified_identity:y}=e,[v="",f=""]=(null==t?void 0:null===(i=t.custom_properties)||void 0===i?void 0:null===(n=i.preview_image_map)||void 0===n?void 0:n[c])||[];return(0,p.jsxs)(a.xu,{width:s.yF,children:[(0,p.jsxs)(a.xu,{height:s.yF,children:[(0,p.jsx)(a.zd,{height:h,rounding:4,wash:!0,width:s.yF,children:(0,p.jsxs)(a.kC,{children:[(0,p.jsx)(g.Z,{height:s.yF,src:v,width:s.yF/2}),(0,p.jsx)(a.xu,{color:"default",width:2}),(0,p.jsx)(g.Z,{height:s.yF,src:f,width:s.yF/2})]})}),(0,p.jsx)(a.xu,{display:"flex",justifyContent:"center",marginBottom:2,marginTop:-12,children:(0,p.jsx)(d.Z,{color:"gray",fullName:o||l,size:m,src:r||""})})]}),o&&(0,p.jsx)(u.Z,{isVerifiedIdentity:!!(null==y?void 0:y.verified),isVerifiedMerchant:_,name:o})]})}};function y(e){var t,i;let{logContextEvent:s}=(0,r.v)(),d=(0,l.k6)(),{story:u={},slotIndex:c,component:m,view:h,viewParameter:g,item:y}=e,v=(null===(t=u.display_options)||void 0===t?void 0:null===(i=t.item_view_rep_style)||void 0===i?void 0:i.user_rep_style)||5,f=_[v],x=(0,n.useMemo)(()=>({story_type:u.story_type,story_id:u.id,content_ids:u.content_ids,user_id:y.id}),[y,u]),b=(0,o.Z)({contextLogData:x,impressionType:"User",loggingId:y.id,objectIdStr:y.id,slotIndex:c,viewParameter:g,viewType:h});return f?(0,p.jsx)(a.iP,{ref:b,onTap:()=>{s({event_type:101,view_type:h,view_parameter:g,component:m,aux_data:x}),d.push(`/${y.username}`)},children:(0,p.jsx)(f,{...e})}):null}},327651:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var n=i(883119),l=i(992061),a=i(898781),r=i(349700),o=i(215292),s=i(785893);function d({color:e,fullName:t,size:i,src:d}){let u=(0,a.ZP)();return(0,s.jsx)(o.q,{children:({hovered:a,onMouseEnter:o,onMouseLeave:c})=>(0,s.jsx)(n.xu,{"data-test-id":"category-bubble",marginBottom:2,onMouseEnter:o,onMouseLeave:c,children:(0,s.jsxs)(n.zd,{height:i,rounding:"circle",wash:!0,width:i,children:[(0,s.jsx)(l.Z,{hovered:a,rounding:"circle"}),(0,s.jsx)(n.Ee,{alt:(0,r.nk)(u.bt("Logo de {{ fullName }}", "Logo of {{ fullName }}", "itemRep.userRep.brandLogo", undefined, true),{fullName:t}).join(""),color:e,naturalHeight:i,naturalWidth:i,src:d})]})})})}},641968:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(883119),l=i(865607),a=i(785893);function r({name:e,isVerifiedIdentity:t,isVerifiedMerchant:i}){return(0,a.jsxs)(n.kC,{alignContent:"center",alignItems:"stretch",gap:1,justifyContent:"center",children:[e&&(0,a.jsx)(n.xv,{inline:!0,weight:"bold",children:e}),(0,a.jsx)(l.Z,{isVerifiedIdentity:t,isVerifiedMerchant:i,size:"sm"})]})}},87165:(e,t,i)=>{"use strict";i.d(t,{i:()=>o});var n=i(883119),l=i(444445),a=i(785893);function r(){return(0,a.jsx)(n.xu,{width:l.yF})}function o(e){return Array(e).fill().map((e,t)=>(0,a.jsx)(r,{},t))}},63404:(e,t,i)=>{"use strict";i.d(t,{Z:()=>f,v:()=>g});var n,l=i(167912),a=i(240684),r=i(175892),o=i(897243),s=i(934494),d=i(701865),u=i(981228),c=i(988874),p=i(456183),m=i(785893);let h=(0,a.ZP)({resolved:{},chunkName:()=>"DefaultPinRep",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>Promise.all([i.e(97270),i.e(10966),i.e(11600),i.e(69083),i.e(39921)]).then(i.bind(i,369083)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return i(t)},resolve:()=>369083});function g(e){var t;return(null==e?void 0:e.type)==="pin"&&((null===(t=e.images)||void 0===t?void 0:t["236x"])||{}).url||null}let _=void 0!==n?n:n=i(883597);function y(e){var t,i,n;let{itemData:l,...a}=e,{slotIndex:s,view:g,item:_}=e,{pinId:y,pinGraphQLRef:v}=l;if(v)return y&&g?(0,m.jsx)(h,{duploQueryRef:v,pinId:y,slotIndex:s,viewType:g}):null;switch(null==_?void 0:_.type){case"pin":return(0,m.jsx)(c.Z,{...a});case"user":return(0,m.jsx)(p.Z,{...a});case"board_more_ideas_feed_upsell":return(0,m.jsx)(u.Z,{...a});case"explorearticle":return(0,m.jsx)(d.Z,{...a});case"productgroup":return(0,m.jsx)(r.Z,{productGroup:{coverImages:null===(t=_.cover_images)||void 0===t?void 0:t.map(e=>(0,o.b)(e)),description:_.description,entityId:null!==(i=_.id)&&void 0!==i?i:"",groupType:_.group_type,name:_.name,previewPins:null===(n=_.preview_pins)||void 0===n?void 0:n.map(e=>({imageSignature:e.image_signature,images:e.images&&(0,o.b)(e.images)}))},slotIndex:s});default:return null}}let v=(0,s.Z)({useGraphQLAdapter:e=>{let t=(0,l.useFragment)(_,e),{pinId:i}=t;return{pinId:i,pinGraphQLRef:t}},useLegacyAdapter:e=>e?{item:e,pinGraphQLRef:null}:null});function f({pinGraphQLRef:e,...t}){return(0,m.jsx)(v,{input:e?{enabled:!0,data:e}:{enabled:!1,data:t.item},children:({data:e})=>e&&(0,m.jsx)(y,{...t,itemData:e})})}},643897:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(883119),l=i(608760),a=i(785893);let r=new Map([["pin",4]]);function o({children:e,itemType:t}){return(0,a.jsx)(n.xu,{marginBottom:r.get(t)||l.mT,children:e})}},608760:(e,t,i)=>{"use strict";i.d(t,{g5:()=>r,hK:()=>l,mT:()=>a});var n=i(988874);let l="lightGray",a=8,r={itemRep:n.Z,shape:"square",getImage:()=>""}},563886:(e,t,i)=>{"use strict";i.d(t,{Z:()=>K});var n,l=i(667294),a=i(167912),r=i(883119),o=i(792182),s=i(934494),d=i(444445),u=i(898781),c=i(773285),p=i(754320),m=i(668916),h=i(48125),g=i(429091),_=i(180910),y=i(34518),v=i(232921),f=i(63404),x=i(580326),b=i(848385),w=i(605706),S=i(782975),k=i(905031),P=i(50286),j=i(435497),I=i(239062),T=i(751191),C=i(455024),F=i(390598),A=i(785893);let E=new Set([3,4]),R=new Set([1]),D=({text:e,url:t})=>!!e&&!!t,L=e=>D(e)&&E.has(e.location),Z=e=>D(e)&&R.has(e.location),M=void 0!==n?n:n=i(992872),O=({contentVisibleItemCount:e,moduleWidth:t,gutterWidth:i,isMoreIdeasListCard:n,isStyleBubble:l,isImageAndTitleRep:a,isStorefrontSpotlightCarousel:r,isSfModuleOnMobile:o,isSmallMobileScreen:s,isStackedCollageDisplayCard:u,isTriplePreviewDisplayCard:c,totalObjectCount:p,containerRef:y,deviceType:f,windowWidth:x})=>{let b=o?d.tG:d.yF,w="desktop"===f;if(c)return w?_.d:_.Gd;if(u)return w?h.m:h.d;if(n){if(w)return v.xR;if(1===p){var S;return(null===(S=y.current)||void 0===S?void 0:S.clientWidth)||0}return s?v.wg:v.lf}if(l)return g.u;if(a)return m.H;if(r)return F.PRODUCT_GROUP_COVER_IMAGE_DIMENSIONS.WIDTH;if(e){let n=w?d.oX:d.yt,l=null!=i?i:n,a=t?(0,d.Wv)({contentVisibleItemCount:e,gap:l,width:parseInt(t,10)}):d.yF,r=w?a:d.tG,o=Math.floor(e);return Math.min(Math.floor((x-o*l)/e),parseInt(r,10))}return b};function z(e){var t,i,n,a,s,m,h,g,_,v,F,E,R,D,M,z,N,K,U,B,$;let{addContentRight:H,componentFallback:G,dangerouslySetActionUrl:W,disableHeader:V,gutterWidth:q,initialSlotIndex:Y=0,styleOverrides:Q,saveButtonOptions:J,storyData:X,surface:ee,view:et,viewParameter:ei,width:en}=e,{data:{contentIds:el,displayOptions:ea,objects:er,action:eo,storyId:es,storyTitle:ed,storyType:eu},rawStoryData:ec,storyGraphqlRef:ep,__dataKeys:em}=X,[eh,eg]=(0,l.useState)(0),e_=(0,l.useRef)(null),ey=(0,k.Z)(),ev=(0,w.Z)(),ef=(0,P.ZP)(),ex="desktop"===ef,{width:eb=0}=(0,o.Z)()||{},ew=(0,u.ZP)(),{checkExperiment:eS}=(0,c.F)();if(!er)return null;let ek=null!==(t=null==ea?void 0:null===(i=ea.contentDisplay)||void 0===i?void 0:i.componentType)&&void 0!==t?t:G,eP=(null==ea?void 0:ea.carouselFadeEnds)===1,ej=er.length,eI={carouselSlots:er.map(e=>"graphql"===e.type?{title:void 0,id:void 0}:{title:e.data.title,id:e.data.id}),entityId:"",index:eh},{text:eT,url:eC,location:eF}=null!=eo?eo:{},eA=null!=W?W:eC,eE={backgroundColor:"default",hoverColor:"default",iconColor:"default",size:null!==(n=null==Q?void 0:Q.navigationFabSize)&&void 0!==n?n:void 0},eR={backgroundColor:"secondary",hoverColor:"secondary",iconColor:"subtle",size:32},eD=null==ea?void 0:null===(a=ea.itemViewRepStyle)||void 0===a?void 0:a.moreIdeasRepStyle,eL=y.kx[eD],eZ=(null==ea?void 0:null===(s=ea.itemViewRepStyle)||void 0===s?void 0:s.exploreArticleRepStyle)===4,eM=(null==ea?void 0:null===(m=ea.itemViewRepStyle)||void 0===m?void 0:m.exploreArticleRepStyle)===21,eO=(null==ea?void 0:null===(h=ea.contentDisplay)||void 0===h?void 0:h.componentType)===13698,ez=(null==ea?void 0:null===(g=ea.itemViewRepStyle)||void 0===g?void 0:g.exploreArticleRepStyle)===19,eN=(null==ea?void 0:null===(_=ea.itemViewRepStyle)||void 0===_?void 0:_.exploreArticleRepStyle)===20,eK=(null==ea?void 0:null===(v=ea.headerDisplay)||void 0===v?void 0:v.expandedTextAlignment)!==null,eU=ex?null==ea?void 0:null===(F=ea.contentDisplay)||void 0===F?void 0:null===(E=F.contentVisibleItemCount)||void 0===E?void 0:E.web:null==ea?void 0:null===(R=ea.contentDisplay)||void 0===R?void 0:null===(D=R.contentVisibleItemCount)||void 0===D?void 0:D.mobile,eB=(null==ea?void 0:null===(M=ea.contentDisplay)||void 0===M?void 0:M.carouselScrollingMode)===3,e$=null==ea?void 0:null===(z=ea.contentDisplay)||void 0===z?void 0:null===(N=z.carouselDisplayOptions)||void 0===N?void 0:N.navigationType,eH=ex&&0===e$,eG="recently_viewed"===eu,eW=eG?eS("web_shopping_recently_viewed_module_ranked").group:"",eV=(()=>{if(eW.startsWith("enabled_a1")){let e=Math.floor(er.length/3);return 3*e}return eW.startsWith("enabled")?3:Number(er.length)})();eI.carouselSlots=eI.carouselSlots.slice(0,eV);let eq=eG?4:0,eY=!!eW.startsWith("enabled_a"),eQ=eW.startsWith("enabled_b")?null===(K=er[0].data)||void 0===K?void 0:K.dominantColor:void 0;eG&&(eE.size=32);let eJ=null!=q?q:d.oX,eX=ex?eJ:d.yt,e0=er.filter(({data:e})=>!!e).slice(0,eV),e1=null==ea?void 0:null===(U=ea.contentDisplay)||void 0===U?void 0:null===(B=U.gridLayout)||void 0===B?void 0:B.cols,e2="number"==typeof e1?e1:-1,e6=e2*(ex?d.yF:d.tG)+(e2-1)*eX,e4=-1===e2||en?void 0:e6,e3=Number(null!=en?en:e4)-8*eq-(eY?4:0),e8=O({containerRef:e_,contentVisibleItemCount:eU,moduleWidth:e3,gutterWidth:q,isMoreIdeasListCard:1===eD,isStyleBubble:eZ,isImageAndTitleRep:eM,isStorefrontSpotlightCarousel:eO,isSfModuleOnMobile:ey,isSmallMobileScreen:ev,totalObjectCount:ej,isStackedCollageDisplayCard:eN,isTriplePreviewDisplayCard:ez,deviceType:ef,windowWidth:eb}),e7=(0,C.tD)({slotWidth:e8,containerWidth:(null===($=e_.current)||void 0===$?void 0:$.clientWidth)||0,gap:eX,numberOfSlides:e0.length,index:eh}),e9=en?e8:void 0;return(0,A.jsx)(r.xu,{borderStyle:eY?"lg":void 0,dangerouslySetInlineStyle:eQ?{__style:{backgroundColor:eQ}}:void 0,rounding:4,width:e4,children:(0,A.jsxs)(r.xu,{dangerouslySetInlineStyle:eQ?{__style:{backgroundColor:"rgba(255, 255, 255, 0.7)"}}:void 0,direction:"column",display:"flex",padding:eq,children:[ed&&!V&&(0,A.jsx)(b.Z,{showExpanded:eK,showExtraSmallSubtitle:!!eG,storyKey:em.HeaderModule_story}),(0,A.jsxs)(r.xu,{ref:e_,marginBottom:eH&&!eq?8:0,position:"relative",children:[eH&&(0,A.jsx)(I.default,{backNode:(0,A.jsx)(T.Z,{...eE,iconType:"back",showFab:!0}),carouselData:eI,carouselIndex:eh,componentType:ek,contextLogData:eD?{index:eh}:{},forwardNode:(0,A.jsx)(T.Z,{...eE,iconType:"forward",showFab:!0}),handleCarouselSwipe:e=>{eg(e)},isShowingLastSlide:e7,itemsPerPage:eB&&eU?Math.floor(eU):void 0,pinKey:null,viewParameter:ei,viewType:et}),(0,A.jsxs)(j.Z,{componentType:eL,containerRef:e_,gap:eX,id:"structured-feed-carousel-module",impressionType:eD?"BoardMoreIdeasRep":"Pin",index:eh,shouldBeDragCarousel:!ex,slideWidth:e8,styleOverrides:Q,view:et,viewParameter:ei,children:[e0.map((e,t)=>{var i,n;if(t===e0.length-1&&eo&&eT&&eA&&L(eo)){let i="legacy"===e.type&&(0,f.v)(e.data)||"";return i&&(0,A.jsx)(p.Z,{buttonText:eT,component:ek,contentIds:null!=el?el:void 0,element:179,imageWidth:e9,isInMobileCarousel:!ex,previewImageSrc:i,slideWidth:e8,storyId:null!=es?es:"",storyType:eu,url:eA,view:et,viewParameter:ei},"graphql"===e.type?`${t}`:(0,S.Z)(e.data,t))}return(0,A.jsx)(f.Z,{imageWidth:null!=e9?e9:e8,isInMobileCarousel:!ex,isInViewOrNext:(0,C.Iw)({slotWidth:e8,containerWidth:(null===(i=e_.current)||void 0===i?void 0:i.clientWidth)||0,gap:eX,numberOfSlides:e0.length,index:t,currentIndex:eh}),item:"legacy"===e.type?{...e.data,..."board_more_ideas_feed_upsell"===e.data.type?{header_text:ew.bt("Plus d’idées en lien avec le tableau", "More ideas for", "moreIdeasBoardRepCarousel.carousel.headText", undefined, true)}:{}}:null,pinGraphQLRef:ep&&"graphql"===e.type&&(null===(n=e.data)||void 0===n?void 0:n.__typename)==="Pin"?e.data:null,saveButtonOptions:J,slideWidth:e8,slotIndex:Y+t,story:null!=ec?ec:void 0,surface:ee,view:et,viewParameter:ei},"graphql"===e.type?`${t}`:(0,S.Z)(e.data,t))}),H]}),eP&&eh>0&&(0,A.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{background:"linear-gradient(90deg, #FFFFFF 0%, rgba(255, 255, 255, 0) 100%)"}},height:"100%",left:!0,position:"absolute",top:!0,width:80}),eP&&!e7&&(0,A.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{background:"linear-gradient(270deg, #FFFFFF 0%, rgba(255, 255, 255, 0) 100%)"}},height:"100%",position:"absolute",right:!0,top:!0,width:80})]}),ex&&1===e$&&(0,A.jsx)(r.xu,{marginBottom:8,marginTop:3,position:"relative",width:"100%",children:(0,A.jsx)(I.default,{addEllipsis:!0,alwaysShowNavigationArrows:!0,backNode:(0,A.jsx)(T.Z,{...eR,iconType:"back",showFab:!0}),carouselData:eI,carouselIndex:eh,componentType:ek,contextLogData:eD?{index:eh}:{},ellipsisVariant:"dark",forwardNode:(0,A.jsx)(T.Z,{...eR,iconType:"forward",showFab:!0}),handleCarouselSwipe:e=>{eg(e)},isShowingLastSlide:e7,pinKey:null,sliderStyleOverride:{padding:"0px"},viewParameter:ei,viewType:et})}),eo&&Z(eo)&&(0,A.jsx)(r.xu,{marginTop:4,children:(0,A.jsx)(x.Z,{location:eF,text:eT,url:eA})})]})})}let N=(0,s.Z)({useGraphQLAdapter:e=>{var t;let i=(0,a.useFragment)(M,e);return{data:{...i,objects:null===(t=i.objects)||void 0===t?void 0:t.map(e=>({type:"graphql",data:e}))},rawStoryData:null,storyGraphqlRef:i,__dataKeys:{HeaderModule_story:{type:"graphqlRef",data:i}}}},useLegacyAdapter:e=>{var t,i,n;return e&&{data:{action:e.action&&{location:e.action.location,text:e.action.text,url:e.action.url},contentIds:e.content_ids,displayOptions:e.display_options&&{contentDisplay:e.display_options.content_display&&{gridLayout:e.display_options.content_display.grid_layout&&{cols:e.display_options.content_display.grid_layout.cols},componentType:e.display_options.content_display.component_type,contentVisibleItemCount:{mobile:null===(t=e.display_options.content_display.content_visible_item_count)||void 0===t?void 0:t.mobile,web:null===(i=e.display_options.content_display.content_visible_item_count)||void 0===i?void 0:i.web},carouselDisplayOptions:e.display_options.content_display.carousel_display_options&&{navigationType:e.display_options.content_display.carousel_display_options.navigation_type},carouselScrollingMode:e.display_options.content_display.carousel_scrolling_mode},carouselFadeEnds:e.display_options.carousel_fade_ends,itemViewRepStyle:e.display_options.item_view_rep_style&&{exploreArticleRepStyle:e.display_options.item_view_rep_style.explore_article_rep_style,moreIdeasRepStyle:e.display_options.item_view_rep_style.more_ideas_rep_style},headerDisplay:e.display_options.header_display&&{expandedTextAlignment:e.display_options.header_display.expanded_text_alignment}},objects:null===(n=e.objects)||void 0===n?void 0:n.map(e=>({type:"legacy",data:{...e,dominantColor:e.dominant_color}})),storyId:e.id,storyTitle:e.title?{__typename:"StoryText"}:null,storyType:e.story_type},rawStoryData:e,storyGraphqlRef:null,__dataKeys:{HeaderModule_story:{type:"deprecated",data:e}}}}});function K({storyGraphqlRef:e,...t}){return(0,A.jsx)(N,{input:e?{enabled:!0,data:e}:{enabled:!1,data:t.story},children:({data:e})=>e&&(0,A.jsx)(z,{...t,storyData:e})})}},580326:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(883119),l=i(785893);function a({url:e,text:t,location:i}){return 1===i&&e&&t?(0,l.jsx)(n.kC,{alignItems:"center",justifyContent:"center",children:(0,l.jsx)(n.ZP,{href:e,text:t})}):null}},848385:(e,t,i)=>{"use strict";i.d(t,{Z:()=>x}),i(167912);var n,l=i(616550),a=i(883119),r=i(407043),o=i(356997),s=i(916117),d=i(898781),u=i(50286),c=i(865607),p=i(785893);let m={1:"start",2:"center"},h={1:"100",2:"300"},g={1:"400",4:"200",3:"500",2:"600"},_=new Set([2,4]),y=void 0!==n?n:n=i(612587);function v({showExpanded:e=!1,view:t,viewParameter:i,storyData:n,showExtraSmallSubtitle:s}){var d,y,v,x;let b=(0,l.k6)(),{logContextEvent:w}=(0,r.v)(),S=(0,u.HG)(),{fullName:k,isVerifiedMerchant:P,verifiedIdentity:j,username:I,imageMediumUrl:T}=n.user||Object.freeze({}),C=k||(null===(d=n.storyTitle)||void 0===d?void 0:d.format),{url:F,text:A,location:E,style:R}=n.action||Object.freeze({}),D=F||I||"",L=n.displayOptions||Object.freeze({}),Z=L.headerDisplay||Object.freeze({}),M=e?Z.expandedTextAlignment:Z.textAlignment,O=m[M||1],z=m[Z.subtitleAlignment||1],N=h[Z.headerSize||1],K=Z.headerSize&&g[Z.headerSize]?g[Z.headerSize]:g[1],U=1===Z.subtitleStyle?K:"200",B=(e,t)=>null!=e?e:t,$=B(L.titleTextColor,"default"),H=null!=(x=L.titleTextColor)?x:"default",G=B(L.subtitleTextColor,"subtle"),W=1===Z.titlePosition,V=!!(null!==(y=n.subtitle)&&void 0!==y&&y.format)&&(0,p.jsx)(a.X6,{align:z,color:G,size:U,children:(0,p.jsx)(a.xu,{dangerouslySetInlineStyle:s?{__style:{size:12,fontWeight:"normal",color:"black"}}:void 0,children:n.subtitle.format})}),q=(0,p.jsx)(a.X6,{accessibilityLevel:2,align:O,color:$,size:K,children:C}),Y=()=>{var e;return w({component:null===(e=L.contentDisplay)||void 0===e?void 0:e.componentType,element:179,event_type:S?101:102,view_parameter:i,view_type:t})},Q=e=>{Y();let t=e.replace(/^\/+/,"");b.push(`/${t}`)};return(0,p.jsx)(a.xu,{marginBottom:S?4:2,children:(0,p.jsxs)(a.kC,{direction:"column",gap:{row:0,column:s?0:2},children:[W&&V,(0,p.jsxs)(a.kC,{alignItems:"center",justifyContent:O,children:[I&&T&&(0,p.jsx)(o.qE,{name:I,size:"sm",src:T}),(0,p.jsxs)(a.kC,{alignItems:"baseline",flex:e?"grow":"shrink",justifyContent:O,children:[D?(0,p.jsx)(a.xu,{"data-test-id":"sf-header-heading",children:(0,p.jsx)(a.Tg,{href:D,onTap:({event:e})=>{e.stopPropagation(),Q(D)},tapStyle:"compress",children:q})}):q,P&&(0,p.jsx)(a.xu,{marginStart:2,children:(0,p.jsx)(c.Z,{isVerifiedIdentity:!!(null==j?void 0:j.verified),isVerifiedMerchant:P,size:"xs"})})]}),_.has(E)&&F&&(0,p.jsx)(a.xu,{"data-test-id":"sf-header-action-button",children:(0,p.jsx)(f,{headerTitle:C,onClick:Y,style:R,text:A,url:F})})]}),!W&&V,null!==(v=n.storyDescription)&&void 0!==v&&v.format?(0,p.jsx)(a.xv,{align:O,color:H,size:N,weight:"bold",children:n.storyDescription.format}):null]})})}function f({headerTitle:e,onClick:t,style:i,text:n,url:l}){let r=(0,d.ZP)();return 3!==i&&n?(0,p.jsx)(a.xu,{marginStart:6,children:(0,p.jsx)(a.ZP,{href:l,onClick:t,text:n})}):(0,p.jsx)(a.I_,{accessibilityLabel:e||r.bt("Voir plus", "See more", "headerModule.headerModuleActionButton.iconButton", undefined, true),bgColor:"transparent",href:l,icon:"arrow-forward",iconColor:"darkGray",onClick:t,size:"sm"})}function x({storyKey:e,...t}){let i=(0,s.Z)(y,e);return(0,p.jsx)(v,{...t,storyData:i})}},217149:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>J});var n,l=i(167912),a=i(883119),r=i(934494),o=i(366428),s=i(563886),d=i(580326),u=i(444445),c=i(701865),p=i(988874),m=i(456183),h=i(608760),g=i(848385),_=i(785893);let y=()=>(0,_.jsx)(a.xu,{color:"secondary",height:u.yF,width:u.yF}),v={1:{itemRep:p.Z,deprecatedActionShape:"square",deprecatedGetActionImage:e=>{var t,i;return(null===(t=e.images)||void 0===t?void 0:null===(i=t.orig)||void 0===i?void 0:i.url)||""}},4:{itemRep:c.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>{var t,i;return(null===(t=e.images)||void 0===t?void 0:null===(i=t.orig)||void 0===i?void 0:i.url)||""}},2:{itemRep:m.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>e.image_large_url}};function f({componentFallback:e,showExpanded:t=!0,story:i,view:n,viewParameter:l}){var r,o,s,d,u;let c=(null===(r=i.display_options)||void 0===r?void 0:r.content_display)||{},p=c.model_type,m=v[p]||h.g5,f=m.itemRep||y,x=null!==(o=null===(s=i.display_options)||void 0===s?void 0:null===(d=s.content_display)||void 0===d?void 0:d.component_type)&&void 0!==o?o:e;return(0,_.jsx)(a.xu,{marginBottom:2,children:(0,_.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[i.title&&(0,_.jsx)(g.Z,{showExpanded:t,storyKey:{type:"deprecated",data:i}}),(0,_.jsx)(a.kC,{gap:2,justifyContent:"center",wrap:!0,children:null===(u=i.objects)||void 0===u?void 0:u.map(function(e,t){return(0,_.jsx)(f,{component:x,imagePlaceholderColor:"rgba(0, 0, 0, 0)",index:t,item:e,story:i,view:n,viewParameter:l},t)})})]})})}var x=i(667294),b=i(754320),w=i(87165),S=i(643897),k=i(905031),P=i(745312),j=i(50286);let I="rgba(0, 0, 0, 0)",T=()=>(0,_.jsx)(a.xu,{color:"secondary",height:u.yF,width:u.yF}),C={1:{itemRep:p.Z,deprecatedActionShape:"square",deprecatedGetActionImage:e=>{var t,i;return(null===(t=e.images)||void 0===t?void 0:null===(i=t.orig)||void 0===i?void 0:i.url)||""}},4:{itemRep:c.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>{var t,i;return(null===(t=e.images)||void 0===t?void 0:null===(i=t.orig)||void 0===i?void 0:i.url)||""}},2:{itemRep:m.Z,deprecatedActionShape:"circle",deprecatedGetActionImage:e=>e.image_large_url}};function F({componentFallback:e,dangerouslySetActionUrl:t,dangerouslySetContentVisibleItemCount:i,disableHeader:n,dynamicItemWidth:l,gutterWidth:r,initialSlotIndex:o=0,showExpanded:s,story:d,surface:c,view:p,viewParameter:m,width:y}){var v,f,F,A,E,R,D,L;let Z=(0,j.HG)(),M=(null===(v=d.display_options)||void 0===v?void 0:v.content_display)||{},O=M.model_type,z=C[O]||h.g5,N=z.itemRep||T,{action:K}=d,U=t||(null===(f=d.action)||void 0===f?void 0:f.url)||"",B=null!==(F=null===(A=d.display_options)||void 0===A?void 0:null===(E=A.content_display)||void 0===E?void 0:E.component_type)&&void 0!==F?F:e,$=null===(R=M.grid_layout)||void 0===R?void 0:R.rows,H="number"==typeof $?$:1,G=null===(D=M.grid_layout)||void 0===D?void 0:D.cols,W="number"==typeof G?G:-1,V=-1===W,q=null!=i?i:null===(L=M.content_visible_item_count)||void 0===L?void 0:L.web,Y=q&&y&&l?(0,u.Wv)({contentVisibleItemCount:q,gap:null!=r?r:u.oX,width:parseInt(y,10)}):u.yF,{containerRef:Q,itemsToRender:J,actionItem:X}=(0,P.n)({items:d.objects||[],itemWidth:(0,k.Z)()?u.tG:Y,itemGap:null!=r?r:u.oX,actionItemType:K?"one":void 0,numRows:H}),ee=X&&z.deprecatedGetActionImage?z.deprecatedGetActionImage(X):void 0,et=V?J:d.objects||[],ei=et.map((e,t)=>(0,_.jsx)(S.Z,{itemType:"string"==typeof e.type?e.type:null,children:(0,_.jsx)(N,{component:B,imagePlaceholderColor:I,imageWidth:Y,index:t,item:e,slotIndex:o+t,story:d,surface:c,view:p,viewParameter:m})},t)),en=!!U&&!!(null!=K&&K.text)&&ee&&(0,_.jsx)(b.Z,{buttonText:K.text,component:B,contentIds:d.content_ids,element:179,imageWidth:Y,previewImageSrc:ee,shape:z.deprecatedActionShape,storyId:d.id,storyType:d.story_type,url:U,view:p,viewParameter:m});return(0,_.jsxs)(a.xu,{alignItems:"stretch",color:"default",direction:"column",display:"flex",justifyContent:"start",children:[d.title&&!n&&(0,_.jsx)(g.Z,{showExpanded:s,storyKey:{type:"deprecated",data:d}}),V?(0,_.jsxs)(P.Z,{containerRef:Q,itemGap:null!=r?r:u.oX,numRows:H,rowAlignment:"center",children:[ei,en,H>1&&(0,w.i)(12)]}):(0,_.jsxs)(x.Fragment,{children:[Array(H).fill(null).map((e,t)=>(0,_.jsx)(a.kC,{alignItems:"stretch",gap:Z?u.jC:u.D6,justifyContent:"start",wrap:W<=1,children:W>0&&Array(W).fill(null).map((e,i)=>ei[t*W+i])},et[t].id)),en]})]})}function A({componentFallback:e,showExpanded:t=!0,story:i,view:n,viewParameter:l}){var r,o,s,d;let c=(null===(r=i.display_options)||void 0===r?void 0:r.content_display)||{},p=c.model_type,m=C[p]||h.g5,y=m.itemRep||T,v=null!==(o=null===(s=i.display_options)||void 0===s?void 0:null===(d=s.content_display)||void 0===d?void 0:d.component_type)&&void 0!==o?o:e,f=(0,k.Z)()?u.tG:u.yF;return(0,_.jsxs)(a.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[i.title&&(0,_.jsx)(g.Z,{showExpanded:t,storyKey:{type:"deprecated",data:i}}),(0,_.jsx)(a.Rk,{columnWidth:f,gutterWidth:u.oX,items:i.objects||[],layout:"flexible",renderItem:({data:e,itemIdx:t})=>(0,_.jsx)(y,{component:v,imagePlaceholderColor:I,index:t,item:e,story:i,view:n,viewParameter:l},t)})]})}function E(e){var t,i;switch(null===(t=e.story.display_options)||void 0===t?void 0:null===(i=t.content_display)||void 0===i?void 0:i.pins_display){case 3:case 1:return(0,_.jsx)(A,{...e});default:return(0,_.jsx)(F,{...e})}}var R=i(792182),D=i(616550),L=i(407043),Z=i(356997),M=i(898781),O=i(477802);let z=({actionText:e,actionUrl:t,articleId:i,author:n,authorAvatar:l,component:r,contentIds:s,coverImage:d,debug:u,index:c,isFullWidth:p=!1,onImageLoad:m,storyId:h,storyType:g,subtitle:y,title:v,view:f,viewParameter:b,width:w,windowWidth:S})=>{let k=(0,M.ZP)(),P=(0,D.k6)(),{logContextEvent:j}=(0,L.v)(),[I,T]=(0,x.useState)(!1),C=(0,o.Z)({loggingId:i,objectIdStr:i,impressionType:"Article",contextLogData:{content_ids:s,story_id:h,story_type:g,article_id:i},slotIndex:c,viewParameter:b,viewType:f,componentType:r});return(0,_.jsx)(a.xu,{"data-test-id":"sf-hero",children:(0,_.jsxs)(a.xu,{ref:C,height:"auto",onMouseEnter:()=>T(!0),onMouseLeave:()=>T(!1),width:w,children:[(0,_.jsx)(a.iP,{onTap:()=>{j({event_type:101,view_type:f,view_parameter:b,component:r,aux_data:{article_id:i,content_ids:s,story_id:h,story_type:g}}),P.push(t)},children:(0,_.jsxs)(a.xu,{height:p?400:"35vw",maxHeight:500,overflow:"hidden",position:"relative",children:[(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.4s",transform:I?"scale(1.5)":"scale(1)"}},height:"100%",width:"100%",children:(0,_.jsx)(a.Ee,{alt:k.bt("Image de couverture de ce Shopping Spotlight", "Cover image of this shopping spotlight", "hero.heroCoverImage", undefined, true),color:"#fff",fit:"cover",naturalHeight:400,naturalWidth:400,onLoad:m,src:d,children:(0,_.jsx)(a.xu,{color:"transparentDarkGray",display:"block",height:"100%",opacity:.3,width:"100%"})})}),(0,_.jsx)(a.xu,{bottom:!0,marginBottom:p?12:0,padding:6,position:"absolute",width:"100%",children:(0,_.jsxs)(a.kC,{direction:"column",height:"100%",justifyContent:"end",children:[(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{transition:"transform 0.4s",transform:I?"translateY(-20px)":"translateY(20px)"}},children:(0,_.jsx)(a.X6,{color:"light",size:S<=822?"600":S<1e3?"400":S<1100?"500":"600",children:v})}),(0,_.jsxs)(a.xu,{dangerouslySetInlineStyle:{__style:{opacity:I?1:0,transition:I?"opacity 0.4s ease-in":"opacity 0.4s ease-out"}},display:"block",height:I?"auto":20,overflow:"hidden",children:[(0,_.jsx)(a.xv,{color:"inverse",children:y}),n&&(0,_.jsx)(a.xu,{marginTop:4,children:(0,_.jsxs)(a.kC,{alignItems:"center",direction:"row",children:[(0,_.jsx)(Z.qE,{name:n,size:"md",src:l}),"\xa0",(0,_.jsx)(a.xv,{color:"inverse",children:n})]})})]}),(0,_.jsx)(a.xu,{marginTop:4,width:"74px",children:(0,_.jsx)(a.zx,{color:"white",onClick:()=>{P.push(t)},size:"lg",text:e})})]})})]})}),void 0!==u&&(0,_.jsx)(O.ZP,{data:u})]})})};var N=i(435497),K=i(239062),U=i(751191);function B({onImageLoad:e,story:t,view:i,viewParameter:n,component:l,width:r}){var o;let[s,d]=(0,x.useState)(0),u=(0,x.useRef)(null),c=(null===(o=t.objects)||void 0===o?void 0:o.slice(0,3))||[];return(0,_.jsxs)(a.xu,{ref:u,alignItems:"end",display:"flex",height:400,justifyContent:"center",position:"relative",width:r,children:[(0,_.jsx)(N.Z,{containerRef:u,id:t.id,index:s,slideWidth:r,children:c.map((a,o)=>{var s,d,u,c,p;return(0,_.jsx)(z,{actionText:(null===(s=a.action)||void 0===s?void 0:s.text)||"",actionUrl:(null===(d=a.action)||void 0===d?void 0:d.url)||"",articleId:a.id,component:l,coverImage:a.cover_images&&(null===(u=a.cover_images[0].originals)||void 0===u?void 0:u.url)||"",debug:a.debug,index:o,isFullWidth:!0,onImageLoad:e,storyId:t.id,storyType:t.story_type,subtitle:(null===(c=a.subtitle)||void 0===c?void 0:c.format)||"",title:(null===(p=a.title)||void 0===p?void 0:p.format)||"",view:i,viewParameter:n,width:r,windowWidth:r},a.id)})}),(0,_.jsx)(a.xu,{display:"inlineBlock",height:"auto",paddingY:5,position:"absolute",width:"60%",children:(0,_.jsx)(K.default,{addEllipsis:!0,backNode:(0,_.jsx)(U.Z,{iconColor:"inverse",iconType:"back",showFab:!0}),carouselData:{index:s,entityId:"",carouselSlots:c.map(e=>({id:e.id,title:null}))},carouselIndex:s,forwardNode:(0,_.jsx)(U.Z,{iconColor:"inverse",iconType:"forward",showFab:!0}),handleCarouselSwipe:e=>{d(e)},pinKey:null})})]})}function $({component:e,onImageLoad:t,story:i,view:n,viewParameter:l,windowWidth:r}){var o;let s=(null===(o=i.objects)||void 0===o?void 0:o.slice(0,3))||[];return(0,_.jsxs)(x.Fragment,{children:[(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:s[0].dominant_colors[0]}},flex:"grow"}),s.map((a,o)=>{var s,d,u,c,p;return(0,_.jsx)(z,{actionText:(null===(s=a.action)||void 0===s?void 0:s.text)||"",actionUrl:(null===(d=a.action)||void 0===d?void 0:d.url)||"",articleId:a.id,component:e,coverImage:a.cover_images&&(null===(u=a.cover_images[0].originals)||void 0===u?void 0:u.url)||"",debug:a.debug,index:o,onImageLoad:t,storyId:i.id,storyType:i.story_type,subtitle:(null===(c=a.subtitle)||void 0===c?void 0:c.format)||"",title:(null===(p=a.title)||void 0===p?void 0:p.format)||"",view:n,viewParameter:l,width:500,windowWidth:r},a.id)}),(0,_.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:s[2].dominant_colors[0]}},flex:"grow"})]})}function H({component:e,pwtSurfaceContext:t,story:i,view:n,viewParameter:l}){let{width:r}=(0,R.Z)()||{},o=()=>{t&&t.markConstraintComplete("RenderHeroImages")};return(0,_.jsx)(x.Fragment,{children:(0,_.jsx)(a.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",width:r,children:3==(!r||r>822?3:1)?(0,_.jsx)($,{component:e,onImageLoad:o,story:i,view:n,viewParameter:l,windowWidth:r}):(0,_.jsx)(B,{component:e,onImageLoad:o,story:i,view:n,viewParameter:l,width:r})})})}function G({story:e}){var t;let i=(0,D.k6)(),{user:n,custom_properties:l,action:r}=e||{},{full_name:o,username:s,image_medium_url:d}=n||{},c=o||(null===(t=e.title)||void 0===t?void 0:t.format)||"",{url:p,text:m}=r||{},{image:h}=l||{};if(!p||!m)return null;let g=(0,_.jsxs)(a.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:"100%",justifyContent:"center",padding:2,position:"relative",children:[s&&d&&(0,_.jsx)(a.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,_.jsx)(Z.qE,{name:s,size:"sm",src:d})}),c&&(0,_.jsx)(a.xv,{color:"inverse",weight:"bold",children:c})]});return(0,_.jsxs)(a.xu,{marginBottom:4,width:u.yF,children:[(0,_.jsx)(a.iP,{onTap:()=>i.push(p),children:(0,_.jsx)(a.zd,{height:u.yF,rounding:2,wash:!0,children:"string"==typeof h&&h?(0,_.jsx)(a.Ee,{alt:c,fit:"contain",naturalHeight:u.yF,naturalWidth:u.yF,src:h,children:g}):(0,_.jsx)(a.xu,{height:u.yF,width:u.yF,children:g})})}),(0,_.jsx)(a.xu,{marginTop:3,children:(0,_.jsx)(a.ZP,{fullWidth:!0,href:p,text:m})})]})}let W=new Set([101]),V="UNKNOWN_CONTAINER_TYPE",q=void 0!==n?n:n=i(282167);function Y(e){var t,i;let{componentFallback:n,initialSlotIndex:l,view:r,viewParameter:u,width:c,story:{data:{action:p,containerType:m,contentIds:h,displayOptions:y,storyId:v,storyType:x,trackingParams:b},forward:{dataKeys:w,rawStoryData:S,storyGraphqlRef:k}}}=e,P=null!==(t=null==y?void 0:null===(i=y.contentDisplay)||void 0===i?void 0:i.componentType)&&void 0!==t?t:n,j=(0,o.Z)({clientTrackingParams:b,componentType:P,contextLogData:{story_id:v,story_type:x,content_ids:h},impressionType:"Story",loggingId:v,slotIndex:l||0,viewParameter:u,viewType:r}),I={...e,component:P},T=(()=>{switch(m){case 90:return(0,_.jsx)(s.Z,{...I,story:S,storyGraphqlRef:k,width:"number"==typeof I.width?I.width:void 0});case 88:let{story:e,...t}=I,i={...t,storyKey:w.HeaderModule_story};return(0,_.jsx)(g.Z,{...i});case 89:let{location:n,text:l,url:a}=p||{};return(0,_.jsx)(d.Z,{location:n,text:l,url:a});case 91:return!!S&&(0,_.jsx)(E,{...I,story:S});case 101:return!!S&&(0,_.jsx)(H,{...I,story:S});case 92:return!!S&&(0,_.jsx)(G,{...I,story:S});case 131:return!!S&&(0,_.jsx)(f,{...I,story:S});default:return V}})();return T===V?null:(0,_.jsxs)(a.xu,{ref:j,width:W.has(m)?void 0:c,children:[T,(0,_.jsx)(a.xu,{})]})}let Q=(0,r.Z)({useGraphQLAdapter:e=>{let t=(0,l.useFragment)(q,e);return{data:t,forward:{rawStoryData:null,storyGraphqlRef:t,dataKeys:{HeaderModule_story:{type:"graphqlRef",data:t}}}}},useLegacyAdapter:e=>{var t;return e&&{data:{action:e.action&&{location:e.action.location,text:e.action.text,url:e.action.url},containerType:"number"==typeof e.container_type?e.container_type:void 0,contentIds:e.content_ids,displayOptions:e.display_options&&{contentDisplay:e.display_options.content_display&&{componentType:e.display_options.content_display.component_type}},storyId:null!==(t=e.id)&&void 0!==t?t:"",storyType:e.story_type,trackingParams:e.tracking_params},forward:{rawStoryData:e,storyGraphqlRef:null,dataKeys:{HeaderModule_story:{type:"deprecated",data:e}}}}}});function J({storyGraphqlRef:e,...t}){return(0,_.jsx)(Q,{input:e?{enabled:!0,data:e}:{enabled:!1,data:t.story},children:({data:e})=>e&&(0,_.jsx)(Y,{...t,story:e})})}},605706:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(667294),l=i(50286);function a(){let[e,t]=(0,n.useState)(!1),i=(0,l.HG)();return(0,n.useEffect)(()=>{!i&&window.innerWidth<320&&t(!0)},[i,t]),e}},782975:(e,t,i)=>{"use strict";function n(e,t){var i;let n=`${e.type||""} ${t.toString()}`;switch(e.type){case"pin":return e.title||n;case"user":return e.username||n;case"explorearticle":return(null===(i=e.title)||void 0===i?void 0:i.format)||n;case"story":return e.id||n;default:return n}}i.d(t,{Z:()=>n})},905031:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(792182),l=i(444445);function a(){let{width:e}=(0,n.Z)()||{width:0};return e<2*l.yF+l.$H}},501338:(e,t,i)=>{"use strict";i.d(t,{Pw:()=>n,SB:()=>l,ZP:()=>r,x9:()=>a});let n=80,l=56,a=e=>"phone"===e?l:n;function r(e,t){return t?0:a(e)}},100183:(e,t,i)=>{"use strict";i.d(t,{CC:()=>l,Ll:()=>r,XF:()=>a});let n=(e,t,i)=>({x:Math.floor(e*Math.cos(i)),y:Math.floor(t*Math.sin(i))}),l=(e,t)=>n(t/2,e/2,2*Math.random()*Math.PI),a=(e,t)=>Math.floor(Math.random()*(t-e+1))+e,r=e=>["@-webkit-keyframes","@keyframes"].map(t=>e.map(e=>t+" "+e).join("\n")).join("\n")},613316:(e,t,i)=>{"use strict";function n(e){return[0,24,21,26].includes(e)}function l({articleType:e,id:t,title:i}){let n=i.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\’'"]/g,"").trim().replace(/\s+/g,"-");return"today"===e?`/today/shop/${n}/${t}/`:`/discover/article/${n}/${t}/`}i.d(t,{x:()=>l,y:()=>n})},987765:(e,t,i)=>{"use strict";i.d(t,{t:()=>y,Z:()=>f});var n=i(883119),l=i(667294),a=i(391254),r=i(785893);let o="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",s=()=>[,,,,,].fill().map(()=>o[Math.floor(Math.random()*o.length)]).join(""),d=e=>{let t=[],i=Math.floor(3*Math.random()+1);for(let n=0;n<i-1;n+=1){let i=Math.floor(Math.random()*(e.length-1)+1);t.push(i)}t.sort((e,t)=>e-t);let n=[],l=0;for(let i=0;i<t.length;i+=1)n.push(e.slice(l,t[i])),l=t[i];return n.push(e.slice(l)),[...n]};function u({children:e}){let t=(0,l.useMemo)(()=>d(e.replace("  "," ")).map(e=>({className:s(),content:e})),[e]);return(0,r.jsxs)(l.Fragment,{children:[(0,r.jsx)(a.Z,{unsafeCSS:t.map(({className:e,content:t})=>`.${e} { display: inline; overflow-wrap: unset; } .${e}:before { content: "${t}"; font-weight: 600;  }`).join(" ")}),t.map(({className:e})=>(0,r.jsx)("div",{className:e},e))]})}var c=i(773285),p=i(780280),m=i(19121);let h=e=>"Promoted by"===e,g=()=>{var e;let t=(0,m.Z)(),{checkExperiment:i}=(0,c.F)(),n=null!==(e=i("web_obfuscate_ads_with_global_css").group.split("_")[3])&&void 0!==e?e:"op";return`${n}${t.isAuth?t.id:"unauth"}`},_=()=>(0,r.jsx)("div",{className:g()}),y=()=>{let{checkExperiment:e}=(0,c.F)(),t=g();return e("web_obfuscate_ads_with_global_css").anyEnabled?(0,r.jsx)(a.Z,{unsafeCSS:`.${t}:before { content: "Promoted by"; font-weight: 600;  }`}):null};function v({children:e}){let{checkExperiment:t}=(0,c.F)();return t("web_obfuscate_ads_with_global_css").anyEnabled?(0,r.jsx)(_,{}):(0,r.jsx)(u,{children:e})}function f({children:e,lineClamp:t,size:i,underline:l,weight:a}){let{isAuthenticated:o}=(0,p.B)(),s=o&&h(e);return(0,r.jsx)(n.xv,{lineClamp:t,size:i,title:s?void 0:e,underline:l,weight:a,children:s?(0,r.jsx)(v,{children:e}):e})}},780678:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l,v:()=>n});let n=()=>"undefined"!=typeof navigator&&"getInstalledRelatedApps"in navigator;async function l(){if(!n())return[];try{let e=await navigator.getInstalledRelatedApps();return e}catch(e){return[]}}},78714:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(56641),l=i(867820),a=i(954931);let r=(e,t)=>{null!=t&&t.disableOriginCheck||(0,a.Z)(e)||(e="/",(0,l.My)("url_reset")),(0,n.Z)(e)}},792182:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(667294);function l(e){return window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)}function a(){return window.innerWidth}function r(){return window.innerHeight}function o(){return null}function s(){let e=(0,n.useSyncExternalStore)(l,r,o),t=(0,n.useSyncExternalStore)(l,a,o);return null!==e&&null!==t?{height:e,width:t}:null}},924196:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n={GOOGLE_ADWORDS_ID:852082959,GOOGLE_ADWORDS_LABEL_PROPEL_QUALIFIED:"Mah3CPrv13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_PROPEL_UNQUALIFIED:"_DJfCKzy13YQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CREATE:"GGbCCM7p-nYQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT:"SwBsCIz9k3cQj4KnlgM",GOOGLE_ADWORDS_LABEL_BUSINESS_ADVERTISER_INTENT:"kDf0COWL4okBEI-Cp5YD",DOUBLECLICK_TAG_ID:"8032161",DOUBLECLICK_EVENT_ID_PROPEL:"prope001",DOUBLECLICK_CATEGORY_ID_PROPEL_QUALIFIED:"pinte0",DOUBLECLICK_CATEGORY_ID_PROPEL_UNQUALIFIED:"pinte00",TRADEDESK_ADVERTISER_ID:"fc1uc9n",TRADEDESK_EVENT_ID_GENERAL_PAGEVIEW:"ogalyt3",TRADEDESK_CONVERSION_ID_PROPEL_QUALIFIED:"judrn76",TRADEDESK_CONVERSION_ID_PROPEL_UNQUALIFIED:"f0v4s5d",FACEBOOK_ADVERTISER_ID:"956400731086791",TWITTER_UNIVERSAL_TAG_ID:"nuzh8",TWITTER_CONVERSION_ID_PROPEL_QUALIFIED:"ny8zl",TWITTER_CONVERSION_ID_PROPEL_UNQUALIFIED:"nya0d",LINKEDIN_PARTNER_ID:"44352",LINKEDIN_CONVERSION_ID_PROPEL_QUALIFIED:"166217",LINKEDIN_CONVERSION_ID_PROPEL_UNQUALIFIED:"171754",LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT:"529092",PINTEREST_TAG_ID:"2614461171935",SMB_PAID_PINTEREST_ID:"2613736141997"}},904431:(e,t,i)=>{"use strict";function n(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z:()=>a});class l{static reportGoogleConversion(e,t,i,n){if(!n){if(void 0===window.gtag_report_conversion){l.queuedGoogleConversions.push({id:e,label:t,url:i});return}window.gtag_report_conversion(e,t,i)}}static reportFacebookConversion(e,t,i){if(void 0===window.fbq){l.queuedFacebookConversions.push({id:e,event:t,data:i});return}i?window.fbq("track",t,i):window.fbq("track",t)}static reportCustomFacebookConversion(e,t,i){if(void 0===window.fbq){l.queuedFacebookConversions.push({id:e,isCustomEvent:!0,event:t,data:i});return}i?window.fbq("trackCustom",t,i):window.fbq("trackCustom",t)}static reportPinterestConversion(e,t,i){if(void 0===window.pintrk){l.queuedPinterestConversions.push({id:e,event:t,data:i});return}i?window.pintrk("track",t,i):window.pintrk("track",t)}static reportTheTradeDeskConversion(e,t){let i=document.createElement("img");i.setAttribute("height","1"),i.setAttribute("width","1"),i.setAttribute("role","presentation"),i.style.borderStyle="none",i.style.position="absolute",i.setAttribute("src",`//insight.adsrvr.org/track/conv/?adv=${e}&ct=0:${t}&fmt=3`),document.body.insertBefore(i,document.body.lastChild)}static reportLinkedInConversion(e,t){let i=document.createElement("img");i.setAttribute("width","1"),i.setAttribute("height","1"),i.setAttribute("role","presentation"),i.setAttribute("src",`https://dc.ads.linkedin.com/collect/?pid=${e}&conversionId=${t}&fmt=gif`),i.style.display="none",document.body.insertBefore(i,document.body.lastChild)}static reportDoubleClickConversion(e,t,i){let n=document.createElement("iframe");n.setAttribute("width","1"),n.setAttribute("height","1"),n.setAttribute("frameborder","0"),n.setAttribute("src",`https://${e}.fls.doubleclick.net/activityi;src=${e};
    type=${t};cat=${i};dc_lat=;dc_rdid=;tag_for_child_directed_treatment=;ord=${1e13*Math.random()}?`),n.style.display="none",document.body.insertBefore(n,document.body.lastChild)}static insertGoogleAdWordsTag(e,t){let i=document.createElement("script");t||(i.setAttribute("async",""),i.setAttribute("src",`https://www.googletagmanager.com/gtag/js?id=AW-${e}`),i.onload=()=>{window.dataLayer=window.dataLayer||[],window.gtag=function(e,t,i){window.dataLayer.push(arguments)},window.gtag("js",new Date),window.gtag("config","AW-"+e),window.gtag_report_conversion=function(e,t,i){return window.gtag("event","conversion",{send_to:"AW-"+e+"/"+t,event_callback:function(){void 0!==i&&window.location.assign(i)}}),!1};let i=l.queuedGoogleConversions;for(let n=0;n<i.length;n+=1){let a=i[n];a.id===e&&l.reportGoogleConversion(a.id,a.label,a.url,t)}}),document.body.insertBefore(i,document.body.firstChild)}static insertFacebookPixelTag(e){var t,i,n,a,r,o;t=window,i=document,n="script",t.fbq||(a=t.fbq=function(){"function"==typeof a.callMethod?a.callMethod(...arguments):a.queue.push(arguments)},t._fbq||(t._fbq=a),a.push=a,a.loaded=!0,a.version="2.0",a.queue=[],(r=i.createElement(n)).async=!0,r.src="//connect.facebook.net/en_US/fbevents.js",(o=i.getElementsByTagName(n)[0]).parentNode.insertBefore(r,o)),window.fbq("init",e),window.fbq("track","PageView");let s=l.queuedFacebookConversions;for(let t=0;t<s.length;t+=1){let i=s[t];i.id===e&&(i.isCustomEvent?l.reportCustomFacebookConversion(e,i.event,i.data):l.reportFacebookConversion(e,i.event,i.data))}}static insertPinterestTag(e){!function(e){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};let t=window.pintrk;t.queue=[],t.version="3.0";let i=document.createElement("script");i.async=!0,i.src=e;let n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(i,n)}}("https://s.pinimg.com/ct/core.js"),window.pintrk("load",e),window.pintrk("page");let t=l.queuedPinterestConversions;for(let i=0;i<t.length;i+=1){let n=t[i];n.id===e&&l.reportPinterestConversion(e,n.event,n.data)}}}n(l,"queuedGoogleConversions",[]),n(l,"queuedFacebookConversions",[]),n(l,"queuedPinterestConversions",[]);let a=l},81636:(e,t,i)=>{"use strict";i.d(t,{Q:()=>s,Z:()=>d});var n=i(667294),l=i(112690),a=i(385740),r=i(767546),o=i(780280);function s(e,t){let{setViewContextData:i}=(0,a.sV)(),{requestIdentifier:s}=(0,o.B)(),d=(0,l.Z)(),{viewData:u}=(0,a.SU)();(0,n.useEffect)(()=>{if(e){var t;i({viewType:null!==(t=e.view_type)&&void 0!==t?t:1,viewParameter:e.view_parameter,viewData:e.view_data?(0,r.Z)(u,e.view_data):u,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:s})}},[t])}function d(e){let{children:t,log:i}=e;return s(i),t||null}},407043:(e,t,i)=>{"use strict";i.d(t,{B:()=>s,v:()=>o});var n=i(385740),l=i(425288),a=i(785893);let{Provider:r,useHook:o}=(0,l.Z)("ContextLogger");function s({children:e,value:t}){let{setViewContextData:i}=(0,n.sV)();return t.injectSetViewContextDataFromHook=i,(0,a.jsx)(r,{value:t,children:e})}},755289:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=()=>1e6*Date.now()},385740:(e,t,i)=>{"use strict";let n;i.d(t,{BE:()=>d,Ih:()=>u,SU:()=>c,sV:()=>s});var l=i(667294),a=i(425288),r=i(785893);let{Provider:o,useHook:s}=(0,a.Z)("View");function d(){return n}function u({children:e,initialState:t={}}){let[i,a]=(0,l.useState)(t),s=(0,l.useCallback)(()=>{n={},a({})},[]),d=(0,l.useCallback)(e=>{n={...n,...e},a(t=>({...t,...e}))},[]),u=(0,l.useMemo)(()=>({viewContextData:i,clearViewContextData:s,setViewContextData:d}),[i,d,s]);return(0,r.jsx)(l.Fragment,{children:(0,r.jsx)(o,{value:u,children:e})})}function c(){let{viewContextData:e}=s();return e}},425288:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(667294);function l(e,t){let i="consumer"===t?`${e}Consumer`:`use${e}`;return`
  ${i} must be used within a ${e}Provider.
  Please see https://pdocs.pinadmin.com/docs/webapp/docs/testing-jest#createhydra-errors for more information.
  `}function a(e,t){let i=(0,n.createContext)(t),{messageDisplayName:a}=function(e,t){let i=e.slice(1);if(i=i.endsWith("Context")?i:`${i}Context`,t){let n=`with${e[0].toUpperCase()}${i}(${t})`;return{hocDisplayName:n}}let n=`${e[0].toLowerCase()}${i}`,l=`${e[0].toUpperCase()}${i}`;return{propsDisplayName:n,messageDisplayName:l}}(e);i.displayName=a;let{Provider:r}=i,o=({children:e})=>{let t=(0,n.useContext)(i);if(void 0===t)throw Error(l(a,"consumer"));return e(t)},s=()=>(0,n.useContext)(i);return r.displayName=`${a}Provider`,o.displayName=`${a}Consumer`,{Provider:r,Consumer:o,MaybeConsumer:({children:e})=>{let t=(0,n.useContext)(i);return e(t)},useMaybeHook:s,useHook:function(){let e=s();if(void 0===e)throw Error(l(a,"hook"));return e}}}},782534:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r,k:()=>n.k});var n=i(451820),l=i(780280),a=i(785893);let r=({dateFormatType:e,useUTC:t=!0,value:i})=>(0,a.jsx)(l.LC,{children:l=>(0,n.Z)(l.locale,i,e,t)})},451820:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a,k:()=>n});let n={LONG:"long",YEAR:"year",WEEKDAY_DATE:"weekday_date",WEEKDAY_DATE_TIME_TIMEZONE:"weekday_date_time_timezone",SHORT_WEEKDAY_DATE:"short_weekday_date",LONG_MONTH_YEAR:"long_month_year",NUMERIC:"numeric",MONTH_DAY:"month_day",SHORT_MONTH:"short_month",SHORT_MONTH_DAY:"short_month_day",DAY:"day",YEAR_SHORT_MONTH_DAY:"year_short_month_day",YEAR_SHORT_MONTH_DAY_HOUR:"year_short_month_day_hour",TIME:"time",TIME_TIMEZONE:"time_timezone",HOUR:"hour",TWO_DIGIT:"two_digit",TWO_DIGIT_YEAR:"two_digit_year"},l=function(e){switch(e){case n.YEAR:return{year:"numeric"};case n.LONG:return{year:"numeric",month:"long",day:"numeric"};case n.NUMERIC:return{year:"numeric",month:"numeric",day:"numeric"};case n.TWO_DIGIT:return{year:"numeric",month:"2-digit",day:"2-digit"};case n.TWO_DIGIT_YEAR:return{year:"2-digit",month:"2-digit",day:"2-digit"};case n.WEEKDAY_DATE:return{weekday:"long",month:"long",day:"numeric",year:"numeric"};case n.SHORT_WEEKDAY_DATE:return{weekday:"short",month:"numeric",day:"numeric"};case n.WEEKDAY_DATE_TIME_TIMEZONE:return{weekday:"short",month:"numeric",day:"numeric",hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.MONTH_DAY:return{month:"long",day:"numeric"};case n.SHORT_MONTH:return{month:"short"};case n.SHORT_MONTH_DAY:return{month:"short",day:"numeric"};case n.DAY:return{day:"numeric"};case n.LONG_MONTH_YEAR:return{month:"long",year:"numeric"};case n.YEAR_SHORT_MONTH_DAY:return{year:"numeric",month:"short",day:"numeric"};case n.YEAR_SHORT_MONTH_DAY_HOUR:return{month:"short",year:"numeric",day:"numeric",hour:"numeric"};case n.TIME:return{hour:"numeric",minute:"2-digit"};case n.TIME_TIMEZONE:return{hour:"numeric",minute:"2-digit",timeZoneName:"short"};case n.HOUR:return{hour:"numeric"};default:throw Error('invalid dateFormatType "'+e+'"')}};function a(e,t,i,n=!0){let a=l(i);n&&(a.timeZone="UTC");let r=new Intl.DateTimeFormat(e,a);return r.format(t)}},722767:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(667294),l=i(973935);function a(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class r extends n.Component{constructor(...e){super(...e),a(this,"observer",null),a(this,"handleVisibilityChanged",(e,t)=>{this.props.onVisibilityChange(e,t)})}componentDidMount(){let e=l.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return n.Children.only(this.props.children)}}let o=r},903095:(e,t,i)=>{"use strict";i.d(t,{Mi:()=>l,lO:()=>a});var n=i(425288);let{Provider:l,useMaybeHook:a}=(0,n.Z)("pageContext")},375571:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(667294),l=i(395164),a=i(67347);function r(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class o extends n.Component{constructor(...e){super(...e),r(this,"state",{error:null,info:null}),r(this,"resetError",()=>{this.setState({error:null,info:null})})}componentDidCatch(e,t){try{var i;let{name:t}=this.props,n=this.props.type||"secondary";(0,l.T)({extraData:null!==(i=e.extraData)&&void 0!==i?i:{},errorBoundary:t,errorBoundaryType:n,message:e.message,name:e.name,stack:e.stack}),(0,a.nP)("react.error_boundary",{sampleRate:.1,tags:{component:void 0,name:this.props.name}})}catch(e){(0,a.nP)("react.error_boundary.error",{sampleRate:1,tags:{name:this.props.name}})}this.setState({error:e,info:t})}render(){let{renderErrorState:e}=this.props,{error:t,info:i}=this.state;return t&&i?e?e({error:t,info:i,resetError:this.resetError}):null:this.props.children}}},319915:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(375571);let l=n.Z},123159:(e,t,i)=>{"use strict";i.d(t,{F:()=>p,M:()=>c});var n=i(667294),l=i(702664),a=i(14890),r=i(425288),o=i(332611),s=i(957191),d=i(785893);let{Provider:u,useHook:c}=(0,r.Z)("ExperienceContext");function p({children:e}){let[t,i]=(0,n.useReducer)((e,t)=>{if("MOUNT_PLACEMENT"===t.type)return{...e,mountedPlacements:{...e.mountedPlacements,[t.payload]:!0}};if("UNMOUNT_PLACEMENT"===t.type){let i={...e};return delete i.mountedPlacements[t.payload],delete i.registerdAfterActionPlacements[t.payload],i}return"REGISTER_AFTER_ACTION_PLACEMENT"===t.type?{...e,registerdAfterActionPlacements:{...e.registerdAfterActionPlacements,[t.payload]:!0}}:e},{mountedPlacements:{},registerdAfterActionPlacements:{}}),{mountedPlacements:r,registerdAfterActionPlacements:c}=t,p=(0,l.useDispatch)(),m=(0,l.useSelector)(e=>e.experiences),h=(0,o.be)(),g=(0,o.Am)(),_=(0,o.Ig)(),y=(0,n.useMemo)(()=>{let e=(0,a.bindActionCreators)({completeExperience:h,dismissExperience:g,fetchAllExperiences:o.fO,fetchAllExperiencesMulti:s.NW,fetchExperienceForPlacements:o.pz,mountPlacement:o.N,triggerExperimentsForPlacement:o.kd,viewExperience:_},p);return{...e,mountPlacement:(t,...n)=>{e.mountPlacement(t,...n),i({type:"MOUNT_PLACEMENT",payload:t})},unmountPlacement:e=>{i({type:"UNMOUNT_PLACEMENT",payload:e})},registerAfterActionPlacement:e=>{i({type:"REGISTER_AFTER_ACTION_PLACEMENT",payload:e})}}},[h,g,p,i,_]),v=(0,n.useMemo)(()=>({experiences:m,mountedPlacements:r,registerdAfterActionPlacements:c,...y}),[m,r,c,y]);return(0,d.jsx)(u,{value:v,children:e})}},131108:(e,t,i)=>{"use strict";i.d(t,{HI:()=>r,f8:()=>s,hm:()=>o,sH:()=>a});var n=i(883119),l=i(785893);let a=({children:e})=>(0,l.jsx)(n.xu,{bottom:!0,left:!0,padding:4,position:"absolute",right:!0,children:e}),r=({children:e})=>(0,l.jsx)(n.xu,{padding:2,children:e}),o=({children:e})=>(0,l.jsx)(n.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:e}),s=({children:e})=>(0,l.jsx)(n.xu,{left:!0,padding:4,position:"absolute",right:!0,top:!0,children:e})},599997:(e,t,i)=>{"use strict";i.d(t,{Ec:()=>d,IA:()=>_,LX:()=>u,Mf:()=>g,SF:()=>o,_e:()=>s,l0:()=>r,ml:()=>a,q4:()=>l,zn:()=>n});let n=e=>["feed_card_default","feed_card_video"].includes(e),l=2/3,a=2/3,r=1/3,o="36px",s="28px",d=.4,u=.65,c={0:"start",1:"center",2:"end"},p={web:{0:"16",1:"20",2:"24"},mweb:{0:"12",1:"16",2:"18",3:"20"}},m={1:"italics",0:"normal"},h={1:"bold",0:"normal"},g=({color:e,font_style:t,font_weight:i,horizontal_alignment:n,size:l},a)=>({color:e,fontStyle:m[null!=t?t:0],fontWeight:h[null!=i?i:1],horizontalAlignment:c[null!=n?n:0],fontSize:p[a][null!=l?l:0]+"px"}),_=e=>e<=280?1.25:e>280&&e<=540?.75:e>540&&e<1024?u:d},378518:(e,t,i)=>{"use strict";i.d(t,{_:()=>s,a:()=>d});var n=i(667294),l=i(702664),a=i(594736),r=i(332611),o=i(780280);let s=({extraContext:e,id:t,shouldUsePlacedExperience:i=!0})=>{let s=(0,n.useRef)(),d=(0,l.useDispatch)(),{isBot:u}=(0,o.B)(),c=(0,l.useSelector)(e=>e.experiences[t]);return(0,n.useEffect)(()=>{d((0,r.kd)(t))},[d,c,t]),(0,n.useEffect)(()=>{i||(0,a.ZP)(s.current,e)||(d((0,r.pz)([t],u,e)),s.current=e)},[d,e,u,t,i]),c},d=e=>(s(e),(0,l.useSelector)(t=>t.experiencesMulti[e.id]))},497529:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(667294);i(332611);var l=i(123159),a=i(764990);i(957191);var r=i(780280);function o(e){let{mountedPlacements:t,completeExperience:i,dismissExperience:o,experiences:s,fetchAllExperiences:d,fetchAllExperiencesMulti:u,fetchExperienceForPlacements:c,triggerExperimentsForPlacement:p,viewExperience:m}=(0,l.M)(),{isBot:h}=(0,r.B)(),g=e&&!h?(0,a.MQ)(s,t,e):null;return(0,n.useMemo)(()=>({completeExperience:i,dismissExperience:o,experienceForPlacement:g,fetchAllExperiences:d,fetchAllExperiencesMulti:u,fetchExperienceForPlacements:c,triggerExperimentsForPlacement:p,viewExperience:m}),[i,o,g,d,u,c,p,m])}},402201:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=e=>{let[t,i]=[(null==e?void 0:e.width)||580,(null==e?void 0:e.height)||400],[n,l]=[window.screen.width,window.screen.height];return`scrollbars=yes,resizable=yes,toolbar=no,location=yes,width=${t},height=${i},left=${Math.round((n-t)/2)},top=${l>i?Math.round((l-i)/2):0}`}},413764:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(785893);let l=({size:e})=>(0,n.jsxs)("svg",{height:e,style:{display:"block"},viewBox:"-3 -3 82 82",width:e,children:[(0,n.jsx)("circle",{cx:"38",cy:"38",fill:"white",r:"40"}),(0,n.jsx)("path",{d:"M27.5 71c3.3 1 6.7 1.6 10.3 1.6C57 72.6 72.6 57 72.6 37.8 72.6 18.6 57 3 37.8 3 18.6 3 3 18.6 3 37.8c0 14.8 9.3 27.5 22.4 32.5-.3-2.7-.6-7.2 0-10.3l4-17.2s-1-2-1-5.2c0-4.8 3-8.4 6.4-8.4 3 0 4.4 2.2 4.4 5 0 3-2 7.3-3 11.4C35.6 49 38 52 41.5 52c6.2 0 11-6.6 11-16 0-8.3-6-14-14.6-14-9.8 0-15.6 7.3-15.6 15 0 3 1 6 2.6 8 .3.2.3.5.2 1l-1 3.8c0 .6-.4.8-1 .4-4.4-2-7-8.3-7-13.4 0-11 7.8-21 22.8-21 12 0 21.3 8.6 21.3 20 0 12-7.4 21.6-18 21.6-3.4 0-6.7-1.8-7.8-4L32 61.7c-.8 3-3 7-4.5 9.4z",fill:"#fb7072",fillRule:"evenodd"})]})},984225:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(785893);let l=(0,n.jsx)("svg",{fill:"none",height:"5",viewBox:"0 0 37 5",width:"37",xmlns:"http://www.w3.org/2000/svg",children:(0,n.jsx)("rect",{fill:"#E9E9E9",height:"5",rx:"2.5",width:"37"})}),a=l},724617:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>p});var n=i(667294),l=i(319915),a=i(463076),r=i(739213),o=i(444445),s=i(391254),d=i(773285),u=i(780280),c=i(785893);function p(e){var t;let i;let{cacheKey:p,columnWidth:m=o.yF,experimentalTwoColItems:h=!1,gutterWidth:g=o.oX,isFetching:_,isGridCentered:y=!0,renderItem:v,items:f,layout:x,loadItems:b,masonryRef:w,minCols:S=o.yc,scrollContainerRef:k,serverRender:P=!0,virtualize:j=!0}=e,{isAuthenticated:I,isRTL:T}=(0,u.B)(),{checkExperiment:C}=(0,d.F)(),F=C("web_masonry_virtual_buffer_factor").group,A=null!==(t=({enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"})[F])&&void 0!==t?t:.7,E=C(I?"web_masonry_unified_auth":"web_masonry_unified_unauth"),R=(0,n.useRef)(!0);return(0,n.useEffect)(()=>{R.current&&(R.current=!1)},[]),y&&R.current&&(i="gridCentered"),(0,r.gp)({columnWidthProp:e.columnWidth,columnWidth:m,component:"UnifiedMasonry",gutterWidthProp:e.gutterWidth,gutterWidth:g,isFlexible:!1,layoutProp:x}),E.anyEnabled?(0,c.jsx)(r.s7,{_twoColItems:h,cacheKey:p,columnWidth:m,gutterWidth:g,isGridCentered:y,items:f,layout:x,loadItems:b,masonryRef:w,minCols:S,renderItem:v,scrollContainerRef:k,serverRender:P,virtualBufferFactor:A,virtualize:j}):(0,c.jsxs)("div",{className:i,children:[P&&R&&(0,c.jsx)(s.Z,{unsafeCSS:(0,a.Z)({gutterWidth:g,isRTL:T,itemWidth:m,maxColumns:f.length||o.g5,minColumns:S})}),(0,c.jsx)(r.ZP,{_twoColItems:h,cacheKey:p,columnWidth:null!=m?m:o.yF,gutterWidth:g,items:f,layout:null!=x?x:"basic",loadItems:()=>{!_&&b&&b()},masonryRef:w,minCols:S,renderItem:e=>(0,c.jsx)(l.Z,{name:"MasonryItem",children:v(e)}),scrollContainerRef:k,virtualBufferFactor:A,virtualize:j})]})}},920231:(e,t,i)=>{"use strict";i.d(t,{Z:()=>m});var n=i(616550),l=i(319915),a=i(739213),r=i(444445),o=i(391254),s=i(53987),d=i(773285),u=i(780280),c=i(50286),p=i(785893);function m({cacheKey:e,columnWidth:t,gutterWidth:i,id:m,renderItem:h,items:g,layout:_,loadItems:y,masonryRef:v,minCols:f,scrollContainerRef:x,serverRender:b,virtualize:w=!0}){var S;let{isAuthenticated:k,isRTL:P}=(0,u.B)(),j=(0,c.ZP)(),I=(0,n.TH)(),T=(0,s.Q0)(I),C="desktop"!==j,F=T&&"desktop"===j?r.OS:g.length||r.g5,A=m?m.replace(/\s/g,"-"):void 0,{checkExperiment:E}=(0,d.F)(),R=E("duplo_masonry_virtual_buffer_factor").group,D=null!==(S=({enabled_0_3:"0.3",enabled_0_5:"0.5",enabled_0_9:"0.9",enabled_1_1:"1.1",enabled_1_3:"1.3"})[R])&&void 0!==S?S:.7,L=E(k?"web_masonry_unified_auth":"web_masonry_unified_unauth");return(0,a.gp)({columnWidthProp:t,columnWidth:t||r.yF,component:"UnifiedMasonry",gutterWidthProp:i,gutterWidth:i||1,isFlexible:C,layoutProp:_}),L.anyEnabled?(0,p.jsx)(a.s7,{cacheKey:e,columnWidth:t,gutterWidth:i,items:g,layout:_,loadItems:y,masonryRef:v,minCols:f,renderItem:h,scrollContainerRef:x,serverRender:b,virtualBufferFactor:D,virtualize:w}):(0,p.jsxs)("div",{className:"gridCentered","data-test-id":"masonry-container",id:A,children:[b&&A&&(0,p.jsx)(o.Z,{"data-test-id":"mobile-grid-styles",unsafeCSS:function({flexible:e,gutterWidth:t,id:i,isRTL:n,itemWidth:l,maxColumns:a,minColumns:r}){let o=i.replace(/\:/g,"\\:"),s=l+t,d=Array.from({length:a+1-r},(e,t)=>t+r),u=d.map(i=>{let d=i===r?0:i*s,u=i===a?null:(i+1)*s-1,c=e?`
      #${o} .static {
        width: calc(100% / ${i}) !important;
      }
    `:`
      #${o} {
        width: ${i*s}px;
      }

      #${o} .static {
        padding: 0 ${t/2}px;
        width: ${l}px !important;
      }
    `;return`
      @media (min-width: ${d}px) ${u?`and (max-width: ${u}px)`:""} {
        #${o} .static:nth-child(-n+${i}) {
          position: static !important;
          visibility: visible !important;
          float: ${n?"right":"left"};
          display: block;
        }

        ${c}
      }
    `});return`
    .gridCentered {
      margin-left: auto;
      margin-right: auto;
    }

    .gridCentered .static {
      position: absolute !important;
      visibility: hidden !important;
    }

    ${u.join("")}
  `}({flexible:C,gutterWidth:i||0,id:A,isRTL:P,itemWidth:t||r.yF,maxColumns:F,minColumns:f||r.yc})}),(0,p.jsx)(a.ZP,{cacheKey:e,columnWidth:t,gutterWidth:i||1,items:g,layout:C?b?"serverRenderedFlexible":"flexible":null!=_?_:"basic",loadItems:y,masonryRef:v,minCols:f||r.yc,renderItem:e=>(0,p.jsx)(l.Z,{name:"MobileGridItem",children:h(e)}),scrollContainerRef:x,serverRender:b,virtualBufferFactor:D,virtualize:w})]})}},739213:(e,t,i)=>{"use strict";i.d(t,{s7:()=>w,ZP:()=>S,gp:()=>b});var n=i(667294),l=i(883119),a=i(407043),r=i(375571);function o(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let s={};function d(e){let t=s[e];return t&&t.screenWidth===window.innerWidth||(s[e]={screenWidth:window.innerWidth}),s[e]}let u=e=>{let t=e.__id||e.id;return"string"==typeof t&&t||null};class c{constructor(){o(this,"idMap",new Map),o(this,"objMap",new Map)}get(e){let t=u(e);return t?this.idMap.get(t):this.objMap.get(e)}has(e){let t=u(e);return t?this.idMap.has(t):this.objMap.has(e)}set(e,t){let i=u(e);i?this.idMap.set(i,t):this.objMap.set(e,t)}reset(){this.idMap=new Map,this.objMap=new Map}}function p(e){if(null==e)return;let t=d(e);return t.positionCache||(t.positionCache=new c),t.positionCache}function m(e){if(null==e)return;let t=d(e);return t.measurementCache||(t.measurementCache=new c),t.measurementCache}var h=i(444445),g=i(391254),_=i(780280),y=i(50286),v=i(67347),f=i(582406),x=i(785893);function b({columnWidthProp:e,columnWidth:t,component:i,gutterWidthProp:l,gutterWidth:a,isFlexible:r,layoutProp:o}){let s=(0,y.ZP)(),{isAuthenticated:d}=(0,_.B)(),u=(0,f.MM)();(0,n.useEffect)(()=>{null==e&&(0,v.nP)("webapp.unifiedMasonry.defaultColumnWidth",{sampleRate:1,tags:{component:i,isAuthenticated:d,columnWidth:t,deviceType:s,handlerId:u,isFlexible:r}}),null==l&&(0,v.nP)("webapp.unifiedMasonry.defaultGutterWidth",{sampleRate:1,tags:{component:i,isAuthenticated:d,deviceType:s,gutterWidth:a,handlerId:u,isFlexible:r}}),r&&(0,v.nP)("webapp.unifiedMasonry.flexible",{sampleRate:1,tags:{component:i,isAuthenticated:d,deviceType:s,handlerId:u,layout:o}})},[])}function w(e){var t,i,o,s;let{cacheKey:d,isGridCentered:u=!0,items:c,layout:f,loadItems:w,_logTwoColWhitespace:S,masonryRef:k,renderItem:P,scrollContainerRef:j,_twoColItems:I,virtualize:T=!0,virtualBufferFactor:C}=e,F=(0,y.ZP)(),{isRTL:A}=(0,_.B)(),{logContextEvent:E}=(0,a.v)(),R="desktop"===F,D=null!==(t=e.columnWidth)&&void 0!==t?t:h.yF,L=null!==(i=e.gutterWidth)&&void 0!==i?i:R?h.oX:1,Z=null!==(o=e.minCols)&&void 0!==o?o:h.yc,M=null!==(s=e.serverRender)&&void 0!==s?s:!!R,O="flexible"===f||"desktop"!==F,z=p(d),N=m(d),K=(0,n.useCallback)(()=>(null==j?void 0:j.current)||window,[j]),U=(0,n.useRef)(!0),B=u&&U.current?"gridCentered":"",{className:$,styles:H}=function(e){let t=`m_${Object.keys(e).reduce((t,i)=>{let n=e[i];return"boolean"==typeof n?t+(n?"t":"f"):t+n},"").replace(/\:/g,"\\:")}`,{flexible:i,gutterWidth:n,isRTL:l,itemWidth:a,maxColumns:r,minColumns:o}=e,s=a+n,d=Array.from({length:r+1-o},(e,t)=>t+o),u=d.map(e=>{let d=e===o?0:e*s,u=e===r?null:(e+1)*s-1,c=i?`
      .${t} .static {
        box-sizing: border-box;
        width: calc(100% / ${e}) !important;
      }
    `:`
      .${t} {
        width: ${e*s}px;
      }

      .${t} .static {
        width: ${a}px !important;
      }
    `;return`
      @media (min-width: ${d}px) ${u?`and (max-width: ${u}px)`:""} {
        .${t} .static:nth-child(-n+${e}) {
          position: static !important;
          visibility: visible !important;
          float: ${l?"right":"left"};
          display: block;
        }

        .${t} .static {
          padding: 0 ${n/2}px;
        }

        ${c}
      }
    `});return{className:t,styles:`
    .gridCentered {
      margin-left: auto;
      margin-right: auto;
    }

    .${t} .static {
      position: absolute !important;
      visibility: hidden !important;
    }

    ${u.join("")}
  `}}({gutterWidth:L,flexible:O,isRTL:A,itemWidth:D,maxColumns:c.length||h.g5,minColumns:Z}),G=`${B} ${$}`.trim();return(0,n.useEffect)(()=>{U.current&&(U.current=!1)},[]),b({columnWidthProp:e.columnWidth,columnWidth:D,component:"UnifiedMasonry",gutterWidthProp:e.gutterWidth,gutterWidth:L,isFlexible:O,layoutProp:e.layout}),(0,x.jsxs)("div",{className:G,"data-test-id":"masonry-container",children:[M&&U.current?(0,x.jsx)(g.Z,{"data-test-id":"masonry-ssr-styles",unsafeCSS:H}):null,(0,x.jsx)(l.Rk,{ref:e=>{k&&(k.current=e)},_logTwoColWhitespace:e=>{(0,v.S0)("webapp.masonry.twoColWhitespace",e,{sampleRate:1,tags:{columnWidth:D,minCols:Z}}),E({event_type:14705,component:14468,aux_data:{whitespace_px:e}})},_twoColItems:I,columnWidth:D,gutterWidth:L,items:c,layout:O?M?"serverRenderedFlexible":"flexible":null!=f?f:"basic",loadItems:w,measurementStore:N,minCols:Z,positionStore:z,renderItem:e=>(0,x.jsx)(r.Z,{name:"MasonryGridItem",children:P(e)}),scrollContainer:K,virtualBufferFactor:C,virtualize:T})]})}function S({cacheKey:e,columnWidth:t,gutterWidth:i,items:r,layout:o,loadItems:s,_logTwoColWhitespace:d,masonryRef:u,minCols:c,renderItem:h,scrollContainerRef:g,_twoColItems:_,virtualize:y,virtualBufferFactor:f}){let{logContextEvent:b}=(0,a.v)(),w=p(e),S=m(e),k=(0,n.useCallback)(()=>(null==g?void 0:g.current)||window,[g]);return(0,x.jsx)(l.Rk,{ref:e=>{u&&(u.current=e)},_logTwoColWhitespace:e=>{(0,v.S0)("webapp.masonry.twoColWhitespace",e,{sampleRate:1,tags:{columnWidth:t,minCols:c}}),b({event_type:14705,component:14468,aux_data:{whitespace_px:e}})},_twoColItems:_,columnWidth:t,gutterWidth:i,items:r,layout:o,loadItems:s,measurementStore:S,minCols:c,positionStore:w,renderItem:h,scrollContainer:k,virtualBufferFactor:f,virtualize:y})}},463076:(e,t,i)=>{"use strict";function n({gutterWidth:e,isRTL:t,itemWidth:i=236,maxColumns:n=16,minColumns:l=2}){let a=i+e,r=`
.gridCentered {
  margin-left: auto;
  margin-right: auto;
}
.gridCentered .static {
  padding: 0 ${e/2}px;
  position: absolute;
  visibility: hidden;
}
`;for(let e=l;e<n+1;e+=1){let i=e===l?0:e*a;r+=`
@media (min-width: ${i}px) and (max-width: ${(e+1)*a-1}px) {
  .gridCentered {
    width: ${e*a}px;
  }
  .gridCentered .static:nth-child(-n+${e}) {
    position: static !important;
    visibility: visible !important;
    float: ${t?"right":"left"};
    display: block;
  }
}
`}return r}i.d(t,{Z:()=>n})},479216:(e,t,i)=>{"use strict";i.d(t,{MF:()=>a,PB:()=>r,Ul:()=>o,XD:()=>n});let n={AUD:"A$",BRL:"R$",CAD:"$",CZK:"Kč",DKK:"kr",EUR:"€",GBP:"\xa3",HUF:"Ft",MXN:"$",NOK:"kr",NZD:"NZ$",RON:"lei",SEK:"kr",USD:"$",JPY:"\xa5",CHF:"₣"},l=function(e){let t=1.1.toLocaleString(e).substring(1,2);return t},a=function(e,t){return","===l(t)&&e&&e.length>0&&!isNaN(e)?e.replace(".",","):e},r=function(e,t){return","===l(t)&&e?e.replace(",","."):e};function o(e,t,i,n=!1){let{minimumFractionDigits:l,maximumFractionDigits:a}=new Intl.NumberFormat(t,{style:"currency",currency:i}).resolvedOptions(),r=void 0===l?2:l,o=void 0===a?2:a;return e.toLocaleString(t,{maximumFractionDigits:n&&o>0?3:o,minimumFractionDigits:n&&r>0?3:r})}},529518:(e,t,i)=>{"use strict";function n(e,t){let i=e*Math.pow(10,t),n=Math.round((i-parseInt(i,10))*10)/10;return -.5===n&&(n=-.6),i=Math.round(parseInt(i,10)+n)/Math.pow(10,t)}function l(e){let t=parseFloat(e),i=n(t,2);return i?i.toFixed(2):e}function a(e,t=!1,i=""){let n=100,l=1e4;if(i){let{maximumFractionDigits:e}=new Intl.NumberFormat(void 0,{style:"currency",currency:i}).resolvedOptions();"number"==typeof e&&(l=1e6/(n=Math.pow(10,e)))}return t&&(n=1e3,l=1e3),Math.round(e*n)*l}function r(e,t=!1){if(Number.isNaN(e))return 0;let i=1e6;return t&&(i=1e6),e/i}function o(e){return e?l(r(e).toString()):""}i.d(t,{$X:()=>r,Hy:()=>o,c3:()=>p,cq:()=>l,q$:()=>n,qq:()=>c,y:()=>a});let s={fractionalCentFormatData:{},formatData:{}};function d(e){return e&&(e=e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")),e}function u(e,t=!1){let i=t?"fractionalCentFormatData":"formatData",n=s[i][e];if(!n){let l=2,a=2,r=-9999.99;t&&(l=3,a=3,r=-9999.999);let o=new Intl.NumberFormat(e,{minimumFractionDigits:l,maximumFractionDigits:a}),u=o.formatToParts(r),c=u.find(e=>"minusSign"===e.type),p=u.find(e=>"group"===e.type),m=u.find(e=>"decimal"===e.type),h=p?p.value:"",g=d(h),_=m?m.value:"",y="[^0-9"+g+d(_)+d(c?c.value:"")+"]";n={format:o,decimal:m?m.value:null,group:h,groupRegex:RegExp(g||"","g"),cleaner:RegExp(y,"g")},s[i][e]=n}return n}function c(e,t,i=!1){if("number"==typeof e)return e;if("string"!=typeof e)return NaN;let n=u(t,i),l=e.replace(n.cleaner,"");return n.decimal&&(l=l.replace(n.decimal,"!_!")),n.group&&(l=l.replace(n.groupRegex,"")),parseFloat(l=l.replace("!_!","."))}function p(e,t,i=!1){let n=u(t,i);return n.format.format(e)}},564194:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var n=i(667294),l=i(973935),a=i(337815),r=i(407043),o=i(124580),s=i(785893);function d(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let u={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasFeedUpsellImpressions",idType:"boardIdStr",eventType:10054},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};class c extends n.Component{constructor(e){super(e),d(this,"trackImpression",()=>{try{let{isPromoted:e}=this.props;this.node=(0,l.findDOMNode)(this),this.node instanceof HTMLElement&&(!e||this.node.getElementsByTagName("img").length>0)&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}}),d(this,"logImpression",e=>{var t,i,n,l,r,o,s,d,c,p,m,h,g,_,y,v,f;let{carouselData:x,closeupImpressionType:b,closeupNavigationType:w,componentType:S,contextLogData:k,elementType:P,impressionAuxFields:j,impressionType:I,loggingId:T,objectIdStr:C,slotIndex:F,trackCarousel:A,viewData:E,viewParameter:R,viewType:D,logContextEvent:L}=this.props,Z=u[I],M=Z.idType,O=e.forcedExit&&"removed"===e.forcedExit?0:void 0,z={endTime:e.endTime,[M]:T,slotIndex:F,time:e.startTime,renderDuration:e.endTime-e.startTime,type:b,...j,forcedExit:O},N={};if("Pin"===I&&(z={...z,pinCellWidth:this.node.offsetWidth,pinCellHeight:this.node.offsetHeight,windowWidth:null===(t=window)||void 0===t?void 0:t.innerWidth,windowHeight:null===(i=window)||void 0===i?void 0:i.innerHeight},null!=j&&j.chromeAraViewExp&&null!==(n=this.props.children)&&void 0!==n&&null!==(l=n.props)&&void 0!==l&&null!==(r=l.pin)&&void 0!==r&&r.is_promoted)){let e=this.props.children.props.pin.attribution_source_id;(0,a.YS)(I,null!==(o=this.props.children.props.pin.is_promoted)&&void 0!==o?o:null,null!=e?e:null,null!==(s=this.props.children.props.pin.link)&&void 0!==s?s:null,null!==(d=this.props.children.props.pin.campaign_id)&&void 0!==d?d:null,null!==(c=j.araAuxData)&&void 0!==c?c:null,null!==(p=this.props.children.props.pin.advertiser_id)&&void 0!==p?p:null),N={is_arapi:!0,attribution_source_id:e||""}}A||L({event_type:Z.eventType,component:S,element:P,event_data:{[Z.impressionType]:"Story"===I?z:[z]},object_id_str:C,view_type:D,view_data:E||{},view_parameter:R,aux_data:{...k,...N,closeup_navigation_type:w}}),x&&A&&L({event_type:7352,component:S,event_data:{pinCarouselSlotImpressions:[{...z,..."canonical"===x.type?{carouselDataId:Number(null!==(m=x.carouselId)&&void 0!==m?m:0),slotIndex:x.index,carouselSlotId:x.carouselSlots[null!==(h=x.index)&&void 0!==h?h:0]&&Number(x.carouselSlots[null!==(g=x.index)&&void 0!==g?g:0].slotId)}:{carouselDataId:Number(null!==(_=x.id)&&void 0!==_?_:0),carouselSlotId:(null===(y=x.carousel_slots)||void 0===y?void 0:y[null!==(v=x.index)&&void 0!==v?v:0])&&Number(x.carousel_slots[null!==(f=x.index)&&void 0!==f?f:0].id),slotIndex:x.index}}]},object_id_str:C,view_type:D,view_data:E||{},view_parameter:R,aux_data:{...k,...N}})}),this.impressionsFramework=e.impressionsFramework||o.Z}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){let{isPromoted:e}=this.props;this.node instanceof HTMLElement&&(!e||this.node.getElementsByTagName("img").length>0)&&this.impressionsFramework.stop(this.node)}render(){return n.Children.only(this.props.children)}}function p(e){let{logContextEvent:t}=(0,r.v)();return(0,s.jsx)(c,{...e,logContextEvent:t})}},995081:(e,t,i)=>{"use strict";i.d(t,{Rq:()=>a,Vf:()=>r,ab:()=>d,jd:()=>o,k8:()=>c,nw:()=>u,oy:()=>s});var n=i(231486),l=i(226198);let a=e=>"ios"===e&&(window.devicePixelRatio||1)*window.screen.height==2436,r=28,o=e=>window.innerHeight>=748&&a(e),s=function(){return"undefined"!=typeof window&&!!window.navigator&&(/iPad/.test(navigator.platform)||navigator.maxTouchPoints>1&&"MacIntel"===navigator.platform)},d=()=>{n.t8(l.oj,String(!0),(0,n.kZ)(l.oj))},u=()=>!!n.U2(l.oj),c=e=>{if(s()){let t=u();e.experimentsClient.flush(),t||(d(),"undefined"!=typeof window&&window.location.reload(!0))}}},166300:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(883119),l=i(444445),a=i(134879),r=i(50286),o=i(785893);let s=({children:e,roundedForLargeDevice:t})=>{let i=(0,r.ZP)(),s="phone"!==i&&t;return(0,a.V)()?(0,o.jsx)(n.xu,{marginEnd:-l.D6,marginStart:-l.D6,overflow:s?"hidden":void 0,rounding:s?6:void 0,children:(0,o.jsx)(a.C,{value:!1,children:e})}):e}},542554:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>d});var n=i(883119),l=i(444445),a=i(995081),r=i(134879),o=i(780280),s=i(785893);let d=({children:e,dataLayoutShiftBoundaryId:t,hasFixedHeader:i=!1,hasGutter:d=!0,height:u,showKeychainError:c=!1,useViewport:p=!1})=>{let m=(0,o.B)(),h=(0,a.jd)(m.userAgent.platform)?a.Vf:0;return(0,s.jsx)(n.xu,{"data-layout-shift-boundary-id":t||"PageContainer",height:p?`calc(100vh - ${h}px)`:u,paddingX:d?l.D6:void 0,paddingY:i||c?void 0:3,children:(0,s.jsx)(r.C,{value:!!d,children:e})})}},713930:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(67347);function l(e,t){return new Promise((i,l)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t){if(window.FB)i();else{let t=setInterval(()=>{window.FB||20===e?(clearInterval(t),i()):(e+=1,(0,n.nP)(`mweb.loadScript.facebook.tries_${e}`,{sampleRate:.01}))},100)}}else if("GSI"===t){if(window.google)i();else{let t=setInterval(()=>{window.google||20===e?(clearInterval(t),i()):(e+=1,(0,n.nP)(`mweb.loadScript.gsi.tries_${e}`,{sampleRate:.01}))},100)}}else i()}else{let t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",()=>i()),t.addEventListener("error",l),document.getElementsByTagName("head")[0].appendChild(t)}})}},499659:(e,t,i)=>{"use strict";i.d(t,{Q6:()=>c,ZP:()=>s,qe:()=>d,yU:()=>u});var n=i(239745);let l=(e,t)=>e.length===t.length&&e.every((e,i)=>e===t[i]),a=e=>e;function r(e,t=l,i=a){return function(n){let l=[];return function(...a){let r=l.find(e=>t(e.args,i(a)));if(r)return r.result;let o=n(...a);return l.push({args:i(a),result:o}),e&&l.length>e&&l.shift(),o}}}let o=r(),s=o,d=r(1),u=r(void 0,l,e=>[JSON.stringify(e)]),c=r(0,(e,t)=>e.length===t.length&&e.every((e,i)=>(0,n.Z)(e,t[i])))},567450:(e,t,i)=>{"use strict";function n(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z:()=>r});let l=new class{constructor(){n(this,"onResumeListeners",[]),n(this,"onPauseListeners",[]),n(this,"inExp",!1),n(this,"windowInFocus",!0)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter(t=>t!==e)}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter(t=>t!==e)}getAppState(){return this.windowInFocus?0:void 0}},a=e=>{if(e.isHidden){let{reason:t}=e;l.windowInFocus=!1,l.onPauseListeners.forEach(e=>e(t))}else l.windowInFocus=!0,l.onResumeListeners.forEach(e=>e())};setTimeout(()=>{window.addEventListener("beforeunload",()=>a({isHidden:!0,reason:"beforeunload"})),window.addEventListener("focus",()=>a({isHidden:!1})),window.addEventListener("blur",()=>a({isHidden:!0,reason:"blur"})),window.addEventListener("pageshow",()=>a({isHidden:!1})),window.addEventListener("pagehide",()=>a({isHidden:!0,reason:"pagehide"})),void 0!==document.hidden?document.addEventListener("visibilitychange",()=>a(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",()=>a(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1}),!1)},0);let r=l},153209:(e,t,i)=>{"use strict";function n(e,t,i){return!!(e&&e.trim().length>0&&t&&!i)}i.d(t,{r:()=>n})},752802:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});let n=["564x","736x","orig","474x","236x"],l=({images:e={},resolutionPreferences:t=n})=>{for(let i of t)if(e[i]&&e[i].url)return e[i];return null}},248975:(e,t,i)=>{"use strict";function n({embedSrc:e,embedType:t,imagesUrls:i,preferredResolution:n,excludeOriginals:l}){if(!e&&!t&&!i)return"";if("gif"===t)return e||"";if(!i)return"";if(n){let e="474x"===n&&i["474x"]||"236x"===n&&i["236x"]||i["736x"];if(e)return e}let a=Object.keys(i).reduce((e,t)=>{try{let n=t.split("x")[0];if(Number.isNaN(Number(n)))return{...e,[t]:i[t]};return{...e,[n]:i[t]}}catch(t){return e}},{}),r=Object.keys(a);l&&"orig"===r[r.length-1]&&r.pop();let o=r.pop();return a[o]||""}i.d(t,{Z:()=>n})},223008:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n,l=i(667294);i(167912);var a=i(916117);let r=void 0!==n?n:n=i(469656);function o({pinKey:e,maxWidth:t}){let i=(0,a.Z)(r,e),n=(null==i?void 0:i.imageSpec_564x)||(null==i?void 0:i.imageSpec_736x)||(null==i?void 0:i.imageSpec_orig)||(null==i?void 0:i.imageSpec_474x)||(null==i?void 0:i.imageSpec_236x),o=(null==n?void 0:n.width)||1,s=(null==n?void 0:n.height)||1,d=(null==n?void 0:n.url)||"",u=function(e,t,i=564){return e>i&&(t*=i/e,e=i),{width:e,height:t}}(o,s,t),c=(0,l.useCallback)(()=>({width:u.width,height:u.height,url:d}),[u.height,u.width,d]);return{getNormalizedPinImage:c}}},269051:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o}),i(167912);var n,l=i(916117),a=i(898781);let r=void 0!==n?n:n=i(47737),o=e=>{let t;let i=(0,a.ZP)(),n=(0,l.Z)(r,e),o=n.trackedLink||n.link||n.imageSpec_orig&&n.imageSpec_orig.url,{richMetadata:s,richSummary:d}=n,u=i.bt("Enregistrée depuis ", "Saved from ", "Closeup pin annotation", undefined, true);if(s&&s.products&&s.products[0]&&s&&s.products[0].name&&s.products[0].offerSummary){var c,p;u=i.bt("Produit vendu par ", "Product sold by ", "pin annotation", undefined, true),t=null===(c=(null===(p=s.products)||void 0===p?void 0:p[0])||void 0)||void 0===c?void 0:c.offerSummary}return!t&&d&&d&&d.products&&d.products[0]&&d&&d.products[0].name&&d.products[0].offerSummary&&(u=i.bt("Produit vendu par ", "Product sold by ", "pin annotation", undefined, true)),{pinLink:o,pinCreditPrefix:u,pinTitle:n.closeupUnifiedTitle,pinDescription:n.closeupUnifiedDescription,pinCategory:n.category}}},53199:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r}),i(167912);var n,l=i(916117);let a=void 0!==n?n:n=i(460863),r=e=>{let t=(0,l.Z)(a,e),i=[["60x60",null==t?void 0:t.imageSpec_60x60],["136x136",null==t?void 0:t.imageSpec_136x136],["170x",null==t?void 0:t.imageSpec_170x],["236x",null==t?void 0:t.imageSpec_236x],["474x",null==t?void 0:t.imageSpec_474x],["564x",null==t?void 0:t.imageSpec_564x],["736x",null==t?void 0:t.imageSpec_736x],["600x315",null==t?void 0:t.imageSpec_600x315],["orig",null==t?void 0:t.imageSpec_orig]];return i.reduce((e,[t,i])=>i?{...e,[t]:i.url}:e,{})}},692627:(e,t,i)=>{"use strict";function n({hasPin:e,hasPinRichMetadata:t,hasPinRichMetadataProducts:i,hasPinRichMetadataArticle:n,hasPinRichMetadataRecipe:l,hasPinStoryPinData:a}){if(e){if(t)return i?144:n?141:l?145:139;if(a)return 157}return 140}i.d(t,{Z:()=>n})},336882:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n={STARTED:1,FINISHED:2}},107193:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>p});var n=i(186656),l=i(713930),a=i(336882),r=i(935879),o=i(966113),s=i(867820);let d=!1,u=e=>e.isAuth&&!!e.facebookId&&!e.isLimitedLogin,c=(e,t,i="en-US",p)=>{p&&(0,s.dy)({event:"load_script_start",provider:"facebook"}),(0,l.Z)((0,r.Z)(i),"FACEBOOK").then(()=>{p&&(0,s.dy)({event:"load_script_success",provider:"facebook"});let i=window.FB;if(!i){p&&(0,s.dy)({event:"global_object_not_found",provider:"facebook"});return}d||(p&&(0,s.dy)({event:"initialize_library",provider:"facebook"}),i.init({appId:o.GHq,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",()=>{u(t)&&c(e=>{if(!e.getUserID())return;let t=e.getAccessToken();t&&(0,n.Z)({url:"/v3/connect/facebook/",method:"POST",data:{facebook_token:t}})},t)}),d=!0,window.fb_init=a.Z.FINISHED),e(i)}),window.fb_init=a.Z.STARTED},p=c},935879:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});let n=e=>{let t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}},l=e=>`//connect.facebook.net/${n(e)}/sdk.js`},773285:(e,t,i)=>{"use strict";i.d(t,{F:()=>a,a:()=>l});var n=i(425288);let{Provider:l,useHook:a}=(0,n.Z)("ExperimentContext")},383690:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(667294),l=i(773285);let a=()=>{let e=(0,l.F)();return(0,n.useCallback)(()=>{e.flush()},[e])}},813401:(e,t,i)=>{"use strict";i.d(t,{kf:()=>_,l5:()=>h,of:()=>p,xC:()=>g,yz:()=>m});var n=i(667294),l=i(425288),a=i(30287),r=i(829407),o=i(807609),s=i(67347),d=i(785893);let{Provider:u,useMaybeHook:c}=(0,l.Z)("PwaContext"),p=({children:e,initialContext:t})=>{let[i,l]=(0,n.useState)(null),o=t||{pwaType:"unknown",twaType:null},c=o.pwaType;(0,r.Z)(()=>{let e=(0,a.FB)(window)||"unknown";l(e),c!==e&&(0,s.nP)("pwa.type_mismatch",{sampleRate:1,tags:{serverPwaType:c,clientPwaType:e,conflict:"unknown"!==c&&"unknown"!==e}})});let p="unknown"===c&&i?i:c,{twaType:m}=o,h=(0,n.useMemo)(()=>({pwaType:p,twaType:m}),[p,m]);return(0,d.jsx)(u,{value:h,children:e})},m=()=>{var e;let t=c();return null!==(e=null==t?void 0:t.pwaType)&&void 0!==e?e:"unknown"},h=()=>{var e;let t=c();return null!==(e=null==t?void 0:t.twaType)&&void 0!==e?e:null},g=()=>{let e=m();return"android-twa"===e},_=()=>{let e=m(),t=(0,o.Z)();return"unknown"===e&&t?null:"windows"===e}},523657:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(667294);i(883119);var l=i(301723),a=i(785893);let r=e=>document.querySelector(`img[src="${e}"]`)||null,o=(e,t,i)=>{let l=(0,n.useRef)(null),a=(0,n.useRef)(null);(0,n.useEffect)(()=>{if(e!==l.current||i&&i!==a.current){l.current=e;let i=r(e);null!=i&&i.complete&&t()}a.current=i},[e,t,i])};function s({alt:e,children:t,color:i,elementTiming:n,isActive:r=!1,naturalHeight:s,naturalWidth:d,onLoad:u,src:c,fit:p="none"}){return o(c,u,r),(0,a.jsx)(l.Z,{alt:e,color:i,elementTiming:n,fit:p,naturalHeight:s,naturalWidth:d,onLoad:u,src:c,children:t})}},42447:(e,t,i)=>{"use strict";i.d(t,{Z:()=>ee});var n=i(667294),l=i(567450),a=i(226464),r=i(383434),o=i(790348),s=i(543059),d=i(198462),u=i(276602),c=i(638089),p=i(860273),m=i(453821),h=i(607150);let g=({constraintMap:e,initialNavTiming:t,annotations:i})=>({...i,...(0,h.jh)("constraint_",e),...(0,h.jh)("mark_",(0,s.gQ)()),...(0,h.jh)("browser_",{...t?(0,h.D3)(t):{},...(0,h.rX)()})});var _=i(505771);let y=(e,t)=>[...e.map(e=>(0,_.Z)(e,t)).filter(Boolean)];var v=i(156381),f=i(435851),x=i(67347);let b=e=>e<=2500?"Good":e>2500&&e<=4e3?"Needs Improvement":"Poor",w=({eventPrefix:e,endTime:t,tags:i,resourceArr:n,resourceType:l="allResources"})=>{let a=n.length;if(a>0&&"object"==typeof n[0]&&!Array.isArray(n[0])){let r=[...n].sort((e,t)=>e.fetchStart-t.fetchStart),o=[...n].sort((e,t)=>e.responseEnd-t.responseEnd),s=1,d=t/5,u=0;for(;s<=5;){let t=0;for(;u<=a-1&&r[u].fetchStart<=d*s;)u+=1,t+=1;(0,x.S0)(`${e}.tags.${l}.fetchStartInterval${s}of5`,t,{sampleRate:.2,tags:i}),(0,x.S0)(`${e}.${l}.fetchStartInterval${s}of5`,t,{sampleRate:.2}),s+=1}let c={zeroPercentInFlight:r[0].fetchStart,twentyFivePercentInFlight:r[Math.floor(a/4)].fetchStart,fiftyPercentInFlight:r[2*Math.floor(a/4)].fetchStart,seventyFivePercentInFlight:r[3*Math.floor(a/4)].fetchStart,hundredPercentInFlight:r[a-1].fetchStart,twentyFivePercentComplete:o[Math.floor(a/4)].responseEnd,fiftyPercentComplete:o[2*Math.floor(a/4)].responseEnd,seventyFivePercentComplete:o[3*Math.floor(a/4)].responseEnd,hundredPercentComplete:o[a-1].responseEnd};for(let t in c)c[t]&&((0,x.LY)(`${e}.tags.${l}.${t}`,c[t],{sampleRate:.2,tags:i}),(0,x.LY)(`${e}.${l}.${t}`,c[t],{sampleRate:.2}))}},S=({annotateExperiments:e,endTime:t,entries:i,metricId:n,pwtStaticContext:l})=>{let a=`${(0,f.Z)(l)}.${n.surface}`,r=[a];e&&e.forEach(e=>{let t=l.getExperimentGroup(e)||"null";r.push(`${a}.${e}.${t}`)});let o=b((0,v.Bn)()),s={lcpTimingBucket:o||"unknown",isAuthenticated:l.isAuthenticated,navigationType:n.navigationType},d=Array.from(i.filter(e=>"number"==typeof e.encodedBodySize&&e.encodedBodySize>=1e4&&e.responseEnd<=t)),u=[],c=[],p=[],m=[],h=[];d.forEach(e=>{"img"===e.initiatorType?u.push(e):"css"===e.initiatorType?c.push(e):"script"===e.initiatorType?p.push(e):"xmlhttprequest"===e.initiatorType?m.push(e):"link"===e.initiatorType&&e.name.includes("i.pinimg.com")&&h.push(e)}),r.forEach(e=>{w({eventPrefix:e,endTime:t,tags:s,resourceArr:d}),w({eventPrefix:e,endTime:t,tags:s,resourceArr:u,resourceType:"image"}),w({eventPrefix:e,endTime:t,tags:s,resourceArr:c,resourceType:"css"}),w({eventPrefix:e,endTime:t,tags:s,resourceArr:p,resourceType:"scripts"}),w({eventPrefix:e,endTime:t,tags:s,resourceArr:m,resourceType:"xhr"}),w({eventPrefix:e,endTime:t,tags:s,resourceArr:h,resourceType:"preloadedImage"})})};var k=i(22773);let P=({startTime:e,responseEnd:t},i)=>e>i.endTime||!!t&&t<i.startTime,j=({annotateExperiments:e,annotations:t,binaryAnnotations:i,constraintMap:n,endTime:l,imageTimings:a,metricId:r,pwtStaticContext:o,startTime:s,traceId:d,spans:u})=>{let h;let _=(0,k.Cg)();"initial_app_load"===r.navigationType&&(h=(0,p.Z)());let v=a.map(({name:e})=>e),f=_.map(e=>(0,m.p)(e,v)).filter(({timing:e})=>!P(e,{startTime:s,endTime:l}));return("board"===r.surface||"pin_closeup"===r.surface)&&S({annotateExperiments:e,endTime:l,entries:_,metricId:r,pwtStaticContext:o}),{type:"COMPLETE",traceId:d,startTime:s,endTime:l,spans:y(f,d).concat(u),annotationMap:g({constraintMap:n,initialNavTiming:h,annotations:t}),binaryAnnotationMap:(0,c.rA)({annotateExperiments:e,binaryAnnotations:i,entries:_,metricId:r,performanceResources:f,pwtEndTime:l,pwtStaticContext:o})}};var I=i(358864);let T=!1,C=(e,t)=>{if(e&&t){if(!T)return T=!0,t;(0,o.H)("duplicated_initial_app_load_surface_pwt")}return(0,I.Z)()};var F=i(558775),A=i(317672);let E=e=>{let t=performance.getEntriesByType("resource").filter(e=>e.name.includes("i.pinimg")).reduce((e,t)=>{let i=t.name.replace(".jpg","").split("/");return{[i[i.length-1]]:{downloadSize:t.name.split("/")[3].split("x")[0]},...e}},{}),i=Array.from(document.getElementsByTagName("img")).map(e=>{let i=e.src.replace(".jpg","").split("/"),n=i[i.length-1];if(t[n]){var l;let i=(null===(l=(0,A.rZ)(e))||void 0===l?void 0:l.width)||1,a=t[n].downloadSize;return{fileName:n,renderedSize:i,downloadedSize:a,ratio:a/i}}return{fileName:n,renderedSize:1,downloadedSize:1,ratio:1}}),n=Array.from(document.querySelectorAll('div[role="img"]')).map(e=>{let i=e.style.backgroundImage.split('"')[1].replace(".jpg","").split("/"),n=i[i.length-1];if(t[n]&&e instanceof HTMLDivElement){var l;let i=(null===(l=(0,A.rZ)(e))||void 0===l?void 0:l.width)||1,a=t[n].downloadSize;return{fileName:n,renderedSize:i,downloadedSize:a,ratio:a/i}}return{fileName:n,renderedSize:1,downloadedSize:1,ratio:1}});[...i,...n].forEach(t=>{let{ratio:i,fileName:n,downloadedSize:l}=t;t.ratio>1.05&&(0,o.A9)(`checkImageRatio.${e}`,{count:Math.round(10*i)/10,tags:{fileName:`${l}_${n}`}})})};var R=i(985271),D=i(780280);let L=(e,t)=>{let i=(0,n.useRef)(t);return{getState:()=>i.current,dispatch:t=>{i.current=e(i.current,t)}}};var Z=i(314880),M=i(785893);let O=["initial_app_load","client_route_push"],z=(0,r.XV)("PwtSurface"),N="NavigationComplete",K="VisuallyComplete",U=(e,t)=>{e.isSampled&&(0,F.Z)({metricId:e.metricConfig.metricId,pwtStaticContext:e.metricConfig.pwtStaticContext,result:{type:"ABORT",reason:t}})},B=(e,t,i)=>{var n;let{metricConfig:{metricId:l,pwtStaticContext:r,annotateExperiments:d},annotations:u,binaryAnnotations:c,constraintMap:p,startTime:m,imageTimings:h,isSampled:g,spans:_}=e;(0,s.L8)(`PWT_Complete_${(0,a.KJ)(l)}`);let y=C("initial_app_load"===l.navigationType,null===(n=r.serverData)||void 0===n?void 0:n.trace_id),v=j({annotateExperiments:d,annotations:u,binaryAnnotations:c,constraintMap:p,endTime:t,imageTimings:h,metricId:l,pwtStaticContext:r,startTime:m,traceId:y,spans:_});g&&!i&&(0,F.Z)({metricId:l,pwtStaticContext:r,result:v});try{E(String(v.binaryAnnotationMap["metricId.surface"].value))}catch(e){(0,o.H)("image_ratio_check_error",{error:e})}return{...e,result:v,status:"DONE"}},$=(e,t)=>{if(e.metricConfig.constraints.every(t=>e.constraintMap[t])){let i=Math.max(...e.metricConfig.constraints.map(t=>e.constraintMap[t]));return B(e,i,t)}return e},H=(e,t)=>{let{constraint:i,time:n,disablePWTLogging:l}=t,r=(0,a.KJ)(e.metricConfig.metricId);return R.Z?e.metricConfig.constraints.find(e=>e===i)?e.constraintMap[i]?(z(`constraint "${i}" is already complete.`),(0,o.H)("duplicated_constraint_complete",{constraint:i,action:r}),e):(z(`marking constraint "${i}" as complete`),(0,s.ZP)(`constraint_${i}_is_complete`),$({...e,constraintMap:{...e.constraintMap,[i]:n||R.Z.now()}},l)):(z(`marked constraint "${i}" is not a required constraint.`),e):((0,o.H)("missing_window_performance",{action:r}),e)},G=(e,t)=>{if(!R.Z){let t=(0,a.KJ)(e.metricConfig.metricId);(0,o.H)("missing_window_performance",{action:t})}z(`removing constraint "${t}"`);let i=e.metricConfig.constraints.filter(e=>e!==t),{[t]:n,...l}=e.constraintMap;return $({...e,constraintMap:l,metricConfig:{...e.metricConfig,constraints:i}})},W=(e,t)=>{if(!R.Z){let t=(0,a.KJ)(e.metricConfig.metricId);(0,o.H)("missing_window_performance",{action:t})}z(`updating pwt segment to "${t}"`);let i={...e.metricConfig.metricId,segment:t};return{...e,metricConfig:{...e.metricConfig,metricId:i}}},V=(e,t)=>{let{metricConfig:i,startTime:n,isSampled:l,disablePWTLogging:r}=t;if(r||"TIMING"!==e.status||n===e.startTime||U(e,"routeUpdatedOnSameSurface"),!i)return{status:"DISABLED",metricConfig:null};let s=(0,a.KJ)(i.metricId);if("TIMING"===e.status&&e.startTime===n&&e.constraintMap[N])return(0,o.H)("duplicated_init_route_action",{action:s}),e;if(!r){if("Other"===i.pwtStaticContext.browserName&&!1===i.metricId.isAuthenticated&&"initial_app_load"===i.metricId.navigationType){var d,u,c,p;(0,o.A9)(`TIMING.${s}`,{tags:{userAgent:null===(d=window)||void 0===d?void 0:null===(u=d.navigator)||void 0===u?void 0:u.userAgent}}),(0,o.A9)(`TIMING.sampled.${s}`,{tags:{userAgent:null===(c=window)||void 0===c?void 0:null===(p=c.navigator)||void 0===p?void 0:p.userAgent},sampleRate:.5})}else(0,o.A9)(`TIMING.${s}`),(0,o.A9)(`TIMING.sampled.${s}`,{sampleRate:.5})}return H({status:"TIMING",metricConfig:i,startTime:n,constraintMap:{},annotations:{},binaryAnnotations:{},imageTimings:[],isSampled:l,spans:[]},{constraint:N,disablePWTLogging:r})},q=(e,t)=>{if(z("dispatch action",t),"INIT_ROUTE"===t.type)return V(e,t.payload);if("TIMING"!==e.status)return z(`ignoring action due to invalid state ${e.status}`,t),e;switch(t.type){case"ABORT":U(e,t.reason);let i={type:"ABORT",reason:t.reason};return{...e,status:"DONE",result:i};case"ANNOTATE":let{name:n}=t.payload;if(!R.Z)return e;let l=R.Z.now();return z(`adding annotation {${n}: ${l}}`),{...e,annotations:{...e.annotations,[n]:l}};case"BINARY_ANNOTATE":let{name:r,value:s,annotationType:d}=t.payload;return z(`adding binary annotation {${r}: ${s}}`),{...e,binaryAnnotations:{...e.binaryAnnotations,[r]:{value:s,type:d}}};case"MARK_CONSTRAINT_COMPLETE":return H(e,t.payload);case"REMOVE_CONSTRAINT":return G(e,t.payload);case"SET_SEGMENT":return W(e,t.payload);case"SET_VISUALLY_COMPLETE_RESULT":{let{payload:{imageTimings:i}}=t;if(0===i.length)return U(e,"visuallyComplete_noImages"),{...e,status:"DONE",result:{type:"ABORT",reason:"visuallyComplete_noImages"}};let n=Math.max(...i.map(e=>e.responseEnd||0));return H({...e,imageTimings:i},{constraint:K,time:n})}case"ADD_SUBSPAN":let{startTime:u}=e,{payload:{name:c,startTime:p,endTime:m,annotations:h,binaryAnnotations:g,parentId:_}}=t;return{...e,spans:[...e.spans,{name:c,id:(0,I.Z)(),startTime:p||u,endTime:m,annotationMap:{...h},binaryAnnotationMap:{...g},parentId:_}]};case"START_SUBSPAN":return{...e,spans:[...e.spans,{name:t.payload.name,id:(0,I.Z)(),startTime:R.Z?R.Z.now():0,endTime:1/0,annotationMap:{...t.payload.annotations},binaryAnnotationMap:{...t.payload.binaryAnnotations},parentId:t.payload.parentId}]};case"STOP_SUBSPAN":let y=e.spans.findIndex(e=>e.name===t.payload.name);return y>-1?(e.spans[y].endTime=R.Z?R.Z.now():0,t.payload.annotations&&(e.spans[y].annotationMap={...e.spans[y].annotationMap,...t.payload.annotations}),t.payload.binaryAnnotations&&(e.spans[y].binaryAnnotationMap={...e.spans[y].binaryAnnotationMap,...t.payload.binaryAnnotations})):(0,o.H)("invalid_subspan_stop_name",{name:t.payload.name}),e;default:let v=(0,a.KJ)(e.metricConfig.metricId);return(0,o.H)("invalid_pwt_surface_action",{action:v}),e}},Y=e=>{if(!e)return"initial_app_load";switch(e.action){case"PUSH":return"client_route_push";case"REPLACE":return"client_route_replace";default:return null}},Q=new Set,J=({surface:e,constraints:t,segment:i,measureGridVisuallyComplete:a,annotateExperiments:r,customEnabledNavigationTypes:o,navigationInfo:{clientNavigation:s,navigationType:u},sampleRate:c})=>{let p=(0,n.useRef)("NOT_SET"),m=(0,d.N5)(),{getState:h,dispatch:g}=L(q,{status:"DISABLED",metricConfig:null}),_=(0,D.B)();if(p.current!==s&&(p.current=s,m)){let{isAuthenticated:n}=m,l=e&&u&&(o||O).includes(u)?{metricId:{type:"surface",surface:e,navigationType:u,isAuthenticated:n,segment:i},annotateExperiments:r,constraints:[N,...t||[],...a?[K]:[]],pwtStaticContext:m}:null;(0,x.nP)("webapp.pwt_surface.init_route",{tags:{surface:e,navigationType:u,isAuthenticated:n}});let d=!Q.has(s);g({type:"INIT_ROUTE",payload:{metricConfig:l,startTime:s?s.time:0,isSampled:!c||Math.random()<c,disablePWTLogging:!d}}),d&&Q.add(s)}let y=h();if((0,n.useEffect)(()=>()=>{Q.delete(s)},[s]),(0,n.useEffect)(()=>{let e=e=>{g({type:"ABORT",reason:e})};l.Z.onSessionPause(e);let t=window.innerHeight,i=window.innerWidth,n=()=>{var e,l,a;let r=Math.abs(window.innerHeight-t),o=Math.abs(window.innerWidth-i),s=window.innerHeight!==t,d=window.innerWidth!==i,u={handler:(0,Z.H)(),deviceType:null!==(e=null==m?void 0:m.deviceType)&&void 0!==e?e:"unknown",isAuthenticated:null!==(l=null==m?void 0:m.isAuthenticated)&&void 0!==l?l:"unknown",platform:null!==(a=_.userAgent.platform)&&void 0!==a?a:"unknown"};(0,x.nP)("webapp.PwtLogger.handleResize",{sampleRate:1,tags:{...u,heightChanged:s,widthChanged:d}}),s&&(0,x.S0)("webapp.PwtLogger.resizeHeightDelta",r,{sampleRate:1,tags:u}),d&&(0,x.S0)("webapp.PwtLogger.resizeWidthDelta",o,{sampleRate:1,tags:u}),window.removeEventListener("resize",n);let c=(null==m?void 0:m.deviceType)==="phone"&&(!d&&s&&r<=150||!s&&!d)||(null==m?void 0:m.deviceType)==="desktop"&&!s&&!d;if(c){(0,x.nP)("webapp.PwtLogger.skipResizeAbort",{sampleRate:1,tags:{...u,heightChanged:s,widthChanged:d}});return}g({type:"ABORT",reason:"windowResized"})};return window.addEventListener("resize",n),()=>{let t=h();z("handling unmount",t),"TIMING"===t.status&&U(t,"unmount"),l.Z.removePauseListener(e),window.removeEventListener("resize",n)}},[]),"TIMING"!==y.status||!y.constraintMap[N])return{state:y,context:null};let{startTime:v,metricConfig:f}=y;return{state:y,context:{abort:e=>g({type:"ABORT",reason:e}),addAnnotation:e=>g({type:"ANNOTATE",payload:{name:e}}),addBinaryAnnotation:(e,t,i)=>g({type:"BINARY_ANNOTATE",payload:{name:e,value:t,annotationType:i}}),addSubspan:(e,t,i,n={},l={},a=null)=>g({type:"ADD_SUBSPAN",payload:{name:e,startTime:t,endTime:i,annotations:n,binaryAnnotations:l,parentId:a}}),getId:()=>v,getMetricId:()=>f.metricId,markConstraintComplete:e=>g({type:"MARK_CONSTRAINT_COMPLETE",payload:{constraint:e,time:R.Z?R.Z.now():0}}),removeConstraint:e=>g({type:"REMOVE_CONSTRAINT",payload:e}),setSegment:e=>g({type:"SET_SEGMENT",payload:e}),setVisuallyCompleteResult:f.constraints.includes(K)?e=>g({type:"SET_VISUALLY_COMPLETE_RESULT",payload:e}):null,startSubspan:(e,t={},i={},n=null)=>g({type:"START_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:i,parentId:n}}),stopSubspan:(e,t={},i={},n=null)=>g({type:"STOP_SUBSPAN",payload:{name:e,annotations:t,binaryAnnotations:i,parentId:n}})}}},X=()=>{let e=(0,u.E)(),t=!!e;(0,n.useEffect)(()=>{if(t){let t=null==e?void 0:e.getMetricId(),i=t?(0,a.KJ)(t):null;(0,o.H)("nested_pwt_surface",{action:i})}},[t])};function ee({children:e,...t}){var i;let n=(0,d.fM)(),l=Y(n),a=[...null!==(i=t.annotateExperiments)&&void 0!==i?i:[]],r={...t,annotateExperiments:a,navigationInfo:{navigationType:l,clientNavigation:n}},{context:o}=J(r);return X(),(0,M.jsx)(u.S,{value:o,children:e})}},317254:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(969853),l=i(667294),a=i(543059),r=i(276602),o=i(198462);function s({children:e,isAtEndOfFeed:t,pinData:i,itemCount:s,includeBackgroundImages:d=!1,includeVideos:u=!1,includeSections:c=!1}){var p;let m=null===(p=(0,o.N5)())||void 0===p?void 0:p.isAuthenticated;return m||(c=!0),(0,n.Z)({pinData:i,isAtEndOfFeed:t,includeBackgroundImages:d,includeVideos:u,includeSections:c}),!function(e){let t=(0,r.E)(),i=(0,l.useRef)(null);(0,l.useEffect)(()=>{e!==i.current&&(i.current=e,t&&(0,a.ZP)(a.at))},[!!t,e])}(s),e}},311560:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";case"CA":return"CA";case"GB":return"GB";case"FR":return"FR";case"DE":return"DE";case"AU":return"AU";case"IN":return"IN";default:return"OTHER"}}},220306:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var n=i(667294),l=i(883119),a=i(485710),r=i(288889),o=i(319530),s=i(898781),d=i(785893);function u({category:e,ingredients:t,textSize:i="300"}){return(0,d.jsxs)(l.xu,{children:[e&&(0,d.jsx)(l.xu,{children:(0,d.jsx)(l.xv,{size:i,weight:"bold",children:e})}),(0,d.jsx)("ul",{children:t.map((e,t)=>(0,d.jsx)("li",{"data-test-id":"recipe-ingredient",itemProp:"recipeIngredient",children:(0,d.jsx)(l.xu,{marginTop:1,children:(0,d.jsxs)(l.xv,{size:i,children:["• ",e.amt||null," ",e.name]})})},t))})]})}var c=i(134185);function p({recipeProps:e,marginOverrides:t}){let i=(0,s.ZP)(),{image:p,name:m,categorizedIngredients:h}=e.recipe,g=i.bt("Ingrédients", "Ingredients", "Ingredients title and count in closeup recipe description", undefined, true);if(h&&h.length){let e=[];h.forEach(t=>e.push(t.ingredients))}return(0,d.jsx)(l.xu,{marginTop:8,children:(0,d.jsxs)(c.Z,{itemScope:!0,itemType:"https://schema.org/Recipe",children:[(0,d.jsx)("meta",{content:m,itemProp:"name"}),(0,d.jsx)("meta",{content:p,itemProp:"image"}),(0,d.jsx)(a.Z,{heading:g,children:(0,d.jsx)(o.Z,{children:(0,d.jsx)(l.xu,{marginTop:4,children:h.map(({category:e,ingredients:i},a)=>{let o=`ingredient-${a}`;return(0,d.jsx)(n.Fragment,{children:(0,d.jsx)(l.xu,{marginBottom:(null==t?void 0:t.ingredientMarginBottom)||4,children:(0,d.jsx)(u,{category:e,ingredients:i,textSize:r.n})})},o)})})})})]})})}},910164:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var n,l=i(667294);i(167912);var a=i(883119),r=i(916117),o=i(561195),s=i(785893);let d=void 0!==n?n:n=i(993912);function u({recipeKey:e}){var t,i,n,u;let c=(0,r.Z)(d,e);if(null!=c&&null!==(t=c.aggregateRating)&&void 0!==t&&t.ratingValue&&c.aggregateRating.reviewCount){let e="number"==typeof(null===(i=c.cookTimes)||void 0===i?void 0:null===(n=i.cook)||void 0===n?void 0:n.m)&&"number"==typeof(null===(u=c.cookTimes.prep)||void 0===u?void 0:u.m)?`${c.cookTimes.cook.m+c.cookTimes.prep.m} minutes \xb7 `:"";return(0,s.jsxs)(l.Fragment,{children:[(0,s.jsx)(o.Z,{max_rating:c.aggregateRating.bestRating,rating:c.aggregateRating.ratingValue,width:12},c.aggregateRating.ratingValue),(0,s.jsx)(a.xv,{inline:!0,size:"200",children:` ${c.aggregateRating.reviewCount} \xb7 ${e}`})]})}return null}},932995:(e,t,i)=>{"use strict";function n(e,t,i){let n=[...e],l=n.splice(t,1)[0];return n.splice(i,0,l),n}i.d(t,{Z:()=>n})},780280:(e,t,i)=>{"use strict";i.d(t,{B:()=>c,LC:()=>d,P2:()=>s,fH:()=>u,gf:()=>p});var n=i(667294),l=i(608832),a=i(239745),r=i(785893);let o=(0,n.createContext)();function s({children:e,initialValue:t}){let[i,s]=(0,n.useState)(t),d=(0,n.useMemo)(()=>({requestContext:i,updateRequestContext:e=>{let t={...i,...e};(0,a.Z)(i,e)||s(t),(0,l.J)(t)}}),[i]);return(0,r.jsx)(o.Provider,{value:d,children:e})}let d=({children:e})=>{let t=(0,n.useContext)(o);if(!t)throw Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t.requestContext)},u=({children:e})=>{let t=(0,n.useContext)(o);if(!t)throw Error("RequestContextConsumer must be used within a RequestContextProvider");return e(t.requestContext)};function c(){let e=(0,n.useContext)(o);if(!e)throw Error("useRequestContext must be used within a RequestContextProvider");return e.requestContext}function p(){let e=(0,n.useContext)(o);if(!e)throw Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},608832:(e,t,i)=>{"use strict";let n;function l(e){n=e}function a(){return n}i.d(t,{J:()=>l,l:()=>a})},784590:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var n=i(667294),l=i(702664),a=i(616550),r=i(886858),o=i(780280),s=i(248327),d=i(718368);let u={},c=({httpStatus:e})=>!e||e>=500;function p(e){let{enabledRouteRefresh:t,__unstableEnableSuspenseSupport:i,headers:p,name:m,noCache:h,options:g,schema:_}=null!=e?e:{name:"DisabledResource",options:null},y=!e,v=(0,l.useDispatch)(),f=(0,r.Z)(g),x=(0,n.useRef)(null),b=(0,n.useRef)(),w=(0,a.k6)(),S=w&&"POP"!==w.action,k=e=>(e[m]||u)[f]||u,P=(0,l.useSelector)(({resources:e})=>k(e).nextBookmark),j=(0,l.useSelector)(({resources:e})=>k(e).data),I=(0,l.useSelector)(({resources:e})=>k(e).auxData),T=(0,l.useSelector)(({resources:e})=>k(e).error),C=(0,l.useSelector)(({resources:e})=>!!k(e).fetching),F="object"==typeof I&&"string"==typeof(null==I?void 0:I.pagination_group)?I.pagination_group:void 0,A=!!T||void 0!==j,E=A&&!C&&P===d.q,R=!!(A&&t&&S&&!y),[D,L]=(0,n.useState)(R),Z=(0,n.useCallback)((e,t)=>{x.current=v((0,s.U)(m,{options:g,schema:_,bookmark:e,headers:p,paginationGroup:t}))},[v,m,f,_,p]),M=()=>{x.current=v((0,s.b)(m,{options:g,schema:_,headers:p}))},{isBot:O}=(0,o.B)(),z=()=>{if(!y&&b.current!==f){let e=void 0===b.current;b.current=f,!A&&!C||e&&T&&c(T)?Z():(!O&&h||R)&&M()}};(0,n.useEffect)(()=>{i||z()}),i&&z();let N=(0,n.useCallback)(()=>{y||(M(),L(!0))},[y,s.b,m,f,p,L]),K=(0,n.useCallback)(()=>{!P||E||C||y||Z(P,F)},[y,Z,P,E,C,F]);if(x.current){if(A&&!C)x.current=null;else if(i)throw x.current}let U=(0,n.useRef)({auxData:void 0,data:void 0,error:void 0,fetchMore:K,isAtEnd:!1,isFetching:!1,isLoaded:!1,isRefreshing:!1,nextBookmark:void 0,refresh:N}),B={auxData:I,data:j,error:T,fetchMore:K,isAtEnd:E,isFetching:C,isLoaded:A,isRefreshing:D,nextBookmark:P,refresh:N};return(0,l.shallowEqual)(B,U.current)||(D&&(U.current.data||!R)&&!(0,l.shallowEqual)(B.data,U.current.data)&&(B.isRefreshing=!1,L(!1)),U.current=B),U.current}},418614:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var n=i(784590),l=i(19121),a=i(616550),r=i(780280),o=i(50286),s=i(826067);function d({getOptions:e,checkExperiments:t,disableFetch:i,...d}){let u=function(){let e=(0,l.Z)();return{country:e.country||void 0,id:e.id||void 0,isAuth:e.isAuth,isEmployee:!!e.isEmployee,isPartner:!!e.isPartner,username:e.username||void 0}}(),{args:c,fetchDisabled:p}=function({checkExperiments:e,disableFetch:t,viewer:i}){var n;let l=(0,a.TH)(),d=(0,a.$B)(),u=(0,r.B)(),c=function({advertiser:e,deviceType:t,location:{pathname:i,search:n},inviteCode:l,match:{params:a,path:r},viewer:o}){let d={inviteCode:l,matchPath:r,params:a,parsedSearch:(0,s.mB)(n),pathname:i,search:n},u={country:o.country||void 0,id:o.id||void 0,isAuth:o.isAuth,isEmployee:!!o.isEmployee,isPartner:!!o.isPartner,username:o.username||void 0};return{advertiser:e,deviceType:t,routeData:d,user:u}}({advertiser:u.advertiser,deviceType:(0,o.Mq)(u),location:l,match:d,viewer:i,inviteCode:null!==(n=u.inviteCode)&&void 0!==n?n:""}),p=!!t&&t(c),m=!!p||!e||e(u.experimentsClient);return{args:c,fetchDisabled:p||!m}}({checkExperiments:t,disableFetch:i,viewer:u}),m=e?e(c):void 0;return(0,n.Z)(p?null:{options:m,...d})}},134185:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(785893);let l=e=>{let t=e.itemType?{itemScope:!0,itemType:e.itemType}:{};return(0,n.jsx)("div",{"data-test-id":"rich-pin-information",...t,children:e.children||null})}},857079:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(883119),l=i(785893);function a({accessibilityLabel:e}){return(0,l.jsx)(n.kC,{alignItems:"center",justifyContent:"center",children:(0,l.jsx)(n.$j,{accessibilityLabel:e,show:!0})})}},995228:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(667294),l=i(785893);function a({children:e,fallback:t}){return(0,l.jsx)(n.Suspense,{fallback:t||null,children:e})}},740990:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(667294);let l=(0,n.createContext)("undefined"!=typeof window?window:null)},909499:(e,t,i)=>{"use strict";i.d(t,{Hd:()=>d,_R:()=>o,gi:()=>a,lw:()=>n,oD:()=>l,wF:()=>s,zh:()=>r});let n={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins",MY_CONTENT:"my_content"},l=e=>{let t=Object.values(n).find(t=>t===e);return null!=t?t:void 0},a=e=>{switch(e){case n.PINS:return 0;case n.PINS_MINE:return null;case n.PINS_BUYABLE:return 1;case n.PINS_VIDEO:return 2;case n.BOARDS:return 3;case n.USERS:return 4;default:return null}},r=e=>{switch(e){case 0:return n.PINS;case 1:return n.PINS_BUYABLE;case 2:return n.PINS_VIDEO;case 3:return n.BOARDS;case 4:return n.USERS;default:return null}},o=e=>{switch(e){case n.PINS_MINE:case n.MY_CONTENT:return 107;case n.PINS_BUYABLE:return 254;case n.PINS_VIDEO:return 3306;case n.BOARDS:return 44;case n.USERS:return 45;case n.PINS:default:return 43}},s=e=>{switch(e){case n.PINS:return 60;case n.PINS_MINE:case n.MY_CONTENT:return 63;case n.PINS_BUYABLE:return 3800;case n.PINS_VIDEO:return 64;case n.BOARDS:return 61;case n.USERS:return 62;default:return null}},d=(e,t)=>{if(t)switch(e){case n.USERS:return 1000392;case n.PINS_BUYABLE:return 1000391;case n.PINS:default:return 29}switch(e){case n.USERS:return 1000432;case n.PINS_BUYABLE:return 1000433;case n.PINS:default:return 1000269}}},862628:(e,t,i)=>{"use strict";function n(e){return(e||"").trim().replace(/\s+/g," ")}i.d(t,{Z:()=>n})},648284:(e,t,i)=>{"use strict";i.d(t,{Ht:()=>a,Tb:()=>l});var n=i(595371);function l({appliedProductFilters:e,autoCorrectionDisabled:t,filters:i,query:n,scope:l,selectedPinImgSig:a,user:r}){let o=[l,i,e,r,a,n].map(e=>null!=e?e:"").join(":");return t?"auto-correction-disabled:"+o:o}function a(e){let{autoCorrectionDisabled:t,appliedProductFilters:i,appliedFilters:l,domains:a,filters:r,guidedSearchQuery:o,pageSize:s,priceMax:d,priceMin:u,selectedPinImgSig:c,query:p,rs:m,scope:h,bubbleId:g,topPinId:_,user:y}=e,v=function({autoCorrectionDisabled:e=!1,appliedFilters:t=null,appliedProductFilters:i=null,bubbleId:l=null,domains:a=null,filters:r=null,pageSize:o=null,priceMax:s=null,priceMin:d=null,query:u=null,rs:c=n.i.DIRECT_NAVIGATION,scope:p="pins",selectedPinImgSig:m=null,sourceId:h=null,topPinId:g=null,user:_}){return{article:l,applied_filters:t,appliedProductFilters:i,auto_correction_disabled:e,corpus:m?"personalize":null,customized_rerank_type:m?"manas_graph_sage_only_wand_rewrite":null,domains:a,filters:r,page_size:o,price_max:s,price_min:d,query:u,query_pin_sigs:m,redux_normalize_feed:!0,rs:c,scope:p,source_id:h,top_pin_id:g,user:_}}({autoCorrectionDisabled:!!t,appliedProductFilters:i,appliedFilters:l,domains:a,pageSize:s,priceMax:d,priceMin:u,filters:r,guidedSearchQuery:o,query:p,rs:m,scope:h,selectedPinImgSig:c,bubbleId:g,topPinId:_,user:y});return{name:"BaseSearchResource",options:v}}},350576:(e,t,i)=>{"use strict";i.d(t,{H5:()=>g,Xn:()=>m,an:()=>h});var n=i(826067);let l="BING",a="GOOGLE",r="YAHOO",o="YANDEX",s="RAKUTEN",d="NAVER",u="AMP_CACHE",c="DUCKDUCKGO",p=[a,l,r,o,s,d,u,c];function m(e){return p.includes(function(e){let{hostname:t}=(0,n.Qc)(e,!0);if(t&&e){if(t.includes("google.")||e.includes("android-app://com.google.android.googlequicksearchbox"))return a;if(t.includes("bing."))return l;if(t.includes("yahoo."))return r;if(t.includes("yandex."))return o;else if(t.includes("rakuten."))return s;else if(t.includes("naver."))return d;else if(t.includes("duckduckgo."))return c;else if(t.includes(".cdn.ampproject.org"))return u}return""}(e))}function h(e){return e||"undefined"!=typeof document&&document.referrer||""}let g=e=>{let t=new URL(e);return t.searchParams.set("nii","t"),t.href}},239745:(e,t,i)=>{"use strict";function n(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let i=Object.keys(e),n=Object.keys(t);return i.length===n.length&&i.every(i=>e[i]===t[i])}i.d(t,{Z:()=>n})},619277:(e,t,i)=>{"use strict";i.d(t,{o$:()=>l,ty:()=>a,vE:()=>r});var n=i(425288);let{Provider:l,MaybeConsumer:a,useMaybeHook:r}=(0,n.Z)("inviteContext")},296011:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s,t:()=>d});var n=i(667294),l=i(167912),a=i(214494);function r(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let o={};class s extends n.Component{constructor(...e){super(...e),r(this,"state",{invite:o[this.props.invite_code]||null,loaded:this.props.invite_code in o})}componentDidMount(){let{invite_code:e}=this.props;a.Z.create("InviteCodeMetadataResource",{invite_code:e}).callGet().then(t=>{if(t&&t.resource_response){let i=t.resource_response.data;o[e]=i,this.setState({invite:i,loaded:!0})}}).catch(()=>{this.setState({invite:null,loaded:!0})})}render(){let{invite:e,loaded:t}=this.state;return t?this.props.children(e):null}}class d extends n.Component{constructor(...e){super(...e),r(this,"state",{invite:o[this.props.invite_code]||null,loaded:this.props.invite_code in o})}componentDidMount(){let{invite_code:e,relayEnvironment:t,inviteQuery:i}=this.props;(0,l.fetchQuery)(t,i,{invite_code:e}).subscribe({next:e=>{var t;if(null!==(t=e.v3GetInviteCodeQuery)&&void 0!==t&&t.data){let t=e.v3GetInviteCodeQuery;this.setState({invite:t,loaded:!0})}},error:()=>{this.setState({invite:null,loaded:!0})}})}render(){let{invite:e,loaded:t}=this.state;return t?this.props.children(e):null}}},622096:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(238381);let l=(0,n.Z)({type:"session"}),a=l},940882:(e,t,i)=>{"use strict";i.d(t,{J:()=>n,Z:()=>l});let n=-1;function l(e){switch(e){case 0:return"shopping-bag";case 1:return"tag";default:return"search"}}},994912:(e,t,i)=>{"use strict";function n(e){return e.toLowerCase().charAt(0).toUpperCase()+e.toLowerCase().slice(1)}i.d(t,{Z:()=>n})},430323:(e,t,i)=>{"use strict";i.d(t,{Z:()=>v});var n=i(667294),l=i(722767),a=i(558068),r=i(780280),o=i(239745),s=i(245474),d=i(425288);let{Provider:u,useMaybeHook:c}=(0,d.Z)("timeSpentContext");var p=i(790123),m=i(350118),h=i(785893);function g(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class _ extends n.Component{constructor(e){super(e),g(this,"componentWillUnmount",()=>{this.unregisterComponent()}),g(this,"getContext",()=>{let{clientTrackingParams:e,component:t,element:i,objectId:n,timeSpentContext:l,view:a,viewParameter:r}=this.props;return{view:a||(null==l?void 0:l.view),viewParameter:r||(null==l?void 0:l.viewParameter),component:t||(null==l?void 0:l.component),element:i,objectId:n||(null==l?void 0:l.objectId),clientTrackingParams:e||(null==l?void 0:l.clientTrackingParams),getParentUuid:()=>this.getUuid(),getGrandparentUuid:()=>this.getParentId()}}),g(this,"getLoggerContext",()=>{let e={...this.getContext()};return delete e.getParentUuid,e}),g(this,"getParentId",()=>{let{timeSpentContext:e,shouldUseGrandparentId:t=!1}=this.props;if(t&&e&&e.getGrandparentUuid){let t=e.getGrandparentUuid();if(t)return t}return e&&e.getParentUuid?e.getParentUuid():void 0}),g(this,"getUuid",()=>this.state.timedPair?this.state.timedPair.uuid:void 0),g(this,"getTimedPair",()=>this.state.timedPair),g(this,"setTimedPair",(e,t)=>{this.setState({timedPair:e},()=>{t&&t()})}),g(this,"isRegistered",!1),g(this,"registerComponent",()=>{this.props.timeSpentManager.registerComponent(this),this.isRegistered=!0}),g(this,"unregisterComponent",()=>{this.isRegistered&&(this.props.timeSpentManager.unregisterComponent(this),this.isRegistered=!1)}),g(this,"handleVisibilityChange",e=>{let{intersectionRatio:t}=e[0],{bottom:i,left:n,right:l,top:a}=e[0].intersectionRect;t>0?this.registerComponent():0===t&&(0===i&&0===n&&0===l&&0===a?this.unregisterComponent():this.registerComponent())}),this.state={timedPair:new s.Z(this.getLoggerContext())}}componentDidUpdate(e){!this.isRegistered||e.view===this.props.view&&e.viewParameter===this.props.viewParameter&&e.component===this.props.component&&e.element===this.props.element&&e.objectId===this.props.objectId&&(0,o.Z)(e.auxData,this.props.auxData)&&(0,o.Z)(e.viewData,this.props.viewData)||(this.unregisterComponent(),setTimeout(this.registerComponent))}render(){let{children:e}=this.props;return(0,h.jsx)(u,{value:this.getContext(),children:(0,h.jsx)(l.Z,{onVisibilityChange:this.handleVisibilityChange,options:{threshold:0},children:n.Children.only(e)})})}}function y(e){var t;let i=(0,a.Hv)(),l=c(),o=(0,p.w)(),s=(0,m.H0)(),{requestIdentifier:d=""}=(0,r.B)(),u={app_instance_id:d.slice(0,8),...null!==(t=e.auxData)&&void 0!==t?t:{}};return(0,n.useEffect)(()=>{null==o||o.setHistoryStackContext(i)},[i,o]),(0,n.useEffect)(()=>{null==o||o.setPins(null!=s?s:{})},[s,o]),o?(0,h.jsx)(_,{...e,auxData:u,timeSpentContext:l,timeSpentManager:o,children:e.children}):e.children}y.displayName="TimeSpent";let v=y},477802:(e,t,i)=>{"use strict";i.d(t,{Qy:()=>d,Wu:()=>c,ZP:()=>u});var n=i(616550),l=i(883119),a=i(780280),r=i(826067),o=i(19121),s=i(785893);let d=()=>{let e=(0,o.Z)(),{isInternalIP:t}=(0,a.B)(),i=(0,n.TH)();return(t||e.isAuth&&e.isEmployee)&&Object.keys((0,r.mB)(i.search)).some(e=>e.startsWith("deb_"))};function u({data:e}){return(0,s.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{border:"2px solid red"}},"data-test-id":"debug-info",overflow:"auto",children:(0,s.jsx)("pre",{children:JSON.stringify(e,null,2).replace(/\\n/g,"\n")})})}let c=e=>(0,s.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{marginTop:10}},width:236,children:(0,s.jsx)(u,{...e})})},745312:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s,n:()=>r});var n=i(883119),l=i(667294),a=i(785893);function r({items:e,itemWidth:t,itemGap:i,numRows:n=1,actionItemType:a}){let r;let[o,s]=function(){let[e,t]=(0,l.useState)(0),i=(0,l.useRef)(null),n=(0,l.useCallback)(()=>{i.current&&t(i.current.clientWidth)},[i]);return(0,l.useEffect)(()=>(window.addEventListener("resize",n),()=>{window.removeEventListener("resize",n)}),[n]),(0,l.useEffect)(n),[e,i]}(),d=Math.floor((o+i)/(t+i))*n||n,u=e.slice(0,d),c=[];switch(a){case"nextFour":d>=e.length?c=[u.pop()]:(u.pop(),c=e.slice(d-1,d+3));break;case"one":r=d>e.length?e[Math.floor(e.length/2)]:u.pop()}return{containerRef:s,itemsToRender:u,actionItem:r,nextFourItems:c}}let o={center:{outer:"center",inner:"center"},left:{outer:"start",inner:"start"},right:{outer:"end",inner:"end"}};function s({children:e,itemGap:t,containerRef:i,numRows:l=1,rowAlignment:r="center"}){let s=o[r];return(0,a.jsx)(n.xu,{ref:i,width:"100%",children:(0,a.jsx)(n.kC,{alignItems:"center",justifyContent:s.outer,children:(0,a.jsx)(n.kC,{gap:{row:Math.floor(t/4),column:0},justifyContent:s.inner,wrap:l>1,children:e})})})}},280446:(e,t,i)=>{"use strict";function n(e){if((e||"").includes("--")){let t=e.split("--"),i=t.pop();return{text:t.join("--"),pinId:i}}return{text:"",pinId:e}}i.d(t,{Z:()=>n})},50286:(e,t,i)=>{"use strict";i.d(t,{HG:()=>c,Kf:()=>r,Mq:()=>l,Wb:()=>u,ZP:()=>p,dA:()=>o,ds:()=>s,ml:()=>d});var n=i(780280);function l(e){let{isMobile:t,isTablet:i}=e.userAgent;return i?"tablet":t?"phone":"desktop"}let a=()=>{let e=(0,n.B)();return l(e)},r=e=>"phone"===e,o=e=>"tablet"===e,s=e=>"desktop"===e,d=()=>r(a()),u=()=>o(a()),c=()=>s(a()),p=a},215292:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r,q:()=>a});var n=i(667294);let l=()=>{let[e,t]=(0,n.useState)(!1),[i,l]=(0,n.useState)(!1),[a,r]=(0,n.useState)(!1);return{active:e,focused:i,hovered:a,onBlur:()=>{l(!1),t(!1)},onFocus:()=>l(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>r(!0),onMouseLeave:()=>{r(!1),t(!1)},onMouseUp:()=>t(!1)}};function a({children:e}){let t=l();return e(t)}let r=l},999018:(e,t,i)=>{"use strict";i.d(t,{Y:()=>m,Z:()=>h});var n,l,a=i(667294);i(167912);var r=i(681669),o=i(357998);let s=void 0!==n?n:n=i(124495),d=void 0!==l?l:l=i(579744),u=(e,t)=>{var i,n,l,a,r,o,s,d,u,c,p,m,h,g,_,y,v,f,x,b,w;let S=Symbol("SKIP"),k=e=>Object.entries(e).filter(([,e])=>e!==S).reduce((e,[t,i])=>({...e,[t]:i}),{});if("deprecated"!==e.type){let c=e.data;return k({...c.isEligibleForPdpPlus||c.isEligibleForPdp||c.isOosProduct||c.isStaleProduct?{...((e,i,n,l,a,r,o,s,d)=>{if(!t)return{image_count:S,image_index:S};let u=null===(e=c.richMetadata)||void 0===e?void 0:null===(i=e.products)||void 0===i?void 0:i[0];return{is_pdpplus:!0,carousel_image_count:S,brand_signature:(null==u?void 0:null===(n=u.brand)||void 0===n?void 0:n.signature)||S,free_shipping_price:(null==u?void 0:null===(l=u.shippingInfo)||void 0===l?void 0:l.freeShippingPrice)||S,free_shipping_value:(null==u?void 0:null===(a=u.shippingInfo)||void 0===a?void 0:a.freeShippingValue)||S,num_variants:(null==u?void 0:null===(r=u.variantSet)||void 0===r?void 0:null===(o=r.variants)||void 0===o?void 0:o.length)||S,total_dimension_option_count:(null==u?void 0:null===(s=u.variantSet)||void 0===s?void 0:null===(d=s.dimensionMetadata)||void 0===d?void 0:d.length)||S,valid_dimension_option_count:S}})(),pin_show_pdp_oos:!!c.isOosProduct||S,pin_show_pdp_stale:!!c.isStaleProduct||S,pin_show_pdp:!!c.isEligibleForPdp||S}:{},pin_is_shop_the_look:!!(null!==(i=c.shoppingFlags)&&void 0!==i&&i.includes(2)||null!==(n=c.aggregatedPinData)&&void 0!==n&&n.isShopTheLook)||S,is_available:!!(null!==(l=c.shoppingFlags)&&void 0!==l&&l.includes(1))||S,is_product_pin_v2:!!(null!==(a=c.shoppingFlags)&&void 0!==a&&a.includes(5))||S,is_rich_product_pin:!!(null!==(r=c.shoppingFlags)&&void 0!==r&&r.includes(6))||S,is_organic_product_carousel:S,item_id:((null===(o=c.richSummary)||void 0===o?void 0:null===(s=o.products)||void 0===s?void 0:s[0])||{}).itemId||S,item_set_id:((null===(d=c.richSummary)||void 0===d?void 0:null===(u=d.products)||void 0===u?void 0:u[0])||{}).itemSetId||S,story_pin_id:c.storyPinData?c.storyPinDataId:S})}{let i=e.data;return i?k({...i.is_eligible_for_pdp_plus||i.is_eligible_for_pdp||i.is_oos_product||i.is_stale_product?{...((e,n,l,a,r,o,s,d,u,c,p,m,h,g,_)=>{let y=null===(e=i.rich_metadata||i.rich_summary)||void 0===e?void 0:null===(n=e.products)||void 0===n?void 0:n[0],v=null!=y&&null!==(l=y.additional_images)&&void 0!==l&&l.length?{imageCount:(i.images?1:0)+y.additional_images.length,imageIndex:(null===(a=i.carousel_data)||void 0===a?void 0:a.index)||0}:i.carousel_data&&{imageCount:null===(r=i.carousel_data.carousel_slots)||void 0===r?void 0:r.length,imageIndex:i.carousel_data.index};if(!t)return v?{image_count:v.imageCount,image_index:v.imageIndex}:{};let f=null===(o=i.rich_metadata)||void 0===o?void 0:null===(s=o.products)||void 0===s?void 0:s[0],x=null!==(d=null==f?void 0:null===(u=f.variant_set)||void 0===u?void 0:u.variants)&&void 0!==d?d:[];return{is_pdpplus:!0,carousel_image_count:v?v.imageCount:S,brand_signature:(null==f?void 0:null===(c=f.brand)||void 0===c?void 0:c.signature)||S,free_shipping_price:(null==f?void 0:null===(p=f.shipping_info)||void 0===p?void 0:p.free_shipping_price)||S,free_shipping_value:(null==f?void 0:null===(m=f.shipping_info)||void 0===m?void 0:m.free_shipping_value)||S,num_variants:x.length||S,total_dimension_option_count:(null==f?void 0:null===(h=f.variant_set)||void 0===h?void 0:null===(g=h.dimension_metadata)||void 0===g?void 0:g.length)||S,valid_dimension_option_count:((null==f?void 0:null===(_=f.variant_set)||void 0===_?void 0:_.dimension_metadata)||[]).reduce((e,{name:t,values:i})=>e+(t&&i||[]).filter(e=>x.some(i=>{var n;return(null===(n=i.dimensions)||void 0===n?void 0:n[null!=t?t:""])===e})).length,0)||S}})(),pin_show_pdp_oos:!!i.is_oos_product||S,pin_show_pdp_stale:!!i.is_stale_product||S,pin_show_pdp:!!i.is_eligible_for_pdp||S}:{},pin_is_shop_the_look:!!(null!==(c=i.shopping_flags)&&void 0!==c&&c.includes(2)||null!==(p=i.aggregated_pin_data)&&void 0!==p&&p.is_shop_the_look)||S,is_available:!!(null!==(m=i.shopping_flags)&&void 0!==m&&m.includes(1))||S,is_product_pin_v2:!!(null!==(h=i.shopping_flags)&&void 0!==h&&h.includes(5))||S,is_rich_product_pin:!!(null!==(g=i.shopping_flags)&&void 0!==g&&g.includes(6))||S,is_organic_product_carousel:!!(null!==(_=i.shopping_flags)&&void 0!==_&&_.includes(10)||((null===(y=i.product_pin_data)||void 0===y?void 0:null===(v=y.items)||void 0===v?void 0:v[0])||{}).additional_images)||S,item_id:((null===(f=i.rich_summary)||void 0===f?void 0:null===(x=f.products)||void 0===x?void 0:x[0])||{}).item_id||S,item_set_id:((null===(b=i.rich_summary)||void 0===b?void 0:null===(w=b.products)||void 0===w?void 0:w[0])||{}).item_set_id||S,story_pin_id:i.story_pin_data?i.story_pin_data_id:S}):{}}},c=e=>0===Object.keys(e).length?{}:{commerce_data:JSON.stringify(e)},p=e=>{let{childDataKey__DEPRECATED:t}=(0,o.Q)(s,e,{useLegacyAdapter:e=>({})}),{childDataKey__DEPRECATED:i}=(0,r.Zm)(d,null==t?{type:"deprecated",data:null}:t,{useGraphQLAdapter:e=>e,useLegacyAdapter:e=>e}),n=(0,a.useRef)(i);return(0,a.useEffect)(()=>{n.current=i}),(0,a.useCallback)(e=>c({...null==e?void 0:e.default,...u(n.current,!!(null!=e&&e.isPdpPlus)),...null==e?void 0:e.override}),[])},m=({children:e,pinKey:t})=>e(p(t)),h=p},411465:(e,t,i)=>{"use strict";i.d(t,{G:()=>o,Z:()=>s});var n=i(667294),l=i(616550),a=i(785893);let r=(0,n.createContext)(!0);function o({children:e}){let t=(0,l.TH)(),[i,o]=(0,n.useState)(!0),s=(0,n.useRef)(t);return(0,n.useEffect)(()=>{s.current!==t&&(s.current=t,o(!1))},[t]),(0,a.jsx)(r.Provider,{value:i,children:e})}function s(){return(0,n.useContext)(r)}},458101:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(667294);let l=()=>{let e=(0,n.useRef)(!1);return(0,n.useEffect)(()=>(e.current=!0,()=>{e.current=!1}),[]),e}},19121:(e,t,i)=>{"use strict";i.d(t,{$:()=>l,Z:()=>r});var n=i(425288);let{Provider:l,useHook:a}=(0,n.Z)("viewer"),r=a},46584:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var n=i(667294);let l=new Map,a=null,r=e=>{e.forEach(e=>{let t=l.get(e.target);t&&t(e)})},o=e=>{a.unobserve(e),l.delete(e)},s=(e,t="-64px 0px 0px 0px",i)=>{let n={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};a=a||new window.IntersectionObserver(r,n),l.set(e,i),a.observe(e)},d=e=>l.has(e);function u({onVisibilityChanged:e,inAdsDesktopVideoExperiment:t,trackFullVisible:i,rootMargin:a}){let r=(0,n.useRef)(null),u=!1,c=t=>{let i=t.intersectionRatio>0||t.isIntersecting;(u=i)&&e(!0)},p=()=>{r.current instanceof HTMLElement&&d(r.current)&&u&&(e(!1),u=!1)},m=(0,n.useCallback)(e=>{r.current instanceof HTMLElement&&s(r.current,e,e=>{if(!l.has(r.current))return;let n=t?e.intersectionRatio>=.5:e.intersectionRatio>0||e.isIntersecting,a=i?e.intersectionRatio>=1:n,o=i?0===e.intersectionRatio:!a;!u&&a?c(e):u&&o&&p()})},[r.current]);return(0,n.useEffect)(()=>(m(a),()=>{r.current instanceof HTMLElement&&(p(),o(r.current))}),[m]),r}},307603:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(985057);function l({x:e,y:t,w:i,h:l},a){return(0,n.Z)({x:e,y:t,w:i,h:l})?{x:a?parseInt(e,10):parseFloat(e),y:a?parseInt(t,10):parseFloat(t),w:a?parseInt(i,10):parseFloat(i),h:a?parseInt(l,10):parseFloat(l)}:{x:0,y:0,w:1,h:1}}},255164:(e,t,i)=>{"use strict";function n(e){let t;switch(e){case 1:t=1;break;case 2:t=2;break;case 3:t=3;break;case 4:t=4;break;case 5:t=5;break;case 6:t=6}return t}i.d(t,{Z:()=>n})},975540:(e,t,i)=>{"use strict";function n({cropArea:{x:e,y:t,w:i,h:n},scaledWidth:l,scaledHeight:a}){return{x:e/l,y:t/a,w:i/l,h:n/a}}i.d(t,{Z:()=>n})},599611:(e,t,i)=>{"use strict";function n({cropArea:e,scaledWidth:t,scaledHeight:i}){let n=e.h||0,l=e.w||0,a=e.x||0,r=e.y||0;return{h:Math.floor(n*i),w:Math.floor(l*t),x:Math.floor(a*t),y:Math.floor(r*i)}}i.d(t,{Z:()=>n})},94047:(e,t,i)=>{"use strict";function n({cropArea:e,cropSource:t,requestParams:i,searchQuery:n,surfaceType:l,title:a,trafficSource:r}){let o=[];if(e){let{x:t,y:i,w:n,h:l}=e;t>=0&&i>=0&&n>=0&&l>=0&&o.push(`x=${t}`,`y=${i}`,`w=${n}`,`h=${l}`)}t&&o.push(`cropSource=${t}`),l&&o.push(`surfaceType=${l}`),a&&o.push(`full_feed_title=${encodeURIComponent(a)}`),n&&o.push(`q=${n}`),r&&"unknown"!==r&&o.push(`rs=${r}`),i&&o.push(`requestParams=${encodeURIComponent(i)}`);let s=o.length?`?${o.join("&")}`:"";return s}i.d(t,{Z:()=>n})},297852:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(94047);function l({cropArea:e,cropSource:t,isProductPage:i,pinId:l,requestParams:a,searchQuery:r,surfaceType:o,title:s,trafficSource:d}){let u=(0,n.Z)({cropArea:e,cropSource:t,requestParams:a,searchQuery:r,surfaceType:o,title:s,trafficSource:d}),c="";return i&&(c="products/"),`/pin/${l}/visual-search/${c}${u}`}},985057:(e,t,i)=>{"use strict";function n({x:e,y:t,w:i,h:n}){return[e,t,i,n].every(e=>""!==e&&null!=e&&Number.isFinite(Number(e)))}i.d(t,{Z:()=>n})},873476:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(667294),l=i(616550),a=i(826067),r=i(50286),o=i(829407);function s(){let e=(0,r.HG)(),{action:t}=(0,l.k6)(),{path:i}=(0,l.$B)(),s=(0,l.TH)(),{entry:d}=(0,a.mB)(s.search),u="/pin/:id/related-products/all"===i,c="/pin/:id/visual-search/products"===i,[p,m]=(0,n.useState)(()=>{if("PUSH"!==t)return null;if(e){if(u&&("flashlight"===d||"stela"===d))return"feed_module";if("shop"===d)return"shop_the_look_module"}else if(c)return"feed_module";return null});return(0,o.Z)(()=>{m(null)}),p}},487392:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(780280),l=i(784590),a=i(19121);function r(){var e;let t=(0,n.B)(),i=(0,a.Z)(),{advertiser:r}=t,o=(0,l.Z)(null!=r&&r.merchant_id?null:{name:"UserResource",options:{user_id:r?r.owner_user_id:i.isAuth&&i.id,field_set_key:"merchant_summary"}});return{merchantId:(null==r?void 0:r.merchant_id)||(null===(e=o.data)||void 0===e?void 0:e.ppa_merchant_id)||"",advertiserId:(null==r?void 0:r.id)||"",ownerUserId:(null==r?void 0:r.owner_user_id)||(i.isAuth?i.id:""),advertiser:r}}},306732:(e,t,i)=>{"use strict";i.d(t,{Be:()=>n,J_:()=>r,MD:()=>l,Rd:()=>o,ss:()=>a});let n={1:"All Products",2:"Best Deals",3:"Most Popular",4:"Top Sellers",5:"Back In Stock",6:"New Arrivals"},l={campaignId:"createNewCampaign",objectiveType:"CATALOG_SALES",absolutify:!0},a="US",r="activated",o="ads_create_source_param"},785352:(e,t,i)=>{"use strict";i.d(t,{I:()=>s});var n=i(667294),l=i(898781),a=i(784590),r=i(306732);let o=(e,t,i)=>{if(i===r.Be[Number(t)]){if(1===Number(t))return e.bt("Tous les produits", "All Products", "catalogs.productGroup.name.allProducts", undefined, true);if(2===Number(t))return e.bt("Meilleures offres", "Best Deals", "catalogs.productGroup.name.bestDeals", undefined, true);if(3===Number(t))return e.bt("Les plus populaires", "Most Popular", "catalogs.productGroup.name.mostPopular", undefined, true);if(4===Number(t))return e.bt("Meilleures ventes", "Top Sellers", "catalogs.productGroup.name.topSellers", undefined, true);else if(5===Number(t))return e.bt("Retour en stock", "Back In Stock", "catalogs.productGroup.name.inStock", undefined, true);else if(6===Number(t))return e.bt("Nouveautés", "New Arrivals", "catalogs.productGroup.name.newArrivals", undefined, true)}return i};function s(e={},t=!1,i=!1){let r=(0,l.ZP)(),s=(0,a.Z)(t?null:{name:"ProductGroupsResource",options:e,enabledRouteRefresh:!0,noCache:i}),d=(0,n.useMemo)(()=>s.data&&s.isLoaded?s.data.map(e=>(e.name=o(r,e.type,e.name),e)):[],[r,s.data,s.isLoaded]);return{...s,data:d}}},522679:(e,t,i)=>{"use strict";i.d(t,{N:()=>p,t:()=>g});var n=i(667294),l=i(214494),a=i(78714),r=i(904431),o=i(924196),s=i(425288),d=i(773285),u=i(785893);let{Provider:c,useHook:p}=(0,s.Z)("LinkedAccount"),m=e=>{(0,a.Z)(e?`/?next=${encodeURIComponent(e)}`:"/")},h=e=>{r.Z.reportFacebookConversion(o.Z.FACEBOOK_ADVERTISER_ID,"CompleteRegistration",{content_name:"/business/convert"}),r.Z.reportPinterestConversion("track","lead",{lead_type:"Self-serve"}),r.Z.reportLinkedInConversion(o.Z.LINKEDIN_PARTNER_ID,o.Z.LINKEDIN_CONVERSION_ID_SUBMISSION_EVENT),r.Z.reportGoogleConversion(o.Z.GOOGLE_ADWORDS_ID,o.Z.GOOGLE_ADWORDS_LABEL_BUSINESS_CONVERT,"/",e)};function g({children:e}){let[t,i]=(0,n.useState)(!1),[a,r]=(0,n.useState)([]),{checkExperiment:o}=(0,d.F)(),s=o("ppm_p_gate").anyEnabled,p=(0,n.useCallback)(({businessName:e,thirdPartyApps:t,thirdPartyMarketingTrackingEnabled:n,nextUrl:a})=>(i(!0),l.Z.create("BusinessOwnershipResource",{business_name:e,third_party_apps:t}).callCreate({showError:!0}).then(()=>{n&&h(s),i(!1),m(a)}).catch(e=>(i(!1),Promise.reject({error:e})))),[i,s]),g=(0,n.useMemo)(()=>({createLinkedBusinessAccount:p,linkedBusinessCreationLoading:t,userAccounts:a,userAccountsRetrieved:r}),[p,t,r,a]);return(0,u.jsx)(c,{value:g,children:e})}},225692:(e,t,i)=>{"use strict";i.d(t,{X:()=>l,Z:()=>a});var n=i(667294);let l=120;function a(e,t=0,i=l){let[a,r]=(0,n.useState)(e?"active":"inactive");return(0,n.useEffect)(()=>{if(e){if(t){let e=setTimeout(()=>r("active"),t);return()=>{clearTimeout(e)}}r("active")}else{let e=setTimeout(()=>r("inactive"),i);return()=>{clearTimeout(e)}}},[e]),a}},841509:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(883119),l=i(785893);function a({children:e,additionalStyles:t={}}){return(0,l.jsx)(n.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...t}},"data-test-id":"contentLayer",left:!0,position:"absolute",right:!0,top:!0,children:e})}},525199:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(883119),l=i(225692),a=i(785893);function r({children:e,fadeInDuration:t=0,fadeOutDuration:i=l.X,visibility:r}){return"none"!==r&&e?(0,a.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:{hidden:{opacity:0,transition:i?`opacity ${i}ms ease`:void 0},visible:{opacity:1,transition:t?`opacity ${t}ms ease`:void 0}}[r]},children:e}):null}},439506:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var n=i(702664),l=i(883119),a=i(792182),r=i(407043),o=i(332611),s=i(599997),d=i(356997),u=i(46584),c=i(785893);function p({isFullWidth:e,actionType:t,buttonAction:i,buttonText:p,experience:m,hideCompleteButton:h,imageAlt:g,imageUrl:_,openNewTab:y,avatarImageDetails:v,examplePinImage:f,titleText:x,titleTextColor:b,titleTextCustomization:w,descriptionText:S,descriptionTextCustomization:k}){var P,j;let{logContextEvent:I}=(0,r.v)(),T=(0,o.be)(),C=(0,o.Ig)(),F=0===t?3833:1===t?3834:2===t?3835:null,A=(0,n.useDispatch)(),{experience_id:E,placement_id:R}=m||{},D=(0,u.Z)({onVisibilityChanged:e=>{e&&m&&void 0!==R&&void 0!==E&&(m.status="viewed",I({event_type:13,view_type:612,view_parameter:F}),A(C(R,E,!1,!0)))}}),{width:L}=(0,a.Z)()||{width:8},Z=L-8,M=(0,s.IA)(L),O=Z*M,z=M===s.LX||M===s.Ec,{url:N,full_name:K}=v||{},U=O*s.l0,{url:B}=f||{},$=B?O*s.l0:0,H=B?s.ml*$:0,{color:G,fontStyle:W,fontWeight:V,horizontalAlignment:q,fontSize:Y}=(0,s.Mf)(w||{},"mweb"),{color:Q,fontStyle:J,fontWeight:X,horizontalAlignment:ee,fontSize:et}=(0,s.Mf)(k||{},"mweb");return(0,c.jsx)(l.xu,{ref:D,marginBottom:2,padding:1,position:"relative",children:(0,c.jsxs)(l.xu,{color:e?"default":"education",dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)",backgroundColor:e?"#003441":"education"}},paddingX:2,paddingY:4,position:"relative",rounding:4,children:[e&&_&&N&&(0,c.jsx)(l.xu,{height:O,width:Z,children:(0,c.jsx)(l.Ee,{alt:g||x||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:O,naturalWidth:Z,src:_,children:(0,c.jsx)(l.xu,{paddingY:N?12:3,children:(0,c.jsxs)(l.kC,{alignItems:"center",direction:"column",flex:"grow",gap:2,justifyContent:"center",width:"100%",children:[K&&N&&(0,c.jsx)(l.xu,{height:U,width:U,children:(0,c.jsx)(d.qE,{name:K,size:"fit",src:N})}),(0,c.jsx)(l.xv,{align:q,color:b,italic:"italics"===W,weight:V,children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(P=G||b)&&void 0!==P?P:void 0,fontSize:z?s.SF:Y}},children:x})}),(0,c.jsx)(l.xv,{align:ee,italic:"italics"===J,weight:X,children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:null!=Q?Q:void 0,fontSize:z?s._e:et}},paddingX:12,children:S})})]})})})}),(!e||e&&B)&&(0,c.jsxs)(l.kC,{alignItems:"center",direction:"column",flex:"grow",gap:2,justifyContent:"center",children:[f&&B&&(0,c.jsx)(l.xu,{paddingY:4,children:(0,c.jsx)(l.zd,{height:$,rounding:4,width:H,children:(0,c.jsx)(l.Ee,{alt:"Your first saved Pin",fit:"cover",naturalHeight:$,naturalWidth:H,src:B})})}),(0,c.jsx)(l.xv,{align:q,color:b,italic:"italics"===W,weight:V,children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(j=G||b)&&void 0!==j?j:void 0,fontSize:z&&e?s._e:Y}},children:x})}),S&&k&&(0,c.jsx)(l.xu,{paddingX:e?2:0,paddingY:0,children:(0,c.jsx)(l.xv,{align:ee,italic:"italics"===J,weight:X,children:(0,c.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{color:null!=Q?Q:void 0,fontSize:z&&e?s._e:et}},children:S})})}),!h&&(0,c.jsx)(l.kC.Item,{alignSelf:"center",children:(0,c.jsx)(l.xu,{marginBottom:e?4:0,marginTop:2,children:(0,c.jsx)(l.ZP,{accessibilityLabel:p,color:"white",href:i,onClick:()=>{m&&(I({event_type:102,view_type:612,view_parameter:F}),A(T(R,E,!1,!0)))},size:"md",target:y?"blank":null,text:p})})})]})]})})}},988744:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var n=i(667294),l=i(883119),a=i(319915),r=i(499128),o=i(898781),s=i(947599),d=i(343341),u=i(785893);let c=(0,n.lazy)(()=>i.e(4603).then(i.t.bind(i,774855,23)));function p({linkURL:e,onDidFocus:t,onDidClickCopyButton:i,onCopyText:n,toastDuration:p,oneToast:m=!1,hideInput:h=!1,buttonSize:g="lg",asLink:_=!1}){let y=(0,o.ZP)(),{showToast:v,showOneToast:f}=(0,d.F9)(),x=y.bt("Copier le lien", "Copy link", "[button] copy a URL link shown, to paste in another place", undefined, true),b=(e,t)=>{t&&(m?f:v)(({hideToast:e})=>(0,u.jsx)(r.ZP,{duration:p,onHide:e,text:null!=n?n:y.bt("Lien copié dans le presse-papiers", "Link copied to clipboard!", "toast message to confirm if users copied the url successfully", undefined, true)})),i()};return _?(0,u.jsx)(a.Z,{name:"SafeSuspense_CopyableLink_CopyToClipboard",children:(0,u.jsx)(s.Z,{fallback:(0,u.jsx)(l.zx,{disabled:!0,text:x}),children:(0,u.jsx)(c,{onCopy:b,text:e,children:(0,u.jsx)(l.rU,{display:"inline",href:"",children:x})})})}):(0,u.jsxs)(l.xu,{alignItems:"center",display:"flex",paddingX:h?0:4,children:[!h&&(0,u.jsx)(l.xu,{flex:"grow",marginEnd:2,children:(0,u.jsx)(l.nv,{id:"copylinkurl",onChange:()=>{},onFocus:t,size:"lg",type:"url",value:e})}),(0,u.jsx)(a.Z,{name:"SafeSuspense_CopyableLink_CopyToClipboard",children:(0,u.jsx)(s.Z,{fallback:(0,u.jsx)(l.zx,{disabled:!0,text:x}),children:(0,u.jsx)(c,{onCopy:b,text:e,children:(0,u.jsx)(l.zx,{size:g,text:x})})})})]})}},8320:(e,t,i)=>{"use strict";i.d(t,{Z:()=>g});var n=i(667294),l=i(883119),a=i(63552),r=i(785893);let o=40,s=70,d={__style:{borderRadius:"4px",padding:"10px 14px"}},u={__style:{borderWidth:"1px",borderStyle:"solid",borderColor:"white"}},c={__style:{borderRadius:"4px",padding:"10px 14px 9px 8px",whiteSpace:"nowrap"}},p=e=>({__style:{borderRadius:"24px",paddingTop:"10px",paddingBottom:"10px",paddingLeft:"14px",paddingRight:"14px",...e}}),m=e=>"transparent"===e||"dark"===e?"inverse":"primary"===e?"light":"default",h=({color:e,icon:t})=>t?c:"transparent"===e?{__style:{...d.__style,...u.__style}}:d,g=({accessibilityLabel:e,color:t,customStyles:i,forwardedRef:d,icon:u,inline:c=!1,minHeight:g=o,minWidth:_=s,onTouch:y,pressState:v,shape:f,text:x})=>{let[b,w]=(0,n.useState)(!1),S=m(t),k=h({color:t,icon:u}),P=(0,r.jsx)(l.xu,{onMouseEnter:()=>w(!0),onMouseLeave:()=>w(!1),position:"relative",children:(0,r.jsx)(l.xu,{color:"primary"===t&&b?"errorBase":t,dangerouslySetInlineStyle:"pill"===f?p(i):k,display:c?"inlineBlock":"flex",justifyContent:"center",minHeight:g,minWidth:_,children:(0,r.jsxs)(l.kC,{alignItems:"center",justifyContent:"center",children:[u&&(0,r.jsx)(l.xu,{paddingX:"check"===u?2:0,children:(0,r.jsx)(l.JO,{accessibilityLabel:e,color:S,icon:u,inline:!0,size:"check"===u?16:20})}),(0,r.jsx)(l.xv,{color:S,inline:!0,lineClamp:1,size:"300",weight:"bold",children:x})]})})});return y?(0,r.jsx)(a.Z,{onTouch:y,pressState:v||"none",rounding:"pill"===f?"pill":2,children:(0,r.jsx)(l.xu,{ref:d,children:P})}):P}},167234:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var n=i(667294),l=i(883119),a=i(992813),r=i(697335),o=i(977558),s=i(49028),d=i(785893);function u({children:e,className:t,forwardRef:i,offset:u=0,position:c,shouldShowShadow:p=!1,style:m={},top:h}){let{setIsContentHeaderPresent:g}=(0,a.i)();(0,n.useEffect)(()=>(g(!0),function(){g(!1)}),[]);let{currentScrollPosition:_,isScrolled:y,setSubheaderShadow:v}=(0,s.WQ)();(0,n.useEffect)(()=>(p&&v("contentHeader"),()=>{p&&v(null)}),[p]);let f=!1;"pending"!==h&&(f=null!=h?_>=h:y);let x=(0,r.t)(),b=(0,d.jsx)("div",{ref:i,className:t,style:{...m,top:x+u,...f&&p?{...o.Rz,zIndex:499}:{},...c&&"sticky"!==c?{position:c}:{}},children:e});return"sticky"===c?(0,d.jsx)(l.Le,{top:x+u,children:b}):b}},992813:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s,i:()=>o});var n=i(667294),l=i(425288),a=i(785893);let{Provider:r,useHook:o}=(0,l.Z)("ContentHeader");function s({children:e}){let[t,i]=(0,n.useState)(!1),l=(0,n.useMemo)(()=>({isContentHeaderPresent:t,setIsContentHeaderPresent:i}),[t]);return(0,a.jsx)(r,{value:l,children:e})}},57791:(e,t,i)=>{"use strict";i.d(t,{MZ:()=>R,di:()=>L,Ai:()=>D});var n=i(667294),l=i(616550),a=i(883119),r=i(780678),o=i(112690),s=i(926275),d=i(53987),u=i(773285),c=i(383690),p=i(30287),m=i(780280),h=i(844974),g=i(339363),_=i(867820),y=i(19121),v=i(598615),f=i(296679),x=i(938917),b=i(8320),w=i(250059),S=i(48714),k=i(149230),P=i(43760);let j=({children:e,external:t,externalQueryParams:i,target:n,href:a,features:r})=>{let o=(0,l.k6)();if(!a)return null;let s=(0,w.Z)(a);return e({navigate:e=>{e.preventDefault(),(0,k.Z)({url:s})||t?"undefined"!=typeof window&&window.Windows?(0,P.Z)(s):(0,S.Gj)(s,{queryParams:i,features:r}):(0,S.G3)({event:e,href:a,history:o,target:"blank"===n?"blank":null})}})};var I=i(785893),T=i(329900),C=i(948376),F=i(698330);let A=e=>"string"==typeof e?e:`${e.pathname||""}${e.search?`?${e.search}`:""}`,E=(e,t=!1)=>function({isAppUpsellDisabled:i,...b}){let{children:w,clientTrackingParams:S,deeplinkUri:k,external:P,onTouch:j,refresh:E,to:R,viewParameter:D,viewType:L}=b,Z=(0,x.Z)(),[M,O]=(0,n.useState)(!1),[z,N]=(0,n.useState)(!1),[K,U]=(0,n.useState)(!1),{isAuth:B}=(0,y.Z)(),{userAgent:{platform:$,browserName:H},locale:G}=(0,m.B)(),W=(0,F.Tt)(),V=(0,o.Z)(),{checkExperiment:q}=(0,u.F)(),Y=(0,l.TH)(),Q=(0,c.Z)();(0,n.useEffect)(()=>{(async function(){if((0,r.v)()){U(!0);let e=await (0,r.Z)();e.length>0&&N(!0)}})()},[]),(0,n.useEffect)(()=>{B||(0,_.My)(`unauth.app_upsell.has_app.${z.toString()}`,{browser:H,platform:$})},[H,z,B,$]);let J=()=>{V({event_type:1701,view_type:L,view_parameter:D}),M&&O(!1)};return(0,I.jsxs)(a.xu,{"data-test-id":"deeplink-wrapper",children:[M&&(0,I.jsx)(f.Z,{app_upsell_type:"deep-link-app-upsell-modal",clientTrackingParams:S,deepLinkUri:k,isOpen:!0,onDismiss:()=>{V({component:14157,element:10308,event_type:10220,view_type:L||202,view_parameter:D,aux_data:{app_upsell_type:"deep-link-app-upsell-modal"}})},onOpenInApp:()=>{(0,h.Nh)("deeplinkBehavior","branchfallback"),J()},shouldTrackDismiss:!0,to:R,viewParameter:D,viewType:L}),(0,I.jsx)(T.Z,{children:n=>(0,I.jsx)(e,{...b,onTouch:e=>{let l=Z&&!i&&B&&!P&&!E&&!(0,p.FP)(window)&&!("ios"===$&&(G||"").startsWith("ar"))&&(0,C.kp)((0,s.Z)(null==W?void 0:W.created_at));if(l){let t=!0,i=!1,l="string"==typeof k&&(k||"").startsWith("/pin/")&&((0,d.uM)(Y)||(0,d.am)(Y)||(0,d.C$)(Y));l?K&&z&&k&&"android"===$&&q("mweb_auth_deep_link_app_installed_user").anyEnabled&&(Q(),t=!1):(t=!1,i=!0),t?(e.stopPropagation(),e.preventDefault(),O(!0)):i||(e.stopPropagation(),e.preventDefault(),V({component:14347,element:13582,event_type:3830,view_type:20,view_parameter:3844,aux_data:{upsell_reason:"deep-link-app-upsell-modal"}}),n(null!=k?k:(0,v.B)(Y,"android"===$),"deep-link-app-upsell-modal"))}else"branchfallback"!==(0,h.qn)("deeplinkBehavior")||(0,g.qn)("fallbackAttempt")||(e.stopPropagation(),e.preventDefault(),(0,g.Nh)("fallbackAttempt",1),n(k,"deep-link-app-upsell-modal",`${window.location.origin}${A(R)}`),J());!(t&&l)&&j&&j(e)},children:w})})]})},R=E(({accessibilityLabel:e,children:t,external:i,externalQueryParams:n,features:l,inline:r=!1,newTab:o,nofollow:s,onTouch:d,onBlur:u,onFocus:c,pressState:p,rounding:m,to:h})=>(0,I.jsx)(j,{external:i,externalQueryParams:n,features:l,href:h,target:o?"blank":null,children:({navigate:i})=>(0,I.jsx)(a.rU,{accessibilityLabel:e,display:r?"inlineBlock":"block",href:(0,w.Z)(h),onBlur:u?({event:e})=>u(e):void 0,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),null==d||d(e),e.defaultPrevented||i(e)},onFocus:c?({event:e})=>c(e):void 0,rel:s?"nofollow":"none",rounding:m,tapStyle:(Array.isArray(p)?p:[p]).includes("compress")?"compress":"none",underline:"none",children:t})})),D=E(({external:e,externalQueryParams:t,newTab:i,onTouch:n,to:l,...a})=>(0,I.jsx)(j,{external:e,externalQueryParams:t,href:l,target:i?"blank":null,children:({navigate:e})=>(0,I.jsx)(b.Z,{onTouch:t=>{null==n||n(t),t.defaultPrevented||e(t)},...a})})),L=E(b.Z,!0)},329900:(e,t,i)=>{"use strict";i.d(t,{Z:()=>w});var n=i(407043),l=i(773285),a=i(780280),r=i(619277),o=i(948376),s=i(780678),d=i(826067),u=i(67347);let c="http://play.google.com/store/apps/details?id=com.pinterest",p=["access_token","new_password","new_password_confirm","password","next"],m=(e,t)=>t?(0,d.ru)(e,{invite_code:t}):e,h=(e,t,i)=>{if("ios"===t&&"string"==typeof e&&e.startsWith("discover/article/")){let t=e.split("/")[2];e=`discover_article/${t}/?is_deeplink=1`}return("string"==typeof e&&"shopping/"===e&&(e="?is_deeplink=1"),"string"==typeof e)?m(e,i):"ios"===t||"ipad"===t?m(e.iOS,i):"android"===t?m(e.android,i):null},g=({deeplinkUri:e,invite_code:t,platform:i,fallbackUrl:n,unauthId:l,app_upsell_type:a})=>({deeplink_path:h(e,i,t),current_page_url:(0,d.Gw)("undefined"!=typeof window?window.location.href:"",p),install_id:l,utm_source:140,utm_medium:2152,app_upsell_type:a,...n?{af_r:n}:null}),_=({deeplinkUri:e,invite_code:t,platform:i,unauthId:n,app_upsell_type:l})=>{let a=JSON.stringify({deeplink_path:h(e,i,t),current_page_url:(0,d.Gw)("undefined"!=typeof window?window.location.href:"",p),install_id:n}),r=(0,d.XP)({utm_source:"mweb",utm_medium:"upsell",utm_content:a,app_upsell_type:l});return{referrer:r}},y=({unauthId:e,app_upsell_type:t})=>{let i=(0,d.XP)({utm_source:"mweb",utm_medium:"upsell",utm_campaign:"twa",utm_content:e,app_upsell_type:t});return{referrer:encodeURI(i)}},v=({isAuthenticated:e,deeplinkUri:t,fallbackUrl:i,invite_code:n,logContextEvent:l,platform:a,redirectToLite:r,unauthId:o,userAgent:p,app_upsell_type:m})=>{if(null==l||l({component:14347,element:13582,event_type:701,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),t){let h=g({isAuthenticated:e,deeplinkUri:t,fallbackUrl:i,invite_code:n,platform:a,unauthId:o,userAgent:p,app_upsell_type:m});if((0,u.nP)("mweb.deeplink",{sampleRate:1,tags:{platform:a}}),n&&(0,u.nP)("mweb.deeplink.invite_code",{sampleRate:1}),(0,u.nP)("mweb.deeplink.unauthId",{sampleRate:1,tags:{withUnauthId:!!o}}),r){(0,u.nP)("mweb.deeplink.lite_link",{sampleRate:1}),null==l||l({component:14347,element:13582,event_type:14540,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}});let e=y({unauthId:o,app_upsell_type:m});window.location.href=(0,d.ru)("http://play.google.com/store/apps/details?id=com.pinterest.twa",e)}else if("android"===a){let e=_({deeplinkUri:t,invite_code:n,platform:a,unauthId:o,app_upsell_type:m});(0,s.v)()?(0,s.Z)().then(t=>{if(t.length>0){let e=(0,d.ru)(window.location.href,h);null==l||l({component:14347,element:13582,event_type:703,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}});let t=window.open(e);t||null==l||l({component:14347,element:13582,event_type:702,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}})}else null==l||l({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),window.location.href=(0,d.ru)(c,e)}).catch(()=>{(0,u.nP)("mweb_android.deeplink.playStore.error",{sampleRate:1})}):(null==l||l({component:14347,element:13582,event_type:14538,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),window.location.href=(0,d.ru)(c,e))}else{if((0,u.nP)("mweb.deeplink.appsflyer_link",{sampleRate:1}),"ios"===a&&"undefined"!=typeof window&&window.location.href.includes("show_yip_modal")){window.location.href=(0,d.ru)("https://pinterest.com/pinterest-predicts",h);return}null==l||l({component:14347,element:13582,event_type:14539,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:m}}),window.location.href=(0,d.ru)("https://pinterest.onelink.me/TVSr/21e04bfd",h)}}};var f=i(785893);function x({children:e,invite_code:t}){let{isAuthenticated:i,isBot:r,unauthId:s,userAgent:{platform:d,raw:u}}=(0,a.B)(),{logContextEvent:c}=(0,n.v)(),{checkExperiment:p}=(0,l.F)(),m=async(e,n,l)=>{c({component:14347,element:13582,event_type:700,view_type:20,view_parameter:3844,aux_data:{app_upsell_type:n}}),v({isAuthenticated:i,checkExperiment:p,deeplinkUri:e,fallbackUrl:l,invite_code:t,logContextEvent:c,platform:d,redirectToLite:(0,o.Rp)({isBot:r,platform:d,userAgent:u}),unauthId:s,userAgent:u,app_upsell_type:n})};return e(m)}let b=e=>(0,f.jsx)(r.ty,{children:t=>(0,f.jsx)(x,{...e,invite_code:t})});b.displayName="DeepLinkNavigator";let w=b},920085:(e,t,i)=>{"use strict";i.d(t,{H:()=>o,Z:()=>r});var n=i(464232),l=i(957161),a=i(867820);async function r({filename:e,imgSrc:t,imageDownloadSuccessCallback:i,category:n,pinId:l,viewParameter:r,viewType:o,isUnauth:s=!1,platform:d="web",expName:u,expGroup:c},p){return"undefined"==typeof window?Promise.resolve():((0,a.My)("web.download.click",{category:n||"no_category",authType:s?"unauth":"auth",platform:d,viewType:o,expName:u,expGroup:c}),p({event_type:82,object_id_str:l,view_type:o||3,view_parameter:r||139}),t&&document)?fetch(t,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then(e=>e.blob()).then(t=>{var l,r;let p=document.createElement("a");p.href=window.URL.createObjectURL(t),p.setAttribute("download",e&&e.replace(".","_")),p.style.display="none",null===(l=document.body)||void 0===l||l.appendChild(p),p.click(),null===(r=document.body)||void 0===r||r.removeChild(p),(0,a.My)("web.download.success",{category:n||"no_category",authType:s?"unauth":"auth",platform:d,viewType:o,expName:u,expGroup:c}),null==i||i()}).catch(()=>{throw(0,a.My)("web.download.failure",{category:n||"no_category",authType:s?"unauth":"auth",platform:d,viewType:o,expName:u,expGroup:c}),Error("Download image error")}):Promise.resolve()}let o=(e,t)=>{let i=l.Z.getItem(n.rN)||0,{group:a}=e(t),r=!!a&&a.startsWith("enabled");if(!r)return{expName:t,expGroup:a,limitReached:!0,oldCount:i,newCount:i};let o=a.split("_").pop(),s=o?parseInt(o,10):0,d=i>=s,u=d?i:i+1;return i!==u&&l.Z.setItem(n.rN,u),{expName:t,expGroup:a,limitReached:d,oldCount:i,newCount:u}}},743203:(e,t,i)=>{"use strict";i.d(t,{Zt:()=>ew,iK:()=>eS,ZP:()=>ek,cV:()=>ey});var n=i(667294),l=i(702664),a=i(616550),r=i(883119),o=i(920231),s=i(444445),d=i(898781),u=i(773285),c=i(317254),p=i(780280),m=i(784590),h=i(740990),g=i(50286),_=i(223019),y=i(157796),v=i(283698),f=i(100183),x=i(81636),b=i(391254),w=i(313047),S=i(639952),k=i(785893);function P(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let j="BizNuxHomefeedLoader",I=[140,220,265],T=["#E2780D","#0074e8","#0FA573","#FAB904","#133A5E","#FF8A8A"],C=e=>{let t={WebkitAnimationDuration:".4s",WebkitAnimationDelay:"1.15s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${j}_FadeOut`,animationDuration:".5s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${j}_FadeOut`};return{position:"absolute",width:"100%",height:"100%",top:"0px",left:"0px",zIndex:"1",pointerEvents:"none",...e?t:{}}},F=()=>({WebkitAnimationDuration:".5s",WebkitAnimationDelay:"1.4s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${j}_FadeOut`,animationDuration:".5s",animationDelay:"1.25s",animationFillMode:"forwards",animationName:`${j}_FadeOut`}),A=()=>({position:"absolute",height:"100%",width:"100%",left:0,top:0,WebkitTransform:"translateY(100vh)",WebkitAnimationDuration:".8s",WebkitAnimationDelay:"1.2s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${j}_SlideUp`,transform:"translateY(100vh)",animationDuration:".8s",animationDelay:"1.2s",animationFillMode:"forwards",animationName:`${j}_SlideUp`}),E=({color:e,startAnimation:t,originDimension:i,destinationDimension:n})=>{let l=n&&n.height>0?{top:n.top,left:n.left,width:n.width,height:n.height}:{opacity:0};return{position:"absolute",WebkitTransitionDuration:".5s",WebkitTransitionDelay:".6s",WebkitTransitionProperty:"all",WebkitTransitionTimingFunction:"ease-in-out",transitionDuration:".5s",transitionDelay:".6s",transitionProperty:"all",transitionTimingFunction:"ease-in-out",height:i.height,width:i.width,left:i.left,top:i.top,backgroundColor:e,borderRadius:"8px",...t?l:{}}},R=e=>e?{WebkitAnimationDuration:".4s",WebkitAnimationDelay:".5s",WebkitAnimationFillMode:"forwards",WebkitAnimationName:`${j}_FadeOut`,animationDuration:".4s",animationDelay:".5s",animationFillMode:"forwards",animationName:`${j}_FadeOut`}:{},D=[`${j}_FadeOut {
    from { opacity: 1 }
    to { opacity: 0 }
  }`,`${j}_SlideUp {
    from {
      -webkit-transform: translateY(100vh);
      transform: translateY(100vh);
    }
    to {
      -webkit-transform: translateY(0);
      transform: translateY(0);
    }
  }`];class L extends n.PureComponent{constructor(...e){super(...e),P(this,"state",{enterAnimationFinished:!1,startExitAnimation:!1}),P(this,"enterAnimationDidFinished",()=>{this.setState({enterAnimationFinished:!0})}),P(this,"startExitAnimation",()=>{let{dismissLoader:e}=this.props;this.setState({startExitAnimation:!0},()=>{this.exitAnimationTimeout=setTimeout(()=>{e()},1700)})})}componentDidMount(){window.scrollTo(0,0),this.enterAnimationTimeout=setTimeout(()=>{this.enterAnimationDidFinished()},2e3)}componentDidUpdate(){let{homefeedLoading:e}=this.props,{enterAnimationFinished:t,startExitAnimation:i}=this.state;!t||e||i||(0,v.Z)(this.startExitAnimation)}componentWillUnmount(){clearTimeout(this.enterAnimationTimeout),clearTimeout(this.exitAnimationTimeout)}get gridCellDimensionsByColumn(){let{gridContainerRef:e}=this.props;if(!e.current)return null;let t=e.current.querySelectorAll(".PinCard__imageWrapper"),i=Array.from({length:this.numberOfColumns},()=>[]);for(let e=0;e<t.length;e+=1){let n=t[e],l=n.getBoundingClientRect(),a=Math.round(l.left/(window.innerWidth/this.numberOfColumns));i[a].push(l)}return i}get numberOfColumns(){return Math.max(Math.floor(window.innerWidth/200),2)}computeGridCellLayout(e,t,i){let n=this.numberOfColumns+1,l=(window&&window.innerWidth-16*n)/this.numberOfColumns,a=I[(e+t)%I.length];return{left:e*l+(e+1)*16,top:i,width:l,height:a}}renderGrid(){let{selectedTopics:e}=this.props,{startExitAnimation:t}=this.state,i=Array(this.numberOfColumns).fill(w.DEFAULT_HEIGHT),{gridCellDimensionsByColumn:n}=this,l=e.map((e,l)=>{let a=l%this.numberOfColumns,o=Math.floor(l/this.numberOfColumns),s=T[l%T.length],d=i[a],u=this.computeGridCellLayout(a,o,d),c=E({color:s,startAnimation:t,originDimension:u,destinationDimension:n&&n[a][o]});return i[a]+=16+u.height,(0,k.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:c},children:(0,k.jsx)(r.xu,{alignItems:"start",dangerouslySetInlineStyle:{__style:R(t)},display:"flex",justifyContent:"start",margin:5,children:(0,k.jsx)(r.X6,{color:"light",size:"500",children:e.name})})},l)});return(0,k.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:A()},children:l})}render(){let{startExitAnimation:e}=this.state;return(0,k.jsxs)(n.Fragment,{children:[(0,k.jsx)(b.Z,{unsafeCSS:(0,f.Ll)(D)}),(0,k.jsx)(r.xu,{color:"default",dangerouslySetInlineStyle:{__style:C(e)},children:(0,k.jsxs)(r.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,k.jsxs)(n.Fragment,{children:[(0,k.jsx)(y.Z,{duration:3700,finalProgress:100}),(0,k.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:F()},margin:10,children:(0,k.jsx)(r.X6,{children:this.props.i18n.bt("Personnalisation de votre page d’accueil avec...", "Personalizing your feed with...", "Loading homefeed details", undefined, true)})})]}),this.renderGrid()]})})]})}}function Z(e){let t=(0,d.ZP)(),i=(0,l.useSelector)(({topics:e})=>e),n=(0,l.useDispatch)();return(0,x.Q)({view_type:24,view_parameter:261}),(0,k.jsx)(L,{...e,dismissLoader:()=>n((0,S.MI)(!1)),i18n:t,selectedTopics:Object.keys(i).filter(e=>i[e].is_followed).map(e=>i[e])})}var M=i(90221),O=i(679031),z=i(22145),N=i(844887),K=i(698629),U=i(369083),B=i(934494),$=i(439506),H=i(368156),G=i(946036),W=i(163321),V=i(112690),q=i(19121),Y=i(861411),Q=i(350118);function J({pin:e,width:t,height:i,showDivider:n}){var l,a,o,s,d,u,c;let p=null===(l=e.images)||void 0===l?void 0:l["236x"];return(0,k.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:n?{borderRight:"2px solid #fff"}:{}},children:(0,k.jsx)(r.GH,{contentAspectRatio:(null!==(a=null==p?void 0:p.width)&&void 0!==a?a:1)/(null!==(o=null==p?void 0:p.height)&&void 0!==o?o:1),height:i,width:t,children:(0,k.jsx)(r.Ee,{alt:null!==(s=e.description)&&void 0!==s?s:"",naturalHeight:null!==(d=null==p?void 0:p.height)&&void 0!==d?d:1,naturalWidth:null!==(u=null==p?void 0:p.width)&&void 0!==u?u:1,src:null!==(c=null==p?void 0:p.url)&&void 0!==c?c:""})})})}function X({storyId:e,slotIndex:t}){let i=(0,a.k6)(),o=(0,a.TH)(),{isAuth:s}=(0,q.Z)(),{checkExperiment:d}=(0,u.F)(),[c,p]=(0,n.useState)(0),m=(0,n.useRef)(),h=(0,V.Z)(),g=(0,Q.S6)();(0,n.useLayoutEffect)(()=>{let e=m.current;e&&p(e.offsetWidth)},[]);let _=(0,l.useSelector)(({stories:t})=>t[e]),y=_.objects.map(e=>g(e.id)).filter(Boolean).slice(0,2),{story_type:v,action:f}=_,x=`${o.pathname}products/${o.search}`,b=()=>{h({component:200,event_type:102,view_parameter:3050,view_type:72}),i.push(x)};return d(s?"web_deprecated_impression_tracker_story_impression_auth":"web_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,k.jsx)(Y.qS,{auxData:{story_type:v,content_ids:y.map(e=>e.id),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:({impressionTrackerRef:e})=>c?(0,k.jsx)(r.xu,{ref:e,padding:2,children:(0,k.jsx)(r.zd,{rounding:2,children:(0,k.jsxs)(r.iP,{onTap:b,children:[(0,k.jsx)(r.xu,{alignItems:"center",color:"secondary",display:"flex",justifyContent:"center",children:y.map((e,t)=>(0,k.jsx)(J,{height:c-16,pin:e,showDivider:!t,width:(c-16)/2-1},e.id))}),(0,k.jsx)(r.xu,{height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:(0,k.jsx)(r.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,k.jsx)(r.xu,{alignItems:"center",color:"secondary",display:"flex",justifyContent:"center",paddingX:4,paddingY:2,rounding:"pill",children:(0,k.jsx)(r.xv,{weight:"bold",children:f.text})})})})]})})}):(0,k.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative"})}):(0,k.jsx)(Y.Hs,{auxData:{story_type:v,content_ids:y.map(e=>e.id),story_id:e},component:200,loggingId:e,objectIdStr:e,slotIndex:t,viewParameter:3050,viewType:72,children:c?(0,k.jsx)(r.xu,{padding:2,children:(0,k.jsx)(r.zd,{rounding:2,children:(0,k.jsxs)(r.iP,{onTap:b,children:[(0,k.jsx)(r.xu,{alignItems:"center",color:"secondary",display:"flex",justifyContent:"center",children:y.map((e,t)=>(0,k.jsx)(J,{height:c-16,pin:e,showDivider:!t,width:(c-16)/2-1},e.id))}),(0,k.jsx)(r.xu,{height:"100%",left:!0,position:"absolute",top:!0,width:"100%",children:(0,k.jsx)(r.kC,{alignItems:"center",height:"100%",justifyContent:"center",width:"100%",children:(0,k.jsx)(r.xu,{alignItems:"center",color:"secondary",display:"flex",justifyContent:"center",paddingX:4,paddingY:2,rounding:"pill",children:(0,k.jsx)(r.xv,{weight:"bold",children:f.text})})})})]})})}):(0,k.jsx)(r.xu,{ref:m,dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative"})})}var ee=i(706794),et=i(826067),ei=i(643010),en=i(595371);function el({guide:e,guidedQuery:t,isSlot0Style:i=!1}){let{dominant_color:n,display:l}=e,a=(0,k.jsx)(r.Tg,{href:`/search/pins/?rs=${en.i.VANILLA_GUIDE}&q=${encodeURIComponent(t)}`,rounding:"pill",tapStyle:"none",children:(0,k.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundSize:"cover",backgroundColor:n,whiteSpace:i?void 0:"nowrap"}},"data-test-id":"one-bar-module-3",minWidth:i?void 0:84,padding:4,rounding:"pill",children:(0,k.jsx)(r.xv,{align:i?"start":"center",color:i?(0,ei.Yc)()?"inverse":"default":"inverse",lineClamp:i?2:void 0,size:"200",weight:i?"normal":"bold",children:l})})});return i?a:(0,k.jsx)(r.xu,{flex:"none",marginStart:-7,paddingX:4,children:a})}function ea({guides:e,isSlot0Style:t=!1,query:i}){let n=({position:e,term:t})=>-1===e?t:0===e?`${t} ${i}`:`${i} ${t}`,l=()=>e.map(e=>(0,k.jsx)(el,{guide:e,guidedQuery:n(e),isSlot0Style:t},e.display));return t?(0,k.jsx)(r.xu,{padding:2,children:(0,k.jsx)(r.kC,{alignItems:"start",direction:"column",gap:{row:0,column:1},width:"100%",children:l()})}):(0,k.jsx)(r.xu,{overflow:"hidden",width:"calc(100vw - 16px)",children:(0,k.jsx)(r.xu,{display:"flex",marginBottom:-2,marginStart:-4,overflow:"auto",paddingX:7,paddingY:2,position:"relative",width:"100vw",children:l()})})}let er=e=>G.Nu[e.charCodeAt(0)%G.Nu.length];function eo({guides:e,storyId:t,slotIndex:i,titleFormat:l}){var o;let{isAuth:s}=(0,q.Z)(),{checkExperiment:d}=(0,u.F)(),c=null!==(o=(0,et.mB)((0,a.TH)().search).q)&&void 0!==o?o:"";return d(s?"web_deprecated_impression_tracker_story_impression_auth":"web_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,k.jsx)(Y.qS,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:i,viewParameter:43,viewType:2,children:({impressionTrackerRef:t})=>(0,k.jsxs)(r.xu,{ref:t,children:[l&&(0,k.jsx)(r.xu,{marginTop:2,paddingY:1,children:(0,k.jsx)(r.xv,{align:"center",children:l})}),(0,k.jsx)(ea,{guides:e.map(e=>({display:e.display,dominant_color:er(e.display),position:-1,term:e.term})),isSlot0Style:!0,query:c})]})}):(0,k.jsx)(Y.Hs,{auxData:{story_type:"search_guides"},component:200,loggingId:t,objectIdStr:t,slotIndex:i,viewParameter:43,viewType:2,children:(0,k.jsxs)(n.Fragment,{children:[l&&(0,k.jsx)(r.xu,{marginTop:2,paddingY:1,children:(0,k.jsx)(r.xv,{align:"center",children:l})}),(0,k.jsx)(ea,{guides:e.map(e=>({display:e.display,dominant_color:er(e.display),position:-1,term:e.term})),isSlot0Style:!0,query:c})]})})}var es=i(566102),ed=i(67347);function eu({slotIndex:e,storyId:t,viewParameter:i,viewType:l,storyData:a}){let{actionText:o,actionUrl:s,contextualSearchFromObjects:d,customProperties:u,descriptionFormat:c,displayOptions:p,experience:m,storyType:h,titleFormat:g}=a;switch((0,n.useEffect)(()=>{(0,ed.nP)("webapp.graphql.pinStory",{sampleRate:.1,tags:{viewType:l,storyType:h}})},[l,h]),h){case G.q:{var _,y,v;if(!u||!p)return null;let{numColumnsRequested:e,titleTextColor:t}=p;if(2===e)return null;return(0,k.jsx)($.Z,{actionType:u.actionType,avatarImageDetails:null!==(_=u.avatar_image_details)&&void 0!==_?_:{},buttonAction:null!=s?s:"",buttonText:null!=o?o:"",descriptionText:null!=c?c:"",descriptionTextCustomization:u.description_text_customization,examplePinImage:null!==(y=null===(v=u.example_pin_image_details)||void 0===v?void 0:v.originals)&&void 0!==y?y:{},experience:null!=m?m:void 0,hideCompleteButton:u.hide_complete_button,imageAlt:u.image_alt,imageUrl:u.image,isFullWidth:!1,openNewTab:u.open_new_tab,titleText:null!=g?g:"",titleTextColor:W.e[t],titleTextCustomization:u.title_text_customization})}case"feed_card_default":case"feed_card_video":return(0,k.jsx)(W.Z,{buttonAction:null!=s?s:"",buttonCustomization:u.button_customization,buttonText:null!=o?o:"",experience:null!=m?m:void 0,hideCompleteButton:u.hide_complete_button,imageAlt:u.image_alt,imageUrl:u.image,openNewTab:u.open_new_tab,storyType:h,titleText:null!=g?g:"",titleTextColor:W.e[p.titleTextColor],titleTextCustomization:u.title_text_customization,videoPin:u.video_pin,videoPlaceholderImage:u.video_placeholder_image});case"general_shopping_upsell":return(0,k.jsx)(W.Z,{buttonAction:null!=s?s:"",buttonText:null!=o?o:"",imageAlt:null==u?void 0:u.image_alt,imageUrl:null==u?void 0:u.image,storyType:h,titleText:null!=g?g:"",titleTextColor:W.e[(null==p?void 0:p.titleTextColor)||"black"]});case"BUBBLE_ONE_COL":return(0,k.jsx)(r.xu,{padding:2,children:(0,k.jsx)(H.Z,{slotIndex:e,storyId:t,storyKey:{type:"deprecated",data:t},viewParameter:i,viewType:l})});case"pinner_authority":case"pinner_authority_unified":return(0,k.jsx)(ee.Z,{slotIndex:e,storyId:t});case"stela_in_flashlight_onecol":return(0,k.jsx)(X,{slotIndex:e,storyId:t});case"search_guides":return(0,k.jsx)(eo,{guides:null!=d?d:[],slotIndex:e,storyId:t,titleFormat:null!=g?g:""});default:return null}}let ec=(0,B.Z)({useGraphQLAdapter:()=>null,useLegacyAdapter:e=>{let t=(0,l.useSelector)(({stories:t})=>t[e]);if(!t)return null;let{action:i,container_type:n,custom_properties:a,display_options:r,experience:o,story_type:s,title:d,description:u,objects:c}=t;if(!s)return null;let p=null==c?void 0:c.filter(e=>"contextual_search"===e.schema||"contextual_search"===e.type).map(e=>{var t,i;return{schema:"contextual_search",display:null!==(t=e.display)&&void 0!==t?t:"",term:null!==(i=e.term)&&void 0!==i?i:""}});return{actionText:null==i?void 0:i.text,actionUrl:null==i?void 0:i.url,customProperties:a,displayOptions:r?{numColumnsRequested:r.num_columns_requested||1,titleTextColor:r.title_text_color||""}:null,experience:o,storyType:(0,es.Z)({containerTypeIsItemGrid:56===n,storyType:s})?"BUBBLE_ONE_COL":s,titleFormat:d&&d.format,descriptionFormat:null==u?void 0:u.format,contextualSearchFromObjects:p}}}),ep=e=>(0,k.jsx)(ec,{input:{enabled:!1,data:e.storyId},children:({data:t})=>t&&(0,k.jsx)(eu,{...e,storyData:t})});var em=i(182476),eh=i(491563);function eg(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let e_={},ey=e=>{e_[e]&&e_[e].handlePullToRefresh()},ev=(e,t)=>{e_[e]=t},ef=e=>{delete e_[e]},ex=()=>{let{plpImageRenderData:e}=(0,N.HW)(),[t]=e;return t?t.pin_id:null};class eb extends n.PureComponent{constructor(...e){super(...e),eg(this,"state",{refreshing:!1,unauthLandingPinStateForAuthHomefeed:this.props.authHomefeedComponentDidUpdate?{pinId:ex(),feedItem:null}:null}),eg(this,"backOnlineAutoFetchResource",()=>{this.props.pagination.loadNext()}),eg(this,"handlePullToRefresh",()=>{this.props.pagination.refetch(),this.setState({refreshing:!0})}),eg(this,"gridContainerRef",(0,n.createRef)()),eg(this,"renderFeedPin",(e,t)=>{let{feedItemProps:i,location:n,performanceOptimization:l,renderSquarePins:a,showSeoMetadata:r,squarePins:o,trafficSource:s}=this.props,{auxData:d,componentType:u,feedback:c,imageOnly:p,impressionData:m,objectIdStr:h,oneTapSave:g,onFeedItemClick:_,onPinLinkClick:y,shouldAllowProductPriceIndicator:v,showSeoMetadata:f,viewData:x,viewParameter:b,viewType:w}=i||{},S=(n.search||"").includes("force_seo"),P=!!(null!=l&&l.lazyLoadBelowFoldIndex)&&t>l.lazyLoadBelowFoldIndex,j=!!(null!=l&&l.priorityFetchAboveFoldIndex)&&t<=l.priorityFetchAboveFoldIndex;return(0,k.jsx)(U.default,{auxData:d,componentType:u||0,duploFeedItemProps:{onPinClick:_,onPinLinkClick:y,showSeoMetadata:r||S||f},duploIsSquarePin:a||o,duploLazyLoadImage:P,duploOneTapSave:g,duploPriorityFetchImage:j,duploQueryRef:null,duploShouldAllowProductPriceIndicator:v,feedback:c,imageOnlyOption:p?"image-only":"default",impressionData:m,objectIdStr:h,pinId:e.id,slotIndex:t,trackingParams:e.trackingParams,trafficSource:s,viewData:x,viewParameter:b,viewType:w||1})})}componentDidMount(){window.addEventListener("online",this.backOnlineAutoFetchResource),ev(this.props.feedKey,this)}componentWillUnmount(){window.removeEventListener("online",this.backOnlineAutoFetchResource),ef(this.props.feedKey)}componentDidUpdate(e){let{refreshing:t,unauthLandingPinStateForAuthHomefeed:i}=this.state,{feedItems:n,authHomefeedComponentDidUpdate:l}=this.props,a=t&&e.pagination.isLoadingNext&&!this.props.pagination.isLoadingNext;if(a&&this.setState({refreshing:!1}),l&&i){let t=l({feedItems:n,prevFeedItems:e.feedItems,finishedRefresh:a,unauthLandingPinStateForAuthHomefeed:i});t&&this.setState({unauthLandingPinStateForAuthHomefeed:t})}}render(){let{deviceType:e,emptyState:t,experimentsProperties:i,feedItemProps:l,feedItems:a,feedItemsAdjustment:d,feedKey:u,gridConfig:p,i18n:m,isBoardRedesign:g,pageSize:y,pagination:v,pullToRefresh:f,renderFeedItem:x,serverRender:b,showBizNuxHomefeedLoader:w,trafficSource:S,visuallyCompleteProfilerOptions:P}=this.props,{unauthLandingPinStateForAuthHomefeed:j}=this.state,I=null!=j&&j.feedItem&&a.length?[j.feedItem,...a]:a,{viewParameter:T,viewType:C}=l||{},{key:F}=p||{},A=u+(F?`|${F}`:""),E="user_search"===S,R=E?window.innerWidth-16:200,D={columnWidth:"desktop"===e?s.yF:R,renderItem:({data:e,itemIdx:t})=>{if(x){let i=x(e,t);if("FALLBACK_TO_DEFAULT"!==i)return i}switch(e.type){case"pin":return(0,k.jsx)(O.cn,{children:this.renderFeedPin(e,t)});case"user":return(0,k.jsx)(eh.Z,{truncateName:!0,userId:e.id,userSearchRepStyle:E,viewParameter:T,viewType:C});case"board":return(0,k.jsx)(_.Z,{boardId:e.id,isOneLineMetadataExp:null==i?void 0:i.has("isBoardOneLineMetadataExp"),isSectionCountVisibleExp:null==i?void 0:i.has("isBoardSectionCountVisibleExp"),type:"grid",viewParameter:T,viewType:C});case"topic":return(0,k.jsx)(em.Z,{id:e.id,shouldClickthrough:!0,showFollowButton:!0,showFollowerCount:!0,viewParameter:T,viewType:C});case"story":return"number"==typeof T?(0,k.jsx)(ep,{slotIndex:t,storyId:e.id,viewParameter:T,viewType:C||1}):null;case"FEED_BREAK_IN":return d&&"breakIn"===d.type&&d.value.content;default:return null}},gutterWidth:"desktop"===e?4*s.jC:"board"===S?4:void 0,loadItems:v.loadNext,minCols:E?1:2,...p},L=!w&&v.isLoadingNext&&0===I.length&&!this.state.refreshing,M=!g&&y&&25>parseInt(y,10),[N,U,B]=(null==d?void 0:d.type)==="fullWidthBreakIn"?[I.slice(0,d.value.index),d.value.content,I.slice(d.value.index)]:[I,null,[]],$="desktop"===e&&"flashlight"===S,H=$?0:s.qG;return(0,k.jsxs)(r.xu,{"data-test-id":"MobileFeed",children:[(0,k.jsx)(z.Z,{enabled:!!f,onPull:this.handlePullToRefresh,refreshing:this.state.refreshing}),(0,k.jsxs)(r.xu,{ref:this.gridContainerRef,"data-test-id":"grid",marginEnd:H,marginStart:H,opacity:this.state.refreshing?.5:1,children:[(0,k.jsxs)(c.Z,{includeBackgroundImages:null==P?void 0:P.includeBackgroundImages,includeVideos:null==P?void 0:P.includeVideos,isAtEndOfFeed:!v.hasNext,itemCount:I.length,pinData:null==P?void 0:P.pins,children:[I.length?(0,k.jsx)(r.xu,{"data-test-id":"feed",marginTop:(0,O.kk)({isDesktop:"desktop"===e}),children:(0,k.jsx)(h.Z.Consumer,{children:e=>(0,k.jsx)(n.Fragment,{children:(0,k.jsxs)(O.c$,{children:[(0,k.jsx)(o.Z,{cacheKey:A,id:b?u:void 0,items:N,scrollContainerRef:e,serverRender:b,...D}),U,B.length>0&&(0,k.jsx)(o.Z,{cacheKey:`${A}_afterBreak`,items:B,scrollContainerRef:e,...D})]})})})}):v.isLoadingNext?(0,k.jsx)(O.gG,{}):null!=t?t:null,v.isLoadingNext&&"board"===S&&M&&(0,k.jsx)(r.$j,{accessibilityLabel:m.bt("Chargement", "Loading", "Label for loading spinner", undefined, true),show:!0})]}),L&&(0,k.jsx)(r.xu,{column:12,paddingY:2,children:(0,k.jsx)(K.Z,{partialViewportWidth:$})}),w&&(0,k.jsx)(Z,{gridContainerRef:this.gridContainerRef,homefeedLoading:v.isLoadingNext})]})]})}}function ew({feedItems:e,pagination:t,...i}){let{feedItemsAdjustment:n}=i,r=(0,a.TH)(),o=(0,g.ZP)(),s=(0,d.ZP)(),{isAuthenticated:u,isBot:c}=(0,p.B)(),{isBizNuxHomefeedLoadShown:m}=(0,l.useSelector)(({session:e})=>e),h=e;return(null==n?void 0:n.type)==="breakIn"?h=(0,M.N)({items:e,breakIn:n.value}):(null==n?void 0:n.type)==="offset"&&(h=e.slice(n.value)),(0,k.jsx)(eb,{...i,deviceType:o,feedItems:h,i18n:s,isAuthenticated:u,location:r,pagination:t,showBizNuxHomefeedLoader:!!m,showSeoMetadata:c||!u})}function eS({resource:{isAtEnd:e,isFetching:t,fetchMore:i,refresh:n},...a}){let r=(0,l.useSelector)(({feeds:e})=>{var t;return null!==(t=e[a.feedKey])&&void 0!==t?t:[]});return(0,k.jsx)(ew,{...a,feedItems:r,pagination:{hasNext:!e,isLoadingNext:t,loadNext:()=>i(),refetch:()=>n()}})}function ek({resourceConfig:e,...t}){let i=(0,m.Z)(e),{checkExperiment:n}=(0,u.F)(),{name:l}=e;if(t.experimentsProperties=new Set,"BaseSearchResource"===l){var a,r;let{anyEnabled:e,group:i}=n("mobile_web_boards_metadata_search");e&&(null===(a=t.experimentsProperties)||void 0===a||a.add("isBoardOneLineMetadataExp")),"enabled_sections_time"===i&&(null===(r=t.experimentsProperties)||void 0===r||r.add("isBoardSectionCountVisibleExp"))}return(0,k.jsx)(eS,{...t,resource:i})}},833991:(e,t,i)=>{"use strict";i.d(t,{HW:()=>r,YW:()=>c,i3:()=>p,o2:()=>u});var n=i(667294),l=i(425288),a=i(785893);let r=660,o={educationId:null,paddingRight:0,zIndex:r};function s(e,t){switch(t.type){case"FOOTER_SET_EDUCATION_ID":let{educationId:i}=t.payload;return{...e,educationId:i};case"FOOTER_SET_PADDING_RIGHT":let{paddingRight:n}=t.payload;return{...e,paddingRight:n};case"FOOTER_SET_Z_INDEX":let{zIndex:l}=t.payload;return{...e,zIndex:l};default:return e}}let{Provider:d,Consumer:u,useHook:c}=(0,l.Z)("footerContext");function p({children:e}){let[t,i]=(0,n.useReducer)(s,o),l=(0,n.useCallback)(e=>i({type:"FOOTER_SET_PADDING_RIGHT",payload:{paddingRight:e}}),[]),r=(0,n.useCallback)(e=>i({type:"FOOTER_SET_EDUCATION_ID",payload:{educationId:e}}),[]),u=(0,n.useCallback)(e=>i({type:"FOOTER_SET_Z_INDEX",payload:{zIndex:e}}),[]),c=(0,n.useMemo)(()=>({...t,setEducationId:r,setPaddingRight:l,setZIndex:u}),[t,r,l,u]);return(0,a.jsx)(d,{value:c,children:e})}},427806:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(883119),l=i(785893);function a({text:e}){return(0,l.jsx)(n.xu,{display:"visuallyHidden",children:(0,l.jsx)(n.X6,{accessibilityLevel:1,children:e})})}},697335:(e,t,i)=>{"use strict";i.d(t,{c:()=>l,t:()=>a});var n=i(883521);function l({children:e}){let{height:t}=(0,n.J)();return e(t)}function a(){let{height:e}=(0,n.J)();return e}},883521:(e,t,i)=>{"use strict";i.d(t,{J:()=>d,Z:()=>m});var n=i(667294),l=i(425288),a=i(522679),r=i(977558),o=i(785893);let{Provider:s,useHook:d}=(0,l.Z)("Header"),u={childList:!0,attributes:!0,subtree:!0},c={height:r.cI,isInBiznuxFullscreen:!1,repinPinId:null,repinStartAnimation:!1,showAccountMenuFlyout:!1};function p(e,t){switch(t.type){case"showAccountMenuFlyout":return{...e,showAccountMenuFlyout:!0};case"hideAccountMenuFlyout":return{...e,showAccountMenuFlyout:!1};case"showRepinAnimation":return{...e,repinStartAnimation:!0,repinPinId:t.payload};case"hideRepinAnimation":return{...e,repinStartAnimation:!1,repinPinId:null};case"updateHeight":return{...e,height:t.payload};case"updateIsInBiznuxFullscreen":return{...e,isInBiznuxFullscreen:t.payload};default:throw Error("action type not supported")}}function m({children:e}){let t=(0,n.useRef)(null),[{height:i,isInBiznuxFullscreen:l,repinPinId:d,repinStartAnimation:m,showAccountMenuFlyout:h},g]=(0,n.useReducer)(p,c);(0,n.useEffect)(()=>{let e=document.getElementById(r.WZ);return e&&"undefined"!=typeof MutationObserver&&(t.current=new MutationObserver(()=>{e&&g({type:"updateHeight",payload:e.clientHeight})}),t.current.observe(e,u)),()=>{var e;null===(e=t.current)||void 0===e||e.disconnect()}});let _=(0,n.useMemo)(()=>({height:i,isInBiznuxFullscreen:l,repinPinId:d,repinStartAnimation:m,showAccountMenuFlyout:h,updateHeaderState:g}),[g,i,l,d,m,h]);return(0,o.jsx)(s,{value:_,children:(0,o.jsx)(a.t,{children:e})})}},977558:(e,t,i)=>{"use strict";i.d(t,{L1:()=>a,Rz:()=>s,WZ:()=>r,cI:()=>l,fe:()=>o,hu:()=>n});let n=64,l=80,a=22,r="HeaderContent",o=671,s={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},49028:(e,t,i)=>{"use strict";i.d(t,{Hv:()=>d,WQ:()=>s});var n=i(667294),l=i(425288),a=i(766935),r=i(785893);let{Provider:o,useHook:s}=(0,l.Z)("HeaderShadow");function d({children:e}){let[t,i]=(0,n.useState)(!1),[l,s]=(0,n.useState)(0),[d,u]=(0,n.useState)(null);return(0,n.useEffect)(()=>{let e=(0,a.Z)(()=>{i(window.scrollY>0),s(window.scrollY)},50);return window.addEventListener("scroll",e),()=>{window.removeEventListener("scroll",e)}},[]),(0,r.jsx)(o,{value:{currentScrollPosition:l,isScrolled:t,setSubheaderShadow:u,subheaderShadow:d},children:e})}},22145:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var n=i(667294),l=i(773285),a=i(616550),r=i(883119),o=i(407043),s=i(898781),d=i(785893);function u({text:e,isSelected:t,icon:i,animationType:n,position:l,hasStartPulling:a,isExecuted:o}){return(0,d.jsxs)(r.xu,{alignItems:"center",direction:"column",display:"flex",marginBottom:6,children:[(0,d.jsx)(r.xu,{color:t?"dark":"secondary",dangerouslySetInlineStyle:t&&o?{__style:{transform:"rotate(360deg)",transition:"all .9s ease-out"}}:{__style:{transition:"all .3s ease-out",marginTop:t&&"move"===n?40:0}},"data-test-id":"action-animated-icon",padding:a?4:0,rounding:"circle",children:(0,d.jsx)(r.JO,{accessibilityLabel:e,color:t?"light":"dark",icon:i,size:100*l<24?100*l:24})}),(0,d.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{opacity:t?1:0,transition:"all .3s ease-out"}},"data-test-id":"action-animated-text",padding:1,children:(0,d.jsx)(r.xv,{align:"center",size:"100",children:e})})]})}var c=i(452430);function p({enabled:e,onPull:t,refreshing:i}){let n=(0,s.ZP)(),l=(0,a.k6)(),{logContextEvent:p}=(0,o.v)(),m=e=>e>=.6,h=e=>e>.4&&e<.6,g=()=>{p({view_type:1,event_type:158,view_parameter:92}),t()},_=()=>{p({view_type:1,event_type:10144,view_parameter:92}),l.push("edit/")},{position:y,hasStartPulling:v,PULL_MENU_DISTANCE:f,isExecuted:x}=(0,c.Z)({enabled:e,onSelect:e=>{let{position:t,resetState:i}=e;h(t)?setTimeout(()=>{g(),i()},500):m(t)?setTimeout(()=>{_(),i()},500):i()},refreshing:i}),b=n.bt("Actualiser", "Refresh", "pullMenu.refresh", undefined, true),w=n.bt("Modifier la page d’accueil", "Edit Feed", "pullMenu.goTuner", undefined, true);return(0,d.jsx)(r.xu,{children:e&&(0,d.jsxs)(r.xu,{alignItems:"center",direction:"column",display:"flex",height:y*f,justifyContent:"center",marginBottom:v?4:0,children:[(0,d.jsx)(u,{animationType:"move",hasStartPulling:v,icon:"edit",isExecuted:x,isSelected:m(y),position:y,text:w}),(0,d.jsx)(u,{hasStartPulling:v,icon:"refresh",isExecuted:x,isSelected:h(y),position:y,text:b})]})})}var m=i(395368);function h({enabled:e,onPull:t,refreshing:i}){let{checkExperiment:a}=(0,l.F)(),{anyEnabled:r}=a("hfp_drive_traffic_to_homefeed_tuner_mweb");return(0,d.jsx)(n.Fragment,{children:r?(0,d.jsx)(p,{enabled:e,onPull:t,refreshing:i}):(0,d.jsx)(m.Z,{enabled:e,onPull:t,refreshing:i})})}},395368:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(883119),l=i(407043),a=i(898781),r=i(452430),o=i(785893);function s({enabled:e,onPull:t,refreshing:i}){let s=(0,a.ZP)(),{logContextEvent:d}=(0,l.v)(),{position:u,startYRefCurrent:c,pullDistance:p}=(0,r.Z)({enabled:e,onSelect:e=>{let{pullDistance:i,resetState:n}=e;i>=120&&(d({view_type:1,event_type:158,view_parameter:92}),t()),n()},refreshing:i}),m=s.bt("Faites défiler pour rafraichir", "Pull to refresh", "Pull down on grid to refresh items", undefined, true);return(0,o.jsx)(n.xu,{children:e&&(0,o.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{opacity:Math.min(u,1),transition:null===c?"all .3s ease-out":void 0}},display:"flex",height:120*u,justifyContent:"center",children:(0,o.jsx)(n.JO,{accessibilityLabel:m,icon:c&&p<120?"arrow-circle-down":"arrow-circle-up",size:40})})})}},452430:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(667294);function l({enabled:e,onSelect:t,refreshing:i}){let l=(0,n.useRef)(null),[a,r]=(0,n.useState)(0),[o,s]=(0,n.useState)(!1),d=i?0:a/250,u=d>0,c=()=>{s(!1),r(0)};(0,n.useEffect)(()=>{if(e){let e=e=>{window.scrollY<=0&&!i&&(l.current=e.touches[0].clientY)},n=e=>{if(l.current){let t=e.touches[0].clientY,i=(t-l.current)*.5;i>0&&(r(i),e.preventDefault())}},o=()=>{l.current&&(s(!0),t({pullDistance:a,position:d,resetState:c}),l.current=null)};return window.addEventListener("touchstart",e),window.addEventListener("touchmove",n,{passive:!1}),window.addEventListener("touchend",o),()=>{window.removeEventListener("touchstart",e),window.removeEventListener("touchmove",n,{passive:!1}),window.removeEventListener("touchend",o)}}},[e,t,a,i,d]);let p=l.current;return{pullDistance:a,hasStartPulling:u,position:d,startYRefCurrent:p,PULL_MENU_DISTANCE:250,isExecuted:o}}},872482:(e,t,i)=>{"use strict";i.d(t,{D:()=>l,a:()=>a});var n=i(425288);let{Provider:l,useMaybeHook:a}=(0,n.Z)("unauthPageWrapperContext")},904779:(e,t,i)=>{"use strict";i.d(t,{K:()=>r,T:()=>o});var n=i(667294),l=i(785893);let a=(0,n.createContext)({getPinFeedbackStatus:()=>void 0,setPinFeedbackStatus:()=>{}}),r=()=>(0,n.useContext)(a);function o({children:e}){let[t,i]=(0,n.useState)(Object.freeze({})),r=(0,n.useMemo)(()=>({getPinFeedbackStatus:({pinId:e})=>t[e],setPinFeedbackStatus:({pinId:e,pinFeedbackStatus:n})=>i({...t,[e]:n})}),[t]);return(0,l.jsx)(a.Provider,{value:r,children:e})}},369083:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>tU});var n,l,a,r,o,s,d,u=i(667294),c=i(702664),p=i(167912),m=i(616550),h=i(883119),g=i(337815),_=i(112690),y=i(81226),v=i(780679),f=i(319915),x=i(378518),b=i(681669),w=i(898781),S=i(349700),k=i(926275),P=i(680046),j=i(248975),I=i(958007),T=i(992750),C=i(773285),F=i(813401),A=i(923297),E=i(780280),R=i(947599),D=i(350576),L=i(867820),Z=i(52022),M=i(477802),O=i(50286),z=i(829407),N=i(807609),K=i(763839),U=i(350948),B=i(57791),$=i(861411),H=i(886076),G=i(830157),W=i(62409),V=i(772486),q=i(59729),Y=i(885149),Q=i(987765),J=i(356997),X=i(53987),ee=i(63552),et=i(130460),ei=i(459151),en=i(807592),el=i(785893);let ea=({data:{pinProduct:{maxPrice:e,minPrice:t,standardPrice:i,price:n},domain:l}})=>(0,el.jsxs)(u.Fragment,{children:[l&&(0,el.jsx)(h.xv,{color:"default",size:"100",children:l}),(0,el.jsx)(h.xu,{alignItems:"center","data-test-id":"priceLego_price",display:"flex",children:(0,el.jsx)(ei.Z,{currentPrice:(0,en.Z)({maxPrice:e,minPrice:t,price:n}),originalPrice:i,textSize:"100"})})]}),er=void 0!==n?n:n=i(809571);function eo({pinKey:e}){var t,i,n;let{data:l}=(0,b.sr)(er,e,{type:"pin",useLegacyAdapter:e=>({linkDomain:e.link_domain&&{__typename:"Domain"},richMetadata:e.rich_metadata&&{recipe:e.rich_metadata.recipe&&{fromAggregatedData:e.rich_metadata.recipe.from_aggregated_data},products:e.rich_metadata.products&&e.rich_metadata.products.map(e=>({name:e.name,offerSummary:e.offer_summary&&{maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}}))},richSummary:e.rich_summary&&{siteName:e.rich_summary.site_name,products:e.rich_summary.products&&e.rich_summary.products.map(e=>({name:e.name,offerSummary:e.offer_summary&&{maxPrice:e.offer_summary.max_price,minPrice:e.offer_summary.min_price,price:e.offer_summary.price,standardPrice:e.offer_summary.standard_price}}))}})});if(!l)return null;let a=(0,W.kb)({hasLinkDomain:!!l.linkDomain,richMetadata:l.richMetadata&&{recipe:l.richMetadata.recipe&&{fromAggregatedData:l.richMetadata.recipe.fromAggregatedData},products:(null!==(t=l.richMetadata.products)&&void 0!==t?t:[]).map(e=>({name:e.name,offerSummary:e.offerSummary}))},richSummary:l.richSummary&&{products:(null!==(i=l.richSummary.products)&&void 0!==i?i:[]).map(e=>({name:e.name,offerSummary:e.offerSummary}))}});return a&&a.price?(0,el.jsx)(ea,{data:{pinProduct:a,domain:null===(n=l.richSummary)||void 0===n?void 0:n.siteName}}):null}var es=i(914142),ed=i(865673);let eu=void 0!==l?l:l=i(937101),ec=(0,u.lazy)(()=>i.e(94950).then(i.bind(i,494950))),ep=({title:e})=>{let t=(0,O.HG)(),i=(0,Z.Z)();return(0,el.jsx)(h.xu,{"data-test-id":"related-pins-title",children:(0,el.jsx)(h.iP,{onTap:()=>{i({action:"click",item:"related-pins-title"})},children:(0,el.jsx)(Q.Z,{lineClamp:2,size:t?"200":"100",weight:"bold",children:e})})})},em=({credits:e,data:t,hasAffiliatedProducts:i,hidePinMetadata:n,isPromotedPin:l,isSponsoredPin:a,logCreditsClick:r,marginTop:o,pinDescription:s,pinGraphqlRef:d,pinId:c,pinnedToBoardId:p,pinReactionCounts:g,recipeReview:_,shouldShowReactions:y,showPriceIndicatorInPinCardDetails:v,title:x,type:b})=>{var S,k,P,j,I,T,C,F,A;let D=(0,w.ZP)(),M=(0,m.TH)(),z=(0,Z.Z)(),{isAuthenticated:N}=(0,E.B)(),K=(0,O.HG)(),U=(0,m.k6)(),B=x||s||"oneTap"===b,{pinner:$}=t,H=(0,et.gC)()(p||String(null===(S=t.board)||void 0===S?void 0:S.entityId)),G=l&&(null===(k=t.promoter)||void 0===k?void 0:k.entityId)===(null===(P=t.nativeCreator)||void 0===P?void 0:P.entityId),W=X.Q0?2:o||(B&&!n?1:0);return(0,el.jsxs)(h.xu,{flex:"grow",children:[(0,el.jsx)(h.xu,{display:"flex",marginTop:n?0:null!=o?o:1,children:(0,el.jsxs)(h.xu,{flex:"grow",children:[(a||i)&&!G&&(0,el.jsx)(h.xu,{marginBottom:1,children:(0,el.jsx)(h.xu,{flex:"grow",overflow:"hidden",children:(0,el.jsx)(es.Z,{hasAffiliatedProducts:i,isPromoted:l,sponsorName:t.sponsorship?(0,el.jsx)(h.xv,{inline:!0,size:"100",weight:"bold",children:null==e?void 0:e.subtitle}):void 0,sponsorshipStatus:null===(j=t.sponsorship)||void 0===j?void 0:j.status})})}),x&&(0,el.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},marginTop:1,overflow:"hidden",children:!n&&(0,el.jsx)(ep,{title:x})}),K&&!N&&s&&!(0,X.$Y)(M)&&!(0,X.E0)(M)&&(0,el.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},"data-test-id":"desc",marginTop:1,overflow:"hidden",children:(0,el.jsx)(h.iP,{onTap:()=>{z({action:"click",item:"related-pins-description"})},children:(0,el.jsx)(h.xv,{inline:!0,size:K?"200":"100",children:s})})}),v&&(0,el.jsx)(eo,{pinKey:d?{type:"graphqlRef",data:d}:{type:"deprecated",data:c}}),_]})}),y&&g&&Object.keys(g).length>0&&(0,el.jsx)(h.xu,{display:void 0,height:18,justifyContent:"center",children:(0,el.jsx)(f.Z,{name:"SafeSuspense_PinCardDetails_GridAggregation",children:(0,el.jsx)(R.Z,{children:(0,el.jsx)(ec,{pinReactionCounts:g})})})}),!v&&e?(0,el.jsx)(ee.Z,{onTouch:t=>{t.stopPropagation(),t.preventDefault(),e.link&&U.push(e.link),r()},pressState:"none",children:(0,el.jsx)(h.xu,{children:(!n||a||G)&&(0,el.jsxs)(h.xu,{direction:"row",display:"flex",marginBottom:n?2:0,marginTop:W,position:"relative",children:[(0,el.jsx)(h.xu,{"data-test-id":"related-pins-avatar-image",display:void 0,flex:"none",justifyContent:"center",children:(0,el.jsx)(h.iP,{onTap:()=>{z({action:"click",item:"related-pins-avatar-image"})},children:(0,el.jsx)(J.qE,{accessibilityLabel:e.title||e.subtitle||D.bt("Avatar du créateur", "Creator's avatar", "pinCardDetails.tapArea.avatar", undefined, true),name:e.title||"",outline:!1,size:"sm",src:e.avatar||void 0})})}),(0,el.jsx)(h.xu,{"data-test-id":"related-pins-name",direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,children:(0,el.jsx)(h.iP,{onTap:()=>{z({action:"click",item:"related-pins-name"})},children:(0,el.jsxs)(u.Fragment,{children:[e.title&&(0,el.jsx)(h.xv,{lineClamp:1,size:"100",weight:a&&!G||i?"normal":"bold",children:e.title===(null==$?void 0:$.fullName)&&(null!=$&&$.isVerifiedMerchant||null!=$&&null!==(I=$.verifiedIdentity)&&void 0!==I&&I.verified)?(0,el.jsx)(ed.Z,{badgeSize:"sm",badgeSpacing:2,fullName:e.title,verifiedType:$.isVerifiedMerchant?"verifiedMerchant":"verifiedIdentity"}):e.title}),e.subtitle?(!a&&!n||G)&&(0,el.jsx)(h.xv,{lineClamp:a||i?void 0:1,size:K?"200":"100",weight:K?"bold":"normal",children:e.subtitle}):!N&&H&&"protected"!==H.privacy?(0,el.jsx)(h.xu,{"data-test-id":"related-pin-text-below-name",children:(0,el.jsx)(h.rU,{href:null!==(T=H.url)&&void 0!==T?T:"",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,L.NC)("click_board_pin_attribution_profile"),z({action:"click",item:"related-pin-text-below-name"})},underline:"hover",children:(0,el.jsx)(h.xv,{size:"200",children:H.name})})}):null]})})})]})})}):K&&!!$&&((0,X.L6)(M)||(0,X.cD)(M)||(0,X.$Y)(M))&&(0,el.jsxs)(h.xu,{display:"flex",marginTop:B?2:0,children:[(0,el.jsx)(h.xu,{"data-test-id":"related-pins-avatar-image",flex:"none",children:(0,el.jsx)(h.iP,{onTap:()=>{z({action:"click",item:"related-pins-avatar-image"})},children:(0,el.jsx)(J.qE,{name:$.username||"",size:"sm",src:null!==(C=$.imageSmallUrl)&&void 0!==C?C:void 0})})}),(0,el.jsxs)(h.xu,{"data-test-id":"related-pins-name",direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,children:[(0,el.jsx)(h.rU,{href:`/${$.username||""}/`,onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,L.NC)("click_board_pin_attribution_board"),z({action:"click",item:"related-pins-name"})},underline:"hover",children:(0,el.jsx)(h.xv,{size:N?"200":"100",weight:"bold",children:$.fullName||$.username})}),H&&"protected"!==H.privacy?(0,el.jsx)(h.xu,{"data-test-id":"related-pin-text-below-name",children:(0,el.jsx)(h.rU,{href:null!==(F=H.url)&&void 0!==F?F:"",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),e.stopPropagation(),(0,L.NC)("click_board_pin_attribution_profile"),z({action:"click",item:"related-pin-text-below-name"})},underline:"hover",children:(0,el.jsx)(h.xv,{size:"200",children:null!==(A=H.name)&&void 0!==A?A:""})})}):null]})]})]})},eh=e=>{let{pinId:t,pinGraphqlRef:i}=e,{data:n,childDataKey__DEPRECATED:l}=(0,b.sr)(eu,i?{type:"graphqlRef",data:i}:{type:"deprecated",data:t},{type:"pin",useLegacyAdapter:e=>({entityId:e.id,board:e.board&&{entityId:e.board.id},nativeCreator:e.native_creator&&{entityId:e.native_creator.id},pinner:e.pinner&&{fullName:e.pinner.full_name,imageSmallUrl:e.pinner.image_small_url,isVerifiedMerchant:e.pinner.is_verified_merchant,username:e.pinner.username,verifiedIdentity:e.pinner.verified_identity&&{verified:e.pinner.verified_identity.verified}},promoter:e.promoter&&{entityId:e.promoter.id},sponsorship:e.sponsorship&&{status:e.sponsorship.status}})});return n&&(0,el.jsx)(em,{...e,data:n,pinGraphqlRef:"graphqlRef"===l.type?l.data:null})};var eg=i(857079),e_=i(296011);let ey=void 0!==a?a:a=i(984670),ev=(e,t)=>{let i=(0,p.useRelayEnvironment)();return(0,el.jsx)(e_.t,{invite_code:e,inviteQuery:ey,relayEnvironment:i,children:e=>{let i=null!=e&&e.data?e.data.sender:null,n=i&&i.first_name?i.first_name.substring(0,30):"";if(!n)return null;let l=i&&!i.is_default_image?i.image_medium_url:"",a=(0,S.nk)(t.bt("{{ name }} a partagé cette idée avec vous", "{{ name }} shared this idea with you", "homefeed.pinSenderAvatar.heading", undefined, true),{name:n});return(0,el.jsxs)(h.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,el.jsx)(h.zd,{height:32,width:32,children:(0,el.jsx)(J.qE,{name:n,src:l})}),(0,el.jsx)(h.xu,{paddingY:2,width:"80%",children:(0,el.jsx)(h.xv,{align:"center",size:"200",weight:"bold",children:a})})]})}})},ef=(e,t)=>(0,el.jsx)(e_.Z,{invite_code:e,children:e=>{let i=e?e.sender:null,n=i&&i.first_name?i.first_name.substring(0,30):"";if(!n)return null;let l=i&&!i.is_default_image?i.image_medium_url:"",a=(0,S.nk)(t.bt("{{ name }} a partagé cette idée avec vous", "{{ name }} shared this idea with you", "homefeed.pinSenderAvatar.heading", undefined, true),{name:n});return(0,el.jsxs)(h.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,el.jsx)(h.zd,{height:32,width:32,children:(0,el.jsx)(J.qE,{name:n,src:l})}),(0,el.jsx)(h.xu,{paddingY:2,width:"80%",children:(0,el.jsx)(h.xv,{align:"center",size:"200",weight:"bold",children:a})})]})}}),ex=(e,t)=>{let{checkExperiment:i}=(0,C.F)(),n=i("graphql_migration_sharelink_sgrowth_web").anyEnabled;return n?ev(e,t):ef(e,t)},eb=({inviteCode:e})=>{let t=(0,w.ZP)();return(0,el.jsx)(h.xu,{minHeight:82,children:(0,el.jsx)(f.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,el.jsx)(R.Z,{fallback:(0,el.jsx)(eg.Z,{accessibilityLabel:t.bt("Chargement du composant Invitation", "Loading Invitation component", "Loading InviteFetch component", undefined, true)}),children:ex(e,t)})})})};var ew=i(407043),eS=i(301723),ek=i(934494),eP=i(623568),ej=i(310227),eI=i(909499),eT=i(690035),eC=i(499128),eF=i(343341),eA=i(826067),eE=i(361115),eR=i(364034),eD=i(881802),eL=i(927383),eZ=i(332611),eM=i(8320),eO=i(662089),ez=i(639952),eN=i(698330),eK=i(977734),eU=i(580751);let eB=new h.Ry(1);function e$({buttonText:e,clientTrackingParams:t,color:i="primary",deeplinkUri:n,experience:l,inline:a=!0,minWidth:r,onTouch:o,onUnsave:s,pinId:d,pinnedToBoardId:p,shape:g,shouldShowSavedButton:y,viewType:v,viewParameter:f,showSaveHandoffExperience:x}){var b;let S=(0,w.ZP)(),k=(0,c.useDispatch)(),P=(0,m.k6)(),j=(0,m.TH)(),I=(0,eU.M)(),T=j.pathname.startsWith("/pin"),F=(0,c.useSelector)(({session:e})=>e.hasSavedUnauthPin),A=(0,c.useSelector)(({session:e})=>e.unauthSavePinId),E=null===(b=(0,eN.Tt)())||void 0===b?void 0:b.pin_count,R=(0,_.Z)(),D=(0,Z.Z)(),{checkExperiment:L}=(0,C.F)(),M=(0,eZ.be)(),O=e=>P.push(e),{showToast:z,showRepinConfirmation:N}=(0,eO.Z)(),K=()=>{var e;k((0,eK.Z)({checkExperiment:L,history:P,i18n:S,logContextEvent:R,onSuccess:()=>{l&&k(M(l.placement_id,l.experience_id))},originalPinId:d,pinId:d,trackingParams:{clientTrackingParams:t,pinnedToBoardId:p},showRepinConfirmation:x&&!T?()=>void 0:N,disableRepinAnimation:A===d,pinCount:E,historyPush:O,savePinId:null!==(e=null==I?void 0:I.save)&&void 0!==e?e:()=>{}})).catch(e=>z(({hideToast:t})=>(0,el.jsx)(eC.ZP,{onHide:t,text:e.message||S.bt("Désolé ! Un problème s’est produit de notre côté.", "Sorry! Something went wrong on our end.", "quickSave.toast.error.message", undefined, true),type:"error"})))},U=(0,u.useRef)(null),$=x&&!F,H=(0,eL.Z)(),G=H({fn:e=>{e.stopPropagation(),e.preventDefault(),o&&o(e),y?y&&s&&s():K()},modalHeader:(0,eD.Bx)(S)});(0,u.useEffect)(()=>{$&&!U.current&&(D({action:"trigger",item:"unauth-save-button-quicksave"}),R({event_type:14581}),K(),k((0,ez.e2)())),U.current=$});let W=()=>S.bt("Épingle", "Pin", "quickSave.quickSaveButton.icon.accessibilityLabel", undefined, true),V=()=>e||S.bt("Enregistrer", "Save", "quickSave.quickSaveButton.buttonText", undefined, true);return F&&!T?null:(0,el.jsx)(h.xu,{"data-test-id":"save-button-mobile",zIndex:eB,children:n?(0,el.jsx)(B.di,{accessibilityLabel:W(),color:i,customStyles:{padding:"14px 16px"},deeplinkUri:n,inline:a,minHeight:48,minWidth:r,onTouch:G,pressState:["compress","background"],shape:g,size:"lg",text:V(),to:P.location.pathname,upsellType:"save",viewParameter:f,viewType:v}):(0,el.jsx)(eM.Z,{accessibilityLabel:W(),color:i,customStyles:{padding:"14px 16px"},inline:a,minHeight:48,minWidth:r,onTouch:G,pressState:"compress",shape:g,size:"300",text:V()})})}var eH=i(177891),eG=i(139574),eW=i(850431),eV=i(468760);function eq(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class eY extends u.PureComponent{constructor(...e){var t;super(...e),t=this,eq(this,"state",{saveState:void 0}),eq(this,"legoFixedZIndex",new h.Ry(2)),eq(this,"onAddPin",async function(){let{clientTrackingParams:e,checkExperiment:i,dispatch:n,i18n:l,oneTapSave:a,pinId:r,nodeId:o,pinnedToBoardId:s,showToast:d,viewType:u,historyPush:c,repinContext:p}=t.props;try{var m;let l=await n((0,eW.w)({checkExperiment:i,i18n:t.props.i18n,logContextEvent:t.props.logContextEvent,originalPinId:r,pinId:r,boardId:null==a?void 0:a.boardId,isOneTapSave:!0,section:null==a?void 0:a.section,showToast:d,trackingParams:{clientTrackingParams:e,pinnedToBoardId:s},viewType:u,historyPush:c,savePinId:null!==(m=null==p?void 0:p.save)&&void 0!==m?m:()=>{}}));t.setState({saveState:"saved"}),n((0,eH.a)({boardId:null==a?void 0:a.boardId,localPinId:l.id,pinId:r,nodeId:o}))}catch(e){d(({hideToast:t})=>(0,el.jsx)(eC.ZP,{onHide:t,text:e.message||l.bt("Désolé ! Un problème s’est produit de notre côté.", "Sorry! Something went wrong on our end.", "error during repin", undefined, true),type:"error"})),t.setState({saveState:void 0})}}),eq(this,"onDeletePin",async function(){let{dispatch:e,clientTrackingParams:i,i18n:n,pinId:l,nodeId:a,savedInfo:r,showToast:o,repinContext:s}=t.props;if(r){e((0,eH.k)({boardId:r.boardId,localPinId:r.localPinId,pinId:l,nodeId:a})),null==s||s.unsave(l);try{await e((0,eG.q)({pinId:r.localPinId,boardId:r.boardId,clientTrackingParams:i})),o(({hideToast:e})=>(0,el.jsx)(eC.ZP,{onHide:e,text:n.bt("Épingle supprimée !", "Pin deleted!", "User deleted their pin", undefined, true)})),t.setState({saveState:void 0})}catch(e){o(({hideToast:e})=>(0,el.jsx)(eC.ZP,{onHide:e,text:n.bt("Désolé ! Une erreur est survenue lors de la suppression de votre Épingle.", "Sorry! There was an error deleting your Pin.", "Error when user tried to delete pin", undefined, true),type:"error"})),t.setState({saveState:"saved"})}}}),eq(this,"handlePinAction",this.props.requireAuthForLimitedLogin({fn:({event:e})=>{e.stopPropagation(),e.preventDefault();let{saveState:t}=this.state,{history:i,pinId:n,isOneTapExploreLocalTab:l,pinnedToBoard:a,directSaveExpGroup:r,oneTapSave:o}=this.props,s=r.includes("overlay");["saving","deleting"].includes(t)||l&&a||(t||this.props.savedInfo?this.props.isOneTapExploreLocalTab||(this.setState({saveState:"deleting"}),this.onDeletePin()):(this.setState({saveState:"saving"}),l||!o&&s?i.push({pathname:`/pin/${n}/repin`,state:{isOneTapSave:!0}}):this.onAddPin()))},modalHeader:(0,eD.Bx)(this.props.i18n)})),eq(this,"shouldDisplayAsSaved",({isOneTapExploreLocalTab:e,pinnedToBoard:t,savedInfo:i})=>e?!!t:!!i)}render(){let{children:e,clientTrackingParams:t,directSaveExpGroup:i,homepageExperience:n,i18n:l,isBoardIdeas:a,isOneTapExploreLocalTab:r,isRTL:o,oneTapSave:s,pinId:d,pinnedToBoard:c,pinnedToBoardId:p,savedInfo:m,shouldShowSaveHandoffExp:g}=this.props,_=i.includes("overlay");if(!s&&!r&&!g&&!_)return e;let y=this.shouldDisplayAsSaved({isOneTapExploreLocalTab:!!r,pinnedToBoard:c,savedInfo:m}),v={saved:"#000",unsaved:"rgba(255, 255, 255, 0.8)",savedText:"light",unsavedText:"dark"},f=y?(0,el.jsx)(h.xv,{color:"light",weight:"bold",children:l.bt("Enregistrées", "Saved", "button for saving quickly with one click", undefined, true)}):(0,el.jsx)(h.xv,{color:"dark",weight:"bold",children:l.bt("Enregistrer", "Save", "button for saving quickly with one click", undefined, true)}),x=null,b=i.includes("uselabel");return g?x=(0,el.jsx)(e$,{buttonText:c?l.bt("Enregistrées", "Saved", "OneTapSave.QuickSaveButton.Saved", undefined, true):"",clientTrackingParams:t,color:c?"default":"primary",deeplinkUri:"deeplinkUri",experience:n,inline:!0,minWidth:54,pinId:d,pinnedToBoardId:p,shape:"pill",shouldShowSavedButton:!!c,showSaveHandoffExperience:g}):s?x=(0,el.jsx)(h.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,el.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:y?v.saved:v.unsaved}},paddingX:2,paddingY:2,rounding:"circle",children:(0,el.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:(0,el.jsx)(h.JO,{accessibilityLabel:y?l.bt("enregistrée", "saved", "checkmark icon to show pin has been saved", undefined, true):l.bt("enregistrer", "save", "button for saving quickly with one click", undefined, true),color:y?v.savedText:v.unsavedText,icon:y?"check":a?(0,eV.f)():"add",size:16})})})}):_&&(x=(0,el.jsx)(h.iP,{onTap:this.handlePinAction,rounding:"circle",children:(0,el.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:y?v.saved:v.unsaved}},paddingX:b?3:2,paddingY:2,rounding:b?"pill":"circle",children:(0,el.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{opacity:100}},children:b?f:(0,el.jsx)(h.JO,{accessibilityLabel:y?l.bt("enregistrée", "saved", "checkmark icon to show pin has been saved", undefined, true):l.bt("enregistrer", "save", "button for saving quickly with one click", undefined, true),color:y?v.savedText:v.unsavedText,icon:y?"check":(0,eV.f)(),size:16})})})})),(0,el.jsxs)(u.Fragment,{children:[e,(0,el.jsx)(h.xu,{bottom:!0,left:o,padding:2,position:"absolute",right:!o,zIndex:this.legoFixedZIndex,children:x})]})}}function eQ(e){let{showToast:t}=(0,eF.F9)(),i=(0,m.TH)(),n=(0,w.ZP)(),l=(0,_.Z)(),a=(0,eL.Z)(),r=(0,c.useDispatch)(),o=(0,m.k6)(),{isRTL:s,isAuthenticated:d}=(0,E.B)(),p=(0,eU.M)(),h=(0,c.useSelector)(({session:e})=>e.unauthSavePinId),g=d&&!!h&&h===e.pinId,{pins:y,clear:v}=(0,eR.Z)(),f=(0,u.useRef)(!1),x=(0,eA.mB)(i.search),b=x.ideas_referrer,S=(0,O.HG)(),{checkExperiment:k}=(0,C.F)(),P=(0,eE.J1)(),j=!S&&b===String(25),I=e=>o.push(e),T=(0,c.useSelector)(t=>t.pins[e.pinId]&&t.pins[e.pinId].savedInfo),F=(0,c.useSelector)(t=>t.pins[e.pinId]&&t.pins[e.pinId].pinned_to_board),A=(0,c.useSelector)(e=>e.experiences[40001]);return(0,z.Z)(()=>{d&&!f.current&&y.length>0&&(f.current=!0,l({event_type:14577,aux_data:{num_unauth_saved_pins:y.length}}),[...y,...h&&k(P).anyEnabled?[{id:h}]:[]].forEach(({id:t})=>{var i;r((0,eK.Z)({checkExperiment:k,history:o,i18n:n,logContextEvent:l,onSuccess:()=>{},originalPinId:t,pinId:t,trackingParams:{clientTrackingParams:e.clientTrackingParams,pinnedToBoardId:e.pinnedToBoardId},showRepinConfirmation:()=>void 0,disableRepinAnimation:!0,historyPush:I,savePinId:null!==(i=null==p?void 0:p.save)&&void 0!==i?i:()=>{}})).catch(e=>{(0,L.My)(`error.unauth_profile_pin_merge.${e}`)})}),v())}),(0,el.jsx)(eY,{...e,checkExperiment:k,dispatch:r,history:o,historyPush:I,homepageExperience:A,i18n:n,isRTL:s,logContextEvent:l,pinnedToBoard:F,repinContext:p,requireAuthForLimitedLogin:a,savedInfo:T,shouldShowSaveHandoffExp:g,showToast:t,useSmallSaveIcon:j})}eQ.displayName="OneTapSave";var eJ=i(239062);let eX=({index:e,carouselSlots:t,imageSpec:i,color:n,onError:l,onLoad:a})=>(0,el.jsx)(h.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:t.map((t,r)=>{var o,s,d;let{slotId:u,title:c,details:p,imageSizeMap:m}=t,g=m?m[i]:null,_=g&&null!==(o=g.url)&&void 0!==o?o:"";return(0,el.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{transform:`translate(${-100*e}%, 0%)`,transition:"transform 0.25s ease-in-out"}},"data-test-id":`carousel-swiper-${null!=u?u:r}`,minWidth:"100%",children:(0,el.jsx)(eS.Z,{alt:c||p||"",color:n,fetchPriority:"auto",loading:"auto",naturalHeight:null!==(s=null==g?void 0:g.height)&&void 0!==s?s:1,naturalWidth:null!==(d=null==g?void 0:g.width)&&void 0!==d?d:1,onError:l,onLoad:a,src:_},null!=u?u:r)},null!=u?u:r)})});var e0=i(721782),e1=i(883561);function e2({boardUrl:e,boardName:t,directSaveExpGroup:i,isQuicksave:n,sectionName:l,sectionSlug:a}){let r=(0,w.ZP)(),o=(0,m.k6)(),s=new h.Ry(1),d=!!a&&`${e}${a}/`;return i.includes("footer")?(0,el.jsx)(h.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},left:!0,position:"absolute",right:!0,top:!0,zIndex:s,children:(0,el.jsx)(h.xu,{alignItems:"start",bottom:!0,display:"flex",justifyContent:"center",left:!0,padding:i.includes("overlay")?0:4,position:"absolute",right:!0,top:!0,children:(0,el.jsx)(h.iP,{onTap:t=>{t.event.preventDefault(),o.push(n?"/me/":d||e)},children:(0,el.jsx)(h.xu,{bottom:!0,left:!0,marginBottom:4,marginEnd:4,marginStart:4,position:"absolute",right:!0,children:(0,el.jsxs)(h.xu,{position:"relative",children:[(0,el.jsx)(h.xu,{children:(0,el.jsx)(h.xv,{color:"light",children:r.bt("Enregistrée !", "Saved!", "PinCard.SavedToProfile.Overlay", undefined, true)})}),(0,el.jsxs)(h.kC,{alignItems:"stretch",flex:"grow",justifyContent:"start",children:[(0,el.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},overflow:"hidden",children:(0,el.jsx)(h.xv,{color:"light",children:l?(0,S.nk)(r.bt("{{sectionName}}", "{{sectionName}}", "PinCard.SavedToSection.Overlay", undefined, true),{sectionName:(0,el.jsx)(h.xv,{color:"light",inline:!0,weight:"bold",children:(0,e1.ZP)(l,22)},`pincard-${l}`)}):(0,S.nk)(r.bt("{{boardName}}", "{{boardName}}", "PinCard.SavedToBoard.Overlay", undefined, true),{boardName:(0,el.jsx)(h.xv,{color:"light",inline:!0,weight:"bold",children:n?r.bt("Profil", "Profile", "PinCard.SavedToProfile.Overlay", undefined, true):(0,e1.ZP)(t,22)},`pincard-${t}`)})})}),(0,el.jsx)(h.xu,{bottom:!0,marginBottom:1,position:"absolute",right:!0,children:(0,el.jsx)(h.JO,{accessibilityLabel:r.bt("Enregistrée !", "Saved!", "PinCard.SavedToProfile.Overlay", undefined, true),color:"light",icon:"arrow-forward",size:"16"})})]})]})})})})}):i.includes("overlay")?(0,el.jsx)(h.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,zIndex:s,children:(0,el.jsx)(h.xu,{alignItems:"start",bottom:!0,display:"flex",justifyContent:"center",left:!0,padding:i.includes("overlay")?0:4,position:"absolute",right:!0,top:!0,children:(0,el.jsx)(h.iP,{fullHeight:!0,fullWidth:!0,onTap:t=>{t.event.preventDefault(),o.push(n?"/me/":d||e)}})})}):(0,el.jsx)(h.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},left:!0,position:"absolute",right:!0,top:!0,zIndex:s,children:(0,el.jsx)(h.xu,{alignItems:"start",bottom:!0,display:"flex",justifyContent:"center",left:!0,padding:i.includes("overlay")?0:4,position:"absolute",right:!0,top:!0,children:(0,el.jsx)(h.iP,{onTap:t=>{t.event.preventDefault(),o.push(n?"/me/":d||e)},children:(0,el.jsx)(h.xv,{color:"light",children:l?(0,S.nk)(r.bt("Enregistrée dans {{sectionName}}", "Saved to {{sectionName}}", "PinCard.SavedToSection.Overlay", undefined, true),{sectionName:(0,el.jsx)(h.xv,{color:"light",inline:!0,weight:"bold",children:(0,e1.ZP)(l,22)},`pincard-${l}`)}):(0,S.nk)(r.bt("Enregistrée dans {{boardName}}", "Saved to {{boardName}}", "PinCard.SavedToBoard.Overlay", undefined, true),{boardName:(0,el.jsx)(h.xv,{color:"light",inline:!0,weight:"bold",children:n||!t?r.bt("Profil", "Profile", "PinCard.SavedToProfile.Overlay", undefined, true):(0,e1.ZP)(t,22)},`pincard-${t}`)})})})})})}var e6=i(903095),e4=i(927104);let e3=({clickLoggingOptions:e,domain:t,link:i,onClick:n})=>{var l;let a=null===(l=(0,e6.lO)())||void 0===l?void 0:l.logging,r=(0,w.ZP)(),o=(0,_.Z)(),s=()=>[{event_type:8948},{event_type:12},{event_type:101,element:0,aux_data:{}}].map(t=>({component:0,element:162,view_type:null==a?void 0:a.viewType,view_parameter:null==a?void 0:a.viewParameter,aux_data:e.auxData,object_id_str:e.auxData.objectId,...t}));return(0,el.jsx)(h.iP,{onTap:({event:e})=>{e.stopPropagation(),s().forEach(e=>o(e)),n(e)},children:(0,el.jsxs)(h.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,marginBottom:4,marginStart:4,position:"absolute",children:[(0,el.jsx)(h.xu,{marginEnd:1,children:(0,el.jsx)(h.JO,{accessibilityLabel:r.bt("Lien", "Link", "unauth.pin.domain.link", undefined, true),color:"light",icon:"arrow-up-right",size:9})}),(0,el.jsx)("a",{href:i,onClick:e=>{e.stopPropagation(),s().forEach(e=>o(e)),n(e)},rel:"nofollow noopener noreferrer",target:"_blank",type:"button",children:(0,el.jsx)(h.xv,{color:"inverse",inline:!0,lineClamp:1,size:"200",weight:"bold",children:(0,e4.Z)(t,27)})})]})})},e8=({domainLinkData:e})=>{let t=(0,w.ZP)(),i=(0,v.g)();return(0,el.jsxs)(h.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:"rgba(51, 51, 51, 0.8)"}},left:!0,position:"absolute",right:!0,top:!0,children:[(0,el.jsx)(h.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,paddingX:2,position:"absolute",right:!0,top:!0,children:(0,el.jsx)(h.xv,{align:"center",color:"light",size:"400",weight:"bold",children:t.bt("Ouvrir", "Open", "Text on hover of a pin leading to opening this pin in the same tab. This is for users who don't have an account on Pinterest.", undefined, true)})}),!!e&&(0,el.jsx)(h.xu,{bottom:!0,left:!0,minWidth:"100%",position:"absolute",width:"100%",children:(0,el.jsx)(e3,{clickLoggingOptions:e.clickLoggingOptions,domain:e.domain,link:e.link,onClick:e.onClick||(null==i?void 0:i.pinLinkClickHandler)||(()=>{})})})]})};var e7=i(167525),e9=i(350118),e5=i(67347),te=i(127525);let tt=void 0!==r?r:r=i(114565),ti="Left",tn="Right",tl=({width:e,height:t,minY:i,maxY:n})=>{let l=t=>e<=0||!t?"0%":Math.round(t/e*100)+"%";return{top:i<=0?"0%":l(-1*i*t),bottom:n>=1?"0%":l(-((1-n)*1)*t)}},ta=({children:e,margin:t,disableRounding:i})=>(0,el.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:t?{marginTop:t.top,marginBottom:t.bottom}:{}},"data-test-id":"pin-visual-wrapper",position:"relative",children:(0,el.jsx)(h.zd,{rounding:i?0:ej.mv,wash:!0,children:e})}),tr=({clientTrackingParams:e,color:t,data:i,description:n,directSaveExpGroup:l,domainLinkData:a,image:r,imageAltText:o,imageCrop:s,isBoardIdeas:d,isOneTapExploreLocalTab:c,isSquarePin:p,lazyLoadImage:g,onError:_,oneTapSave:v,onLoad:f,pinId:x,priorityFetchImage:b,disableDefaultContextMenu:S,pinnedToBoardId:k,productPrice:P,disableRounding:j,storyDataExists:I,title:T,type:F,videoDuration:A,viewType:R,slotIndex:D,isPromotedPin:M,setIsLongPressEnabledForAuth:z,childDataKey__DEPRECATED:N,setCarouselIndex:K,carouselIndex:U,viewParameter:B})=>{var $,H,G,W,V,q,Y,Q,J,ee,et,ei,en,ea;let er=(0,w.ZP)(),eo=(0,eT.Z)(),{checkExperiment:es}=(0,C.F)(),[ed,eu]=(0,u.useState)(!1),[ec,ep]=(0,u.useState)(!1),{isAuthenticated:em}=(0,E.B)(),eh=(0,O.ZP)(),eg=(0,eU.M)(),e_=k&&!!(null!=eg&&eg.isSaved(x)),ey=a&&a.link?"with-link":"without-link",ev=!em&&"desktop"!==eh,ef=(0,u.useRef)(Date.now()),ex=(0,u.useRef)(null),eb=(0,Z.Z)(),{shouldOpenInStream:ek,carouselData:ej,isEligibleForPdp:eC}=i,eF=(0,te.I)(),{logContextEvent:eA}=(0,ew.v)(),eE=M&&I&&es("ads_mweb_idea_ad").anyEnabled,eR=es("ads_show_carousel_on_mweb").anyEnabled,eD=(0,u.useCallback)(()=>{ec||ep(!0)},[ec]);(0,u.useEffect)(()=>(eR&&"undefined"!=typeof window&&window.addEventListener("scroll",eD),()=>{"undefined"!=typeof window&&window.removeEventListener("scroll",eD)}),[eR,eD]),(0,u.useEffect)(()=>{ed&&!em&&eb({action:"view",item:"unauth-video-autoplay-on-hover"})},[ed,eb,em]),(0,u.useEffect)(()=>{var e,t;let i=`board-image-preload-${D-1}`,n=null!==(e=null===(t=document.getElementById(i))||void 0===t?void 0:t.getAttribute("href"))&&void 0!==e?e:"";eF&&5===R&&n&&(0,e5.nP)("www.blp.preloadImageCheck",{sampleRate:5,tags:{isAuthenticated:em,deviceType:eh,isEqual:n===r.url}})},[]);let eL=(0,e0.Z)(N,"PinCardVisual"),eZ=e=>{var t,i,n,l;let a=null!==(t=null==ej?void 0:null===(i=ej.carouselSlots)||void 0===i?void 0:i.length)&&void 0!==t?t:0,r=U;e===ti&&U<a-1?r=U+1:e===tn&&U>0&&(r=U-1),K(r),eL({pinId:x,currentIndex:U,nextIndex:r,carouselData:{carouselSlots:null==ej?void 0:null===(n=ej.carouselSlots)||void 0===n?void 0:n.map(({slotId:e})=>({id:e})),entityId:null!==(l=null==ej?void 0:ej.entityId)&&void 0!==l?l:""},viewParameter:B,viewType:R,componentType:14887,isEligibleForPdp:null!=eC&&eC})},eM=(e,t)=>{let i=e.x-t.x,n=e.y-t.y;return Math.abs(i)>Math.abs(n)?i>0?tn:ti:n>0?"Down":"Up"},eO=eR&&ej?(0,el.jsx)(h.xu,{display:"flex",marginEnd:1,marginStart:1,marginTop:3,position:"relative",children:(0,el.jsx)(eJ.default,{addEllipsis:!0,alwaysShowNavigationArrows:!1,carouselData:{carouselSlots:null===($=ej.carouselSlots)||void 0===$?void 0:$.map(({slotId:e,title:t})=>({id:e,title:t})),entityId:null!==(H=ej.entityId)&&void 0!==H?H:"",index:ej.index},carouselIndex:U,componentType:14888,ellipsisVariant:"dark",handleCarouselSwipe:e=>{K(e)},hideNavigationArrows:!0,pinKey:null==N||"graphqlRef"===N.type?N:{type:"deprecated",data:x},viewParameter:B,viewType:R})}):null,ez=eR&&ej?(0,el.jsx)(eX,{carouselSlots:ej.carouselSlots?ej.carouselSlots.map(({slotId:e,details:t,imageSignature:i,title:n,imagesSpec_236x:l})=>({details:t,slotId:e,imageSignature:i,title:n,imageSizeMap:{"236x":{width:null==l?void 0:l.width,height:null==l?void 0:l.height,url:null==l?void 0:l.url}}})):[],color:t,imageSpec:"236x",index:U,onError:_,onLoad:f}):(0,el.jsx)(eS.Z,{alt:o||T||n||"",color:t,fetchPriority:b?"high":"auto",fit:p?"cover":void 0,loading:g?"lazy":"auto",naturalHeight:null!==(G=r.height)&&void 0!==G?G:1,naturalWidth:null!==(W=r.width)&&void 0!==W?W:1,onError:_,onLoad:f,src:null!==(V=r.url)&&void 0!==V?V:""}),eN=(0,m.TH)(),{scope:eK}=(0,m.UO)(),eB=()=>(0,X.C$)(eN)?"homefeed":(0,X.L6)(eN)?"related_pins":(0,X.En)(eN)?"search":"unknown",e$=()=>(0,X.C$)(eN)?92:(0,X.L6)(eN)?140:(0,X.En)(eN)?(0,eI._R)((0,eI.oD)(eK)):void 0,eH=l.includes("enabled"),eG=eH?!k&&!!(null!=eg&&eg.isSaved(x)):(null===(q=i.board)||void 0===q?void 0:q.layout)==="quick_saves",eW=eH?em&&(e_||eG):em&&e_;return(0,el.jsxs)("div",{className:"PinCard__imageWrapper",style:{position:"relative"},children:[(0,el.jsxs)(h.xu,{dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},"data-test-id":`pincard-${F}-${ey}`,onContextMenu:e=>{if("desktop"!==eh){let t=eB();(0,L.My)(`${em?"auth":"unauth"}.mweb_pin_feed.pin_image.long_press`,{page:t}),(!em||es("mweb_long_press_menu_v2",{dangerouslySkipActivation:!0}).anyEnabled)&&(e.preventDefault(),e.stopPropagation())}},onMouseLeave:ev?void 0:()=>eu(!1),onMouseOver:ev||es("prevent_open_on_hover").anyEnabled?void 0:()=>eu(!0),onTouchEnd:e=>{if("desktop"!==eh){let t=eB();(0,L.My)("unauth.mweb.related_pin.image.touch.end");let i=Date.now()-ef.current,n=i>500,l=ex.current;if(e.changedTouches&&e.changedTouches.length>0&&l){let i=e.changedTouches[0],a={x:i.pageX,y:i.pageY},r=eM(a,l),o=Math.pow(i.pageX-l.x,2)+Math.pow(i.pageY-l.y,2);if(!eR||r!==ti&&r!==tn||n||ec||(e.preventDefault(),e.stopPropagation(),eZ(r)),i&&o>100)return;if(n&&!em&&"related_pins"===t)null==S||S(),eo({pinId:x,location:"related-pins-long-press"}),e.stopPropagation();else if(n&&em){let t=e$();void 0!==t&&es("mweb_long_press_menu_v2").anyEnabled&&(null==S||S(),null==z||z(!0),e.stopPropagation()),eA({event_type:103,view_parameter:e$()})}}}},onTouchStart:e=>{if("desktop"!==eh&&(ep(!1),(0,L.My)("unauth.mweb.related_pin.image.touch.start"),(!em||es("mweb_long_press_menu_v2",{dangerouslySkipActivation:!0}).anyEnabled)&&(null==S||S()),ef.current=Date.now(),e.changedTouches&&e.changedTouches.length>0)){let t=e.changedTouches[0];t&&(ex.current={x:t.pageX,y:t.pageY})}},overflow:"hidden",position:"relative",rounding:j?0:4,children:[(0,el.jsxs)(eQ,{clientTrackingParams:e||"",directSaveExpGroup:l,isBoardIdeas:d,isOneTapExploreLocalTab:c,nodeId:i.__id,oneTapSave:v,pinId:x,pinnedToBoardId:k,viewType:R,children:[(()=>{var e,t,n,l;if("gif"===F&&!e_)return(0,el.jsx)(e7.Z,{text:er.bt("GIF", "GIF", "pin.pinCard.gifIconIdentifier", undefined, true)});if("video"===F&&A&&!e_)return(0,el.jsx)(e7.Z,{text:A});if("storyPin"===F&&I&&!e_&&!1!==ek){let n=(null===(e=i.storyPinData)||void 0===e?void 0:e.staticPageCount)||0,l=(null===(t=i.storyPinData)||void 0===t?void 0:t.totalVideoDuration)||0;if(!(0===l&&n<=1)){let e=l+n*eP.oN;return(0,el.jsx)(e7.Z,{text:(0,y.Z)(e)})}}if(eE&&I&&!e_&&!1!==ek&&M){let e=(null===(n=i.storyPinData)||void 0===n?void 0:n.staticPageCount)||0,t=(null===(l=i.storyPinData)||void 0===l?void 0:l.totalVideoDuration)||0;if(t>0){let i=t+e*eP.oN;return(0,el.jsx)(e7.Z,{text:(0,y.Z)(i)})}}return"product"===F&&P?(0,el.jsx)(e7.Z,{text:P}):null})(),(0,el.jsx)(ta,{disableRounding:j,margin:s?tl({width:null!==(Y=r.width)&&void 0!==Y?Y:1,height:null!==(Q=r.height)&&void 0!==Q?Q:1,minY:s.minY,maxY:s.maxY}):void 0,children:p?(0,el.jsx)(h.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,el.jsx)(h.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},left:!0,position:"absolute",right:!0,top:!0,children:ez})}):ez})]}),ed&&!em&&(0,el.jsx)(e8,{domainLinkData:a}),eW&&(0,el.jsx)(e2,{boardName:null!==(J=null===(ee=i.board)||void 0===ee?void 0:ee.name)&&void 0!==J?J:"",boardUrl:null!==(et=null===(ei=i.board)||void 0===ei?void 0:ei.url)&&void 0!==et?et:"",directSaveExpGroup:l,isQuicksave:eG,sectionName:null==v?void 0:null===(en=v.section)||void 0===en?void 0:en.title,sectionSlug:null==v?void 0:null===(ea=v.section)||void 0===ea?void 0:ea.slug})]}),eO]})},to=(0,ek.Z)({useGraphQLAdapter:e=>{let t=(0,p.useFragment)(tt,e);return{pin:t,childDataKey__DEPRECATED:{type:"graphqlRef",data:t}}},useLegacyAdapter:({pinId:e,pinnedToBoardId:t})=>{var i,n,l;let a=(0,e9.S6)()(e),r=(0,et.gC)();if(!a)return null;let o=r(t||String(null===(i=a.board)||void 0===i?void 0:i.id));return{pin:{__id:null!==(n=a.node_id)&&void 0!==n?n:"",board:o&&{layout:o.layout,name:o.name,url:o.url},shouldOpenInStream:a.should_open_in_stream,storyPinData:a.story_pin_data&&{staticPageCount:a.story_pin_data.static_page_count,totalVideoDuration:a.story_pin_data.total_video_duration},carouselData:a&&a.carousel_data?{index:a.carousel_data.index,entityId:a.carousel_data.id||a.id,carouselSlots:null===(l=a.carousel_data.carousel_slots)||void 0===l?void 0:l.map(e=>{var t;return{slotId:e.id,details:e.details,imageSignature:e.image_signature,title:e.title,imagesSpec_236x:(null===(t=e.images)||void 0===t?void 0:t["236x"])&&{height:e.images["236x"].height,url:e.images["236x"].url,width:e.images["236x"].width}}})}:null,isEligibleForPdp:a.is_eligible_for_pdp},childDataKey__DEPRECATED:{type:"deprecated",data:a}}}}),ts=e=>(0,el.jsx)(to,{input:e.pinGraphqlRef?{enabled:!0,data:e.pinGraphqlRef}:{enabled:!1,data:{pinId:e.pinId,pinnedToBoardId:e.pinnedToBoardId}},children:({data:t})=>t&&(0,el.jsx)(tr,{...e,childDataKey__DEPRECATED:t.childDataKey__DEPRECATED,data:t.pin})});var td=i(55275);let tu={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:.8,transition:"opacity 1s ease"}},tc=(e,t,i)=>(0,el.jsx)(h.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,el.jsx)(h.rU,{display:"inlineBlock",href:t,tapStyle:"none",underline:"hover",children:i})},e);function tp({color:e,getFeedbackText:t,margin:i,onUnfollow:n,showing:l,unfollowed:a}){let r=(0,w.ZP)(),[o,s]=(0,u.useState)(l?"fadeIn":"initial"),d=(0,u.useRef)(null),c=(0,_.Z)();(0,u.useEffect)(()=>("initial"===o&&l&&(d.current=window.requestAnimationFrame(()=>s("fadeIn"))),()=>{d.current&&window.cancelAnimationFrame(d.current)}),[o,s,l]);let{subTitle:p,title:m,unfollow:g}=t(tc),y=m,v=p;return g&&a&&(y=g.title,v=g.subTitle),l&&(0,el.jsx)(h.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:e,...tu[o]}},left:!0,margin:i,position:"absolute",right:!0,rounding:4,top:!0,children:(0,el.jsx)(h.xu,{color:"dark",height:"100%",overflow:"auto",rounding:4,width:"100%",children:(0,el.jsxs)(h.xu,{"data-test-id":"reported-overlay",direction:"column",display:"flex",height:"100%",justifyContent:"between",padding:3,rounding:2,children:[(0,el.jsxs)(h.xu,{children:[(0,el.jsx)(h.X6,{color:"light",size:"400",children:y}),!!v&&(0,el.jsxs)(h.xu,{marginTop:1,children:[(0,el.jsx)(h.xv,{color:"light",inline:!0,size:"200",children:v}),(0,el.jsx)(h.xv,{color:"light",inline:!0,size:"200",weight:"bold",children:(0,el.jsx)(h.rU,{display:"block",href:"/edit",rounding:2,tapStyle:"none",underline:"hover",children:r.bt("Personnaliser votre page d’accueil", "Tune your home feed", "Text on the button to navigate to homefeed control", undefined, true)})})]})]}),!a&&g&&(0,el.jsx)(h.xu,{paddingY:1,children:(0,el.jsx)(h.zx,{color:"white",fullWidth:!0,onClick:()=>g?(0,td.t)(g.action,g.actionOptions,n,c):void 0,text:r.bt("Se désabonner", "Unfollow", "Text on the button to unfollow a specific board / user", undefined, true)})})]})})})}var tm=i(904779);function th(e){let t=(0,w.ZP)(),{pinId:i,nodeId:n,clientTrackingParams:l,directSaveExpGroup:a}=e,r=(0,eU.M)(),o=(0,m.k6)(),{showToast:s}=(0,eF.F9)(),d=(0,c.useSelector)(e=>e.pins[i]&&e.pins[i].savedInfo),u=!!(null!=r&&r.isSaved(i))||d,p=(0,c.useDispatch)(),g=a.includes("uselabel"),_=async e=>{if(e.stopPropagation(),e.preventDefault(),u){if(d){p((0,eH.k)({boardId:d.boardId,localPinId:d.localPinId,pinId:i,nodeId:n})),null==r||r.unsave(i);try{await p((0,eG.q)({pinId:d.localPinId||"",boardId:d.boardId,clientTrackingParams:l})),s(({hideToast:e})=>(0,el.jsx)(eC.ZP,{onHide:e,text:t.bt("Épingle supprimée !", "Pin deleted!", "User deleted their pin", undefined, true)}))}catch(e){s(({hideToast:e})=>(0,el.jsx)(eC.ZP,{onHide:e,text:t.bt("Désolé ! Une erreur est survenue lors de la suppression de votre Épingle.", "Sorry! There was an error deleting your Pin.", "Error when user tried to delete pin", undefined, true),type:"error"}))}}}else o.push({pathname:`/pin/${i}/repin`,state:{isOneTapSave:!0}})},y=u?(0,el.jsx)(h.xv,{size:"100",weight:"bold",children:t.bt("Enregistrées", "Saved", "button for saving quickly with one click", undefined, true)}):(0,el.jsx)(h.xv,{size:"100",weight:"bold",children:t.bt("Enregistrer", "Save", "button for saving quickly with one click", undefined, true)});return g?(0,el.jsx)(h.iP,{onTap:({event:e})=>{_(e)},rounding:"circle",children:(0,el.jsx)(h.xu,{color:"transparent",paddingX:2,paddingY:1,rounding:"pill",children:(0,el.jsx)(h.xu,{children:y})})}):(0,el.jsx)(h.hU,{accessibilityLabel:u?t.bt("Annuler l’enregistrement", "Undo save", "PinFooterSaveButton.Unsave", undefined, true):t.bt("Enregistrer", "Save", "PinFooterSaveButton.Save", undefined, true),icon:u?"check":(0,eV.f)(),iconColor:"darkGray",onClick:({event:e})=>{_(e)},padding:1,size:"sm"})}var tg=i(733319),t_=i(561195);function ty({maxRating:e,rating:t,text:i}){return(0,el.jsxs)(h.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[(0,el.jsx)(t_.Z,{max_rating:e||"",rating:t||"",width:10}),i&&(0,el.jsx)(u.Fragment,{children:(0,el.jsx)(h.xu,{marginStart:1,overflow:"hidden",children:(0,el.jsx)(h.xv,{lineClamp:1,size:"100",children:i})})})]})}var tv=i(255607),tf=i(21384);let tx=void 0!==o?o:o=i(91849);function tb({dedupeVisualAnnotations:e,description:t,gridTitle:i,pinId:n,richMetadataTitle:l,richSummaryDisplayName:a,storyPinDataId:r,storyPinDataMetadataPinTitle:o,title:s,queryRef:d}){let u=(0,p.useFragment)(tx,d);return(0,el.jsxs)(h.xu,{display:"flex",marginBottom:-1,paddingX:2,children:[(0,el.jsx)(h.xu,{flex:"grow",maxHeight:32,minHeight:12,overflow:"hidden",width:142,children:(0,el.jsx)(h.xv,{lineClamp:2,size:"100",weight:"bold",children:(0,T.fs)({pinTitle:s,gridTitle:i,richSummaryDisplayName:a,richMetadataTitle:l,storyPinDataId:r,storyPinDataMetadataPinTitle:o})||t})}),(0,el.jsx)(h.xu,{children:(0,el.jsx)(tf.Z,{dedupeVisualAnnotations:e,graphqlRef:u,pinId:n,size:"sm"})})]})}var tw=i(248299),tS=i(430235);let tk=void 0!==s?s:s=i(156577),tP=({attribute:e,deviceType:t,location:i})=>{let n=(0,Z.S)(i);(0,L.My)("unauth.product_attribution.click",{item:e,page:n,device:t})},tj=({isSquarePin:e,price:t,shouldDisplayMerchant:i})=>{if(t&&e)return i?90:68},tI=({maxPrice:e,minPrice:t,price:i})=>e&&t?`${t}-${e}`:i;function tT({dedupeVisualAnnotations:e,description:t,domain:i,graphqlRef:n,gridTitle:l,isSquarePin:a,pinId:r,priceSummary:o,richMetadataTitle:s,richSummaryDisplayName:d,storyPinDataId:c,storyPinDataMetadataPinTitle:p,title:g}){let _=(0,O.ZP)(),y=(0,m.TH)(),v=o&&(o.price||o.standardPrice||tI(o)),f=(0,u.useMemo)(()=>a?2:v?3:2,[a,v]);if(!r)return null;let x=(0,T.fs)({pinTitle:g,gridTitle:l,richSummaryDisplayName:d,richMetadataTitle:s,storyPinDataId:c,storyPinDataMetadataPinTitle:p})||t,b=`/pin/${r}/`;return(0,el.jsx)(h.xu,{direction:"column",display:"flex",height:tj({isSquarePin:a,price:v}),marginBottom:-1,marginTop:2,paddingX:2,children:(0,el.jsxs)(h.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:[(0,el.jsx)(h.xu,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:(0,el.jsxs)(B.MZ,{accessibilityLabel:x,deeplinkUri:b,to:b,children:[v&&(0,el.jsx)(h.iP,{onTap:()=>tP({deviceType:_,attribute:"price",location:y}),children:(0,el.jsx)(h.xv,{size:"100",weight:"bold",children:v})}),(0,el.jsx)(h.xu,{marginTop:1,children:(0,el.jsx)(h.iP,{onTap:()=>tP({deviceType:_,attribute:"title",location:y}),children:(0,el.jsx)(h.xv,{lineClamp:f,size:"100",weight:"bold",children:x})})}),i&&v&&(0,el.jsx)(h.xu,{marginTop:1,children:(0,el.jsx)(h.iP,{onTap:()=>tP({deviceType:_,attribute:"merchant",location:y}),children:(0,el.jsx)(h.xv,{lineClamp:1,size:"100",children:i})})})]})}),"desktop"!==_&&(0,el.jsx)(h.xu,{children:(0,el.jsx)(tf.Z,{dedupeVisualAnnotations:e,graphqlRef:n,pinId:r,size:"sm"})})]})})}let tC=(0,ek.Z)({useGraphQLAdapter:({queryRef:e})=>(0,p.useFragment)(tk,e),useLegacyAdapter:()=>null});function tF({queryRef:e,...t}){return(0,el.jsx)(tC,{input:e?{enabled:!0,data:{queryRef:e}}:{enabled:!1,data:{pinId:t.pinId}},children:({data:e})=>(0,el.jsx)(tT,{...t,graphqlRef:e})})}var tA=i(394332);let tE=void 0!==d?d:d=i(813283),tR=e=>!!(e.promoter&&!e.isDownstreamPromotion),tD=e=>{let{attribution:t,embed:i,isEligibleForWebCloseup:n,richSummary:l,videos:a,storyPinDataId:r}=e,o=i||(null==t?void 0:t.embed);return n?"oneTap":a||(null==o?void 0:o.type)==="video"?"video":(null==o?void 0:o.type)==="gif"?"gif":(null==l?void 0:l.typeName)==="product"?"product":(null==l?void 0:l.typeName)==="recipe"?"recipe":r?"storyPin":"image"},tL=e=>{let{adDestinationUrl:t,link:i,trackedLink:n}=e;return t||n||i||""},tZ=e=>{var t,i,n;let l=null===(t=e.videos)||void 0===t?void 0:t.videoList;return l?(0,y.Z)(null!==(i=null===(n=l[Object.keys(l)[0]])||void 0===n?void 0:n.duration)&&void 0!==i?i:0):""},tM=e=>{var t;let[i]=(null===(t=e.richSummary)||void 0===t?void 0:t.products)||[];if(!i)return null;let{offerSummary:n}=i;return n&&(n.price||n.maxPrice)},tO=e=>e&&e.includes("/user/default")?void 0:e,tz=(0,u.lazy)(()=>Promise.all([i.e(44970),i.e(12058),i.e(56503),i.e(36807)]).then(i.bind(i,475887)));function tN({auxData:e,componentType:t,debugInfo:i,disableAppUpsell:n,disableReaction:l,disableRounding:a,duploConversationPin:r,duploDedupeVisualAnnotations:o,duploDisablePinCardPadding:s,duploFeedItemProps:d,duploIsSquarePin:p,duploLazyLoadImage:y,duploOneTapSave:b,duploPinCardDetailsMargin:M,duploPriorityFetchImage:Q,duploQueryRef:J,duploShouldAddNiiSearchParamToImageUrls:X,duploShouldAllowProductPriceIndicator:ee,feedback:et,imageOnlyOption:ei,impressionData:en,objectIdStr:ea,pin:er,slotIndex:eo,topLevelTrafficSource:es,topLevelTrafficSourceDepth:ed,trackingParams:eu,trafficSource:ec,viewData:ep,viewParameter:em,viewType:eg}){var e_,ey,ev,ef,ex,ew,eS,ek,eP,ej,eI,eT,eC,eF,eA,eE,eR,eD,eL,eZ;let eM;let eO=(0,w.ZP)(),ez=(0,v.g)(),eN=(0,m.TH)(),eK=(0,O.HG)(),eU=(0,Y.Z)(),eB=(0,F.yz)(),e$=(0,x._)({id:1000107}),eH=(0,_.Z)(),eG=(0,Z.Z)(),{country:eW,isAuthenticated:eV,isBot:eq,isSocialBot:eY}=(0,E.B)(),{viewedSharedPins:eQ}=(0,c.useSelector)(({session:e})=>e),eJ=(0,c.useSelector)(({experiences:e})=>{let t=e[1000107];return!!t&&500678===t.experience_id}),eX=(0,c.useSelector)(({session:e,users:t})=>(0,k.Z)(t[e.userId].created_at)),{getPinFeedbackStatus:e0,setPinFeedbackStatus:e1}=(0,tm.K)(),[e2,e6]=(0,u.useState)(!1),[e4,e3]=(0,u.useState)(!1),[e8,e7]=(0,u.useState)(!1),[e9,te]=(0,u.useState)(null!==(e_=null===(ey=er.carouselData)||void 0===ey?void 0:ey.index)&&void 0!==e_?e_:0),tt=(0,u.useRef)(),ti=(0,N.Z)(),tn=er.entityId,tl=!!er.storyPinDataId&&!1===er.shouldOpenInStream,ta=e=>X&&e?{...e,url:e.url&&(0,D.H5)(e.url)}:e,tr=ta(er.imageSpec_136x136),to=ta(er.imageSpec_170x),td=ta(er.imageSpec_236x),tu=ta(er.imageSpec_474x),tc=ta(er.imageSpec_736x),t_=ta(er.imageSpec_orig),tf={...[["136x136",tr],["170x",to],["236x",td],["474x",tu],["736x",tc],["orig",t_]].reduce((e,[t,i])=>{var n,l,a,r;return i&&(e[t]={dominant_color:null!==(n=i.dominantColor)&&void 0!==n?n:void 0,height:null!==(l=i.height)&&void 0!==l?l:void 0,url:null!==(a=i.url)&&void 0!==a?a:void 0,width:null!==(r=i.width)&&void 0!==r?r:void 0}),e},{})},{checkExperiment:tx}=(0,C.F)(),tk=Object.keys(tf).reduce((e,t)=>{var i;return t&&null!==(i=tf[t])&&void 0!==i&&i.url?{...e,[t]:tf[t].url}:e},{}),tP=e=>{var t,i;return(0,j.Z)({embedSrc:null===(t=er.embed)||void 0===t?void 0:t.src,embedType:null===(i=er.embed)||void 0===i?void 0:i.type,imagesUrls:tk,preferredResolution:e,excludeOriginals:!eq&&!eY})},tj=tD(er),tI=(0,K.z)();(0,z.Z)(()=>{if(tI&&!eK&&"image"===tj){let t=tf["236x"]||tf["136x136"],i=tP("736x");if(i){var e;let n={pin:{dominantColor:er.dominantColor,link:er.link,mobileLink:er.mobileLink,richMetadata:er.richMetadata&&{__typename:"RichPinDataView",article:er.richMetadata.article&&{__typename:"ArticleMetadata"},recipe:er.richMetadata.recipe&&{__typename:"RecipeMetadata"},products:null===(e=er.richMetadata.products)||void 0===e?void 0:e.map(()=>({__typename:"RichPinProductMetadata"}))},trackedLink:er.trackedLink},derived:{homefeedRecommendationReason:92===em&&er.recommendationReason?{reason:er.recommendationReason.reason,reasonId:er.recommendationReason.reasonId}:null,imageUrl:i,placeholder:t&&{width:t.width,height:t.height,url:t.url}}};tI.setData(tn,n)}}}),(0,z.Z)(()=>{if(!eV&&0===eo&&3070===em){var e,t,i;let n=eN.pathname,{imageSignature:l,entityId:a,imageSpec_236x:r,description:o}=er;(0,q.H$)(n,l,a,r&&{dominant_color:null!==(e=r.dominantColor)&&void 0!==e?e:void 0,height:null!==(t=r.height)&&void 0!==t?t:void 0,url:r.url,width:null!==(i=r.width)&&void 0!==i?i:void 0},o)}});let tT=92===em&&(null===(ev=eQ&&eQ[tn])||void 0===ev?void 0:ev.inviteCode),tC=p?{height:136,url:null==td?void 0:td.url,width:136}:[td,to,tr,tc,tu,t_].find(e=>e&&e.url)||{width:1,height:1,url:""},tE=null===(ef=er.videos)||void 0===ef?void 0:null===(ex=ef.videoList)||void 0===ex?void 0:ex.v720P,tN=(0,H.Z)({isEligibleForPdp:er.isEligibleForPdp,isOosProduct:er.isOosProduct,isStaleProduct:er.isStaleProduct,pinShoppingFlags:null!==(ew=er.shoppingFlags)&&void 0!==ew?ew:void 0}),tK=()=>{let i=(0,G.Z)(eu,er.trackingParams);if((0,L.My)(`unauth_pin_rep.click.${String(em)}`),eH({view_type:eg,view_parameter:em,element:er.storyPinDataId?12372:35,event_type:101,component:t,object_id_str:tn,clientTrackingParams:i,aux_data:{commerce_data:tN,grid_index:eo,image_signature:er.imageSignature,...e}}),"oneTap"!==tj&&eH({event_type:8948,view_type:eg,view_parameter:em,object_id_str:tn,clientTrackingParams:i,aux_data:{image_signature:er.imageSignature,commerce_data:tN,closeup_navigation_type:"click",grid_index:eo,cosmic_ray_count:"3",...e}}),!eV)switch(eG({action:"click",item:"pin"}),eg){case 3:(0,L.NC)("click_pin_related_image");break;case 5:(0,L.NC)("click_board_pin_image");break;case 210:(0,L.NC)("click_topic_pin_image");break;case 605:(0,L.NC)("click_shopping_category_pin_image");break;case 606:(0,L.NC)("click_videos_category_pin_image")}"oneTap"===tj&&(eH({event_type:8948,view_type:eg,view_parameter:em,object_id_str:tn,clientTrackingParams:i,aux_data:{image_signature:er.imageSignature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...e}}),(0,V.jC)({view_type:eg,view_parameter:em,element:er.storyPinDataId?12372:35,component:t,object_id_str:tn,aux_data:{commerce_data:tN,grid_index:eo,image_signature:er.imageSignature,...e},clientTrackingParams:i}),eH({component:t,event_type:13,view_type:3,clientTrackingParams:i,aux_data:{closeup_navigation_type:"web_closeup",image_signature:er.imageSignature},object_id_str:tn}))},tU=e0({pinId:tn}),tB=tR(er),t$=()=>{var e,t,i,n,l,a,r,o,s,d,u,c,p,m;let h=({user:e,linkToBoard:t})=>{var i;return{link:t?(null===(i=er.board)||void 0===i?void 0:i.url)||`/pin/${er.entityId}/`:(null==e?void 0:e.username)&&`/${e.username}/`||"",avatar:tO(null==e?void 0:e.imageMediumUrl)||tO(null==e?void 0:e.imageSmallUrl)}};if(tR(er))return er.sponsorship&&(null===(o=er.promoter)||void 0===o?void 0:o.entityId)!==(null===(s=er.nativeCreator)||void 0===s?void 0:s.entityId)?{title:null===(d=er.nativeCreator)||void 0===d?void 0:d.fullName,subtitle:null===(u=er.promoter)||void 0===u?void 0:u.fullName,...h({user:er.nativeCreator})}:{title:eO.bt("Sponsorisée par", "Promoted by", "Grid pin annotation", undefined, true),subtitle:null===(c=er.promoter)||void 0===c?void 0:c.fullName,...h({user:er.promoter})};if(null!==(e=er.sponsorship)&&void 0!==e&&e.creator)return{title:null===(p=er.nativeCreator)||void 0===p?void 0:p.fullName,subtitle:null===(m=er.sponsorship.sponsor)||void 0===m?void 0:m.fullName,...h({user:er.nativeCreator})};if(!er.isEligibleForPdp){if(er.nativeCreator)return{title:er.nativeCreator.fullName,subtitle:"",...h({user:er.nativeCreator})};switch(em){case 3375:if(!(null!==(t=er.linkDomain)&&void 0!==t&&null!==(i=t.officialUser)&&void 0!==i&&i.isPrimaryWebsiteVerified))return;let e=null!==(n=er.storyPinData)&&void 0!==n&&n.hasProductPins?er.nativeCreator:er.linkDomain.officialUser;return{title:"",subtitle:null==e?void 0:e.fullName,...h({user:e})};case 0:case 3173:return null!==(l=er.storyPinData)&&void 0!==l&&l.hasProductPins?{title:"",subtitle:null===(a=er.nativeCreator)||void 0===a?void 0:a.fullName,...h({user:er.nativeCreator,linkToBoard:!0})}:{title:er.board&&"protected"===er.board.privacy?eO.bt("Enregistrée par", "Saved by", "Grid pin annotation", undefined, true):(null===(r=er.pinner)||void 0===r?void 0:r.fullName)||"",subtitle:"",...h({user:er.pinner,linkToBoard:!0})};default:return}}},tH=(0,P.hP)({boardFollowedByMe:!!(null!==(eS=er.board)&&void 0!==eS&&eS.followedByMe),feedbackType:null==et?void 0:et.type,viewParameter:em,promotion:er&&er.promoter&&{isDownstreamPromotion:!!er.isDownstreamPromotion},pinnerFollowedByMe:!!(null!==(ek=er.pinner)&&void 0!==ek&&ek.explicitlyFollowedByMe),recommendationReason:er.recommendationReason&&{hasBoard:!!er.recommendationReason.board,reason:null!==(eP=er.recommendationReason.reason)&&void 0!==eP?eP:void 0}}),tG=e=>{var t,i,n;let l={i18n:eO,makeNavigateLink:e};switch(tH){case"pfy":return(0,P.Ud)({...l,feedback:{type:"pfy"}});case"pfyBoard":return(0,P.Ud)({...l,feedback:{type:"pfyBoard",recommendationReasonBoard:(null===(t=er.recommendationReason)||void 0===t?void 0:t.board)&&{name:null!==(i=er.recommendationReason.board.name)&&void 0!==i?i:"",url:null!==(n=er.recommendationReason.board.url)&&void 0!==n?n:""}}});case"topic":return(0,P.Ud)({...l,feedback:{type:"topic",sourceInterest:er.sourceInterest&&er.sourceInterest.name&&er.sourceInterest.urlName?{name:er.sourceInterest.name,url_name:er.sourceInterest.urlName}:null}});case"followed":return(0,P.Ud)({...l,feedback:{type:"followed",followed:er.pinner&&er.pinner.explicitlyFollowedByMe?{type:"pinner",pinner:er.pinner.fullName&&er.pinner.username?{full_name:er.pinner.fullName,username:er.pinner.username}:null}:{type:"board",board:er.board&&er.board.name&&er.board.url?{name:er.board.name,url:er.board.url}:null}}});case"promoted":return(0,P.Ud)({...l,feedback:{type:"promoted",promoter:!er.adMatchReason&&er.promoter&&er.promoter.fullName?{full_name:er.promoter.fullName,username:er.promoter.username}:null}});default:return null}},{attributionSourceId:tW,category:tV,linkDomain:tq,description:tY,gridTitle:tQ,imageSignature:tJ,richMetadata:tX,richSummary:t0,title:t1,sponsorship:t2,storyPinData:t6,carouselData:t4}=er,[t3,t8]="string"==typeof tQ?[tQ,""]:[null==t0?void 0:t0.displayName,tY],t7=null,t9=tx("ads_show_carousel_on_mweb").anyEnabled;t9&&t4&&t4.carouselSlots&&((eM=t4.carouselSlots[e9]).link&&"oneTap"===tj&&(t7=eM.link),eM.title&&(t3=eM.title),eM.details&&(t8=eM.details));let t5=null==t6?void 0:t6.isDeleted,ie=(0,G.Z)((eN&&eN.state||{}).trackingParams||eu,er.trackingParams),it="product"===tj&&!eV,{experimentsClient:ii}=(0,E.B)(),il=eJ&&3375!==em&&(ii.checkExperiment("mweb_pin_grid_image_only_v2").anyEnabled||ii.checkExperiment("mweb_pin_grid_image_only_v2_new_user").anyEnabled),ia=eJ&&!(t0&&43===em&&!eX||3375===em)||il,ir=null===(ej=er.pinJoin)||void 0===ej?void 0:ej.visualAnnotation;o&&ir&&(ir=o({pinId:tn,visualAnnotations:ir}));let io=(0,T.rw)(null!==(eI=er.description)&&void 0!==eI?eI:"",er.descriptionHtml||"",ir,er.altText||"",er.autoAltText||""),is=eV?t8:(0,I.Z)({storyPinDataId:er.storyPinDataId,pinDescription:er.description,richMetadataDescription:null!==(eT=null===(eC=er.richMetadata)||void 0===eC?void 0:eC.description)&&void 0!==eT?eT:"",richSummaryDisplayName:null!==(eF=null===(eA=er.richSummary)||void 0===eA?void 0:eA.displayName)&&void 0!==eF?eF:"",closeupDescription:null!==(eE=er.closeupDescription)&&void 0!==eE?eE:"",closeupUnifiedDescription:null!==(eR=er.closeupUnifiedDescription)&&void 0!==eR?eR:""});null===t7&&(t7="oneTap"===tj?er.trackedLink||er.link:eV?(0,T.BY)(tn):(0,T.bN)({pinId:tn,seoUrl:er.seoUrl}));let id=null;if(!ti&&tB&&null!==(eD=window.document.featurePolicy)&&void 0!==eD&&eD.allowsFeature("attribution-reporting"))try{let e=(0,g.m_)(null!=tW?tW:"0",tL(er),!0,er.campaignId,er.advertiserId);id=`attributionsrc=${encodeURIComponent(e)}`}catch(e){(0,e5.nP)("webapp.arapi.click.funnel",{sampleRate:.1,tags:{status:"failed",error:e.name}})}let iu={accessibilityLabel:io||t3||t8||eO.bt("Épingle", "Pin", "Pin accessibility label", undefined, true),country:eW,deeplinkUri:t7,external:"oneTap"===tj,externalQueryParams:{pin:tn,client_tracking_params:eu},features:id,isAppUpsellDisabled:n,onTouch:e=>{var t;if(tK(),null==d||null===(t=d.onPinClick)||void 0===t||t.call(d),eK){let t=494===eg,i=e.metaKey;if(i||t)(0,L.My)(`unauth_pin_rep.click.cmd_button_pressed.${String(em)}`),e.preventDefault(),window.open(`/pin/${tn}/`,"_blank").focus();else if(!eV&&ez){let{pinImageClickHandler:t}=ez;t({event:e,pinId:tn,linkTarget:"duploClientNav",seoUrl:er.seoUrl})}}else eV||(0,L.My)("unauth_mweb_pin_rep.click",{viewType:eg})},pinCategory:er.category,pressState:"none",rounding:4,title:eO.bt("Voir cette Épingle", "See this Pin", "App Upsell Text after clicking on Pin in feed", undefined, true),to:{pathname:t7,state:{trackingParams:eu,trafficSource:ec,topLevelTrafficSource:es,topLevelTrafficSourceDepth:ed}},upsellType:"direct",viewParameter:em,viewType:eg,clientTrackingParams:ie},ic=(0,W.kb)({hasLinkDomain:!!tq,richMetadata:tX&&{recipe:tX.recipe&&{fromAggregatedData:tX.recipe.fromAggregatedData},products:null===(eL=tX.products)||void 0===eL?void 0:eL.map(({__typename:e,...t})=>t)},richSummary:t0&&{products:t0.products}}),ip=!ee&&["shop_feed"].includes(ec),im=(0,c.useSelector)(({session:e})=>e.unauthSavePinId),ih=eV&&!!im&&im===tn,ig=!eV||ih||b?"":tx("mweb_direct_save_from_grid_v2").group||tx("mweb_direct_save_from_grid_v2_new_user").group||"",i_=ig.includes("footer"),iy=s?0:(0,tg.Z)({isDesktop:eK}),iv=(e,t)=>e&&!t&&tx("closeup_unauth_remove_reactions_grid_dweb").anyEnabled||t&&tx("closeup_auth_remove_reactions_grid_mweb").anyEnabled;return(0,el.jsx)($.dL,{auxData:{commerce_data:tN,pwa_type:eB,...e},component:t,impressionData:{richTypes:er.shoppingFlags||[],imageURL:tC.url||"",isPromoted:tR(er),attributionSourceId:er.attributionSourceId,link:tL(er),campaignId:er.campaignId,advertiserId:er.advertiserId,...tE?{isNativeVideoAndWatchable:!!tE&&!!tE.url&&!!tE.height&&!!tE.width||void 0,videoIdStr:tE&&(null===(eZ=er.videos)||void 0===eZ?void 0:eZ.entityId)||void 0}:{},...en},isPaused:!e2,loggingId:er.entityId,objectIdStr:ea,slotIndex:eo,trackingParams:eu,viewData:ep,viewParameter:em,viewType:eg,children:({impressionTrackerRef:e})=>{var n,s,c,m,g,_,v,x,w,k,j,I,T,C,F,E,D,Z,O,z,N,K,$,H,W,V,q,Y;return(0,el.jsx)(h.xu,{ref:e,children:(0,el.jsxs)(h.xu,{"data-test-id":"pin","data-test-pin-id":tn,marginBottom:eK?0:2,position:"relative",children:[(0,el.jsxs)(h.xu,{dangerouslySetInlineStyle:{__style:e4?{WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"}:{}},"data-test-id":io||t3||t8?"pin-with-alt-text":"pin-missing-alt-text",marginBottom:0,onContextMenu:eK&&(er.nativeCreator||er.pinner)?e=>{e.stopPropagation(),e.preventDefault(),eU((0,el.jsx)(tS.Z,{desktopContextMenuState:{x:e.clientX,y:e.clientY},graphqlRef:J,pinId:tn})),(0,L.My)("pcons.dweb.pin_rep.context_menu.open")}:void 0,padding:iy,children:[(0,el.jsxs)(B.MZ,{...iu,children:[!!tT&&(0,el.jsx)(eb,{inviteCode:tT}),t5?(0,el.jsx)(tw.Z,{isPinRep:!0}):(0,el.jsx)(ts,{carouselIndex:e9,clientTrackingParams:ie,color:null!==(n=er.dominantColor)&&void 0!==n?n:"",description:t8&&(!ia||0===em)?t8.trim():void 0,directSaveExpGroup:ig,disableDefaultContextMenu:()=>e3(!0),disableRounding:a,domainLinkData:er.domain&&er.link?{clickLoggingOptions:{auxData:{objectId:tn,grid_index:eo,sanitized_url:er.link}},domain:er.domain,link:er.link,onClick:null==d?void 0:d.onPinLinkClick}:void 0,image:tC&&{dominant_color:null!==(s=tC.dominantColor)&&void 0!==s?s:void 0,height:null!==(c=tC.height)&&void 0!==c?c:void 0,url:null!==(m=tC.url)&&void 0!==m?m:void 0,width:null!==(g=tC.width)&&void 0!==g?g:void 0},imageAltText:io,imageCrop:!p&&er.imageCrop&&"number"==typeof er.imageCrop.minY&&"number"==typeof er.imageCrop.maxY?{minY:er.imageCrop.minY,maxY:er.imageCrop.maxY}:void 0,isBoardIdeas:3173===em||13184===t,isPromotedPin:tB,isSquarePin:p,lazyLoadImage:y,onError:()=>e6(!1),oneTapSave:b,onLoad:()=>e6(!0),pinGraphqlRef:J,pinId:tn,pinnedToBoardId:null!==(_=null===(v=er.pinnedToBoard)||void 0===v?void 0:v.entityId)&&void 0!==_?_:"",priorityFetchImage:Q,productPrice:"product"===tj&&ee&&!it?tM(er):null,setCarouselIndex:te,setIsLongPressEnabledForAuth:e7,slotIndex:eo,storyDataExists:!!t6,title:ia&&0!==em?void 0:t3,type:tj,videoDuration:tZ(er),viewParameter:em,viewType:eg})]}),"image-only"!==ei&&(eV||eK)&&(0,el.jsxs)(h.xu,{marginBottom:1,marginTop:1,children:[!eV&&eK&&3475!==em&&43!==em&&(0,el.jsx)(tA.ZP,{dedupeVisualAnnotations:o,graphqlRef:J,mode:"inlineWithScrollArrows",pinId:tn}),!it&&(0,el.jsxs)(h.xu,{position:"relative",children:[(0,el.jsx)(B.MZ,{...iu,children:(0,el.jsx)(h.xu,{ref:tt,bottom:!0,left:!0,position:"absolute",right:!0,top:!0})}),(0,el.jsx)(h.iP,{accessibilityLabel:iu.accessibilityLabel,onTap:()=>{var e;null===(e=tt.current)||void 0===e||e.click()},children:(0,el.jsxs)(h.xu,{display:"flex",height:p?ip?104:72:void 0,marginEnd:M||1,marginStart:M||1,marginTop:ig.includes("enabled")?1:0,position:"relative",children:[(0,el.jsx)(eh,{credits:t$(),hasAffiliatedProducts:!!(null!=t6&&t6.hasProductPins),hidePinMetadata:(null==e$?void 0:e$.display_data.hideDesc)||!1,isPromotedPin:tB,isSponsoredPin:!!t2,logCreditsClick:()=>{var e;return eH({view_type:3,element:27,event_type:102,object_id_str:tn,component:er.storyPinDataId?230:void 0,clientTrackingParams:(0,G.Z)(eu,er.trackingParams),aux_data:{pin_id:tn,...null!==(e=er.sponsorship)&&void 0!==e&&e.creator&&er.sponsorship.sponsor?{creator_id:er.sponsorship.creator.entityId,sponsor_id:er.sponsorship.sponsor.entityId}:{}}})},marginTop:M,pinDescription:is,pinGraphqlRef:J,pinId:tn,pinnedToBoardId:null!==(x=null===(w=er.pinnedToBoard)||void 0===w?void 0:w.entityId)&&void 0!==x?x:"",pinReactionCounts:null===(k=er.reactionCountsData)||void 0===k?void 0:k.reduce((e,{reactionCount:t,reactionType:i})=>({...e,[String(null!=i?i:0)]:null!=t?t:0}),{}),recipeReview:"recipe"===tj&&!ia&&!!(null!=t0&&null!==(j=t0.aggregateRating)&&void 0!==j&&j.reviewCount)&&(0,el.jsxs)(h.xu,{alignItems:"center",display:"flex",marginTop:1,children:[(0,el.jsx)(ty,{maxRating:t0.aggregateRating.bestRating||"",rating:t0.aggregateRating.ratingValue||"",text:""}),!!t0.displayCookTime&&(0,el.jsxs)(u.Fragment,{children:[(0,el.jsx)(h.xu,{paddingX:1,children:(0,el.jsx)(h.xv,{size:"100",children:"\xb7"})}),(0,el.jsx)(h.xv,{size:"100",children:(0,U.IS)({...(0,A.u)(t0.displayCookTime),i18n:eO})})]})]}),shouldShowReactions:!l&&(0,tv.J6)({boardIsCollaborative:null===(I=er.board)||void 0===I?void 0:I.isCollaborative,isDownstreamPromotion:er.isDownstreamPromotion,isEligibleForStaticImageIdeaPin:tl,isPromoted:er.isPromoted,storyPinDataId:er.storyPinDataId,videosId:null===(T=er.videos)||void 0===T?void 0:T.entityId})&&3475!==em&&606!==eg&&!(e$&&e$.display_data.hideReactions)&&!iv(eK,eV),showPriceIndicatorInPinCardDetails:ip,title:t3,type:tj}),(0,el.jsxs)(h.xu,{display:"flex",right:!0,children:[!eV||il||t5||r?null:(0,el.jsx)(h.xu,{marginStart:1,marginTop:M,children:(0,el.jsx)(h.xu,{height:26,width:24,children:(0,el.jsx)(f.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,el.jsx)(R.Z,{children:(0,el.jsx)(tz,{adMatchReason:er.adMatchReason,bestPinImgSrc:tP(),feedback:et,feedbackType:tH,getRecommendationDescription:tG,graphqlRef:J,hideSaveOption:null!==(C=er.promotedIsRemovable)&&void 0!==C&&C,imageSignature:null!=tJ?tJ:void 0,isAdsOnlyPin:null!==(F=er.promotedIsRemovable)&&void 0!==F&&F,isLongPressEnabledForAuth:e8,pinCategory:tV,pinDescription:is,pinId:tn,pinTitle:t1,setIsLongPressEnabledForAuth:e7,sourceType:tB?"ad":0===em?"following":void 0,trackingParams:eu,viewParameter:em,viewType:eg})})})})}),i_?(0,el.jsx)(h.xu,{right:!0,children:(0,el.jsx)(h.xu,{children:(0,el.jsx)(th,{clientTrackingParams:ie,directSaveExpGroup:ig,nodeId:er.__id,pinId:tn})})}):null]})]})})]})]}),it&&(0,el.jsx)(tF,{dedupeVisualAnnotations:o,description:er.description,domain:null===(E=er.richSummary)||void 0===E?void 0:E.siteName,gridTitle:null!==(D=er.gridTitle)&&void 0!==D?D:void 0,isSquarePin:p,pinId:tn,priceSummary:ic&&{maxPrice:ic.maxPrice,minPrice:ic.minPrice,price:ic.price,standardPrice:ic.standardPrice},queryRef:J,richMetadataTitle:null===(Z=er.richMetadata)||void 0===Z?void 0:Z.title,richSummaryDisplayName:null===(O=er.richSummary)||void 0===O?void 0:O.displayName,storyPinDataId:er.storyPinDataId,storyPinDataMetadataPinTitle:null===(z=er.storyPinData)||void 0===z?void 0:null===(N=z.metadata)||void 0===N?void 0:N.pinTitle,title:er.title})]}),"reported"===tU?(0,el.jsx)(tp,{color:null!==(K=er.dominantColor)&&void 0!==K?K:"",getFeedbackText:()=>({title:eO.bt("Signalé(e)", "Reported", "message displayed after reporting a pin", undefined, true),subTitle:eO.bt("Merci ! Vos commentaires nous aident à assurer la sécurité au sein de la communauté Pinterest.", "Thanks! Your feedback helps us keep the Pinterest community safe.", "message displayed after reporting a pin", undefined, true)}),pinId:tn,showing:!0}):(0,el.jsx)(tp,{color:null!==($=er.dominantColor)&&void 0!==$?$:"",getFeedbackText:e=>{let t;let{promoter:i}=er;if(tR(er)&&null!=i&&i.fullName)return{title:"",subTitle:(0,S.nk)(eO.bt("{{ promoter }} a rémunéré Pinterest pour que cette Épingle s’affiche à un endroit où vous seriez plus susceptible de la remarquer.", "{{ promoter }} has paid to have this pin show up where you'd be more likely to notice it.", "pinRep.promotedPinfeedbackText.subtitle", undefined, true),{promoter:i.fullName})};switch(tH){case"followed":let{board:n,pinner:l}=er;n&&l&&(t=(0,P.oK)({boardId:n.entityId,i18n:eO,makeNavigateLink:e,display:l.explicitlyFollowedByMe?{type:"board",data:{name:n.name,url:n.url}}:{type:"pinner",data:{full_name:l.fullName,username:l.username}}}));break;case"topic":let{sourceInterest:a}=er;a&&(t=(0,P.Iv)({i18n:eO,makeNavigateLink:e,sourceInterest:{id:a.entityId,name:a.name,url_name:a.urlName}}))}return t?{title:eO.bt("Épingle masquée", "Pin hidden", "message displayed after hiding a pin", undefined, true),subTitle:tG(e),unfollow:t}:{title:eO.bt("Épingle masquée", "Pin hidden", "message displayed after hiding a pin", undefined, true),subTitle:eO.bt("Compris ! Nous essayerons d’afficher des Épingles plus pertinentes à l’avenir.", "Got it! We'll try to show you more relevant Pins in the future.", "message displayed after hiding a pin", undefined, true)}},margin:iy,onUnfollow:()=>e1({pinId:tn,pinFeedbackStatus:"unfollowed"}),pinId:tn,showing:!!tU,unfollowed:"unfollowed"===tU,viewParameter:em,viewType:eg}),!eK&&(null==d?void 0:d.showSeoMetadata)&&!it&&(0,el.jsx)(h.xu,{"data-test-id":"related-pins-title",children:(0,el.jsx)(h.iP,{fullWidth:!1,onTap:()=>{eG({action:"click",item:"related-pins-title"})},children:(0,el.jsx)(tb,{dedupeVisualAnnotations:o,description:er.description,gridTitle:null!==(H=er.gridTitle)&&void 0!==H?H:void 0,pinId:tn,queryRef:J,richMetadataTitle:null===(W=er.richMetadata)||void 0===W?void 0:W.title,richSummaryDisplayName:null===(V=er.richSummary)||void 0===V?void 0:V.displayName,storyPinDataId:er.storyPinDataId,storyPinDataMetadataPinTitle:null===(q=er.storyPinData)||void 0===q?void 0:null===(Y=q.metadata)||void 0===Y?void 0:Y.pinTitle,title:er.title})})}),i]})})}})}let tK=e=>{var t,i,n,l,a,r,o,s,d,u,c,p,m;let h=e=>e&&{entityId:e.id,fullName:e.full_name,imageMediumUrl:e.image_medium_url,imageSmallUrl:e.image_small_url,username:e.username},g=e=>e&&{dominantColor:e.dominant_color,height:e.height,url:e.url,width:e.width},_=e.reaction_counts;return{adMatchReason:e.ad_match_reason,adDestinationUrl:e.ad_destination_url,advertiserId:e.advertiser_id,altText:e.alt_text,attribution:e.attribution&&{embed:e.attribution.embed&&{type:e.attribution.embed.type}},attributionSourceId:e.attribution_source_id,autoAltText:e.auto_alt_text,board:e.board&&{entityId:e.board.id,followedByMe:e.board.followed_by_me,isCollaborative:e.board.is_collaborative,name:e.board.name,privacy:e.board.privacy,url:e.board.url},campaignId:e.campaign_id?String(e.campaign_id):null,category:e.category,closeupDescription:e.closeup_description,closeupUnifiedDescription:e.closeup_unified_description,debug:e.debug,descriptionHtml:e.description_html,description:e.description,domain:e.domain,dominantColor:e.dominant_color,embed:e.embed&&{height:e.embed.height,src:e.embed.src,type:e.embed.type,width:e.embed.width},entityId:e.id,__id:null!==(t=e.node_id)&&void 0!==t?t:"",gridTitle:e.grid_title,imageCrop:e.image_crop&&{minY:e.image_crop.min_y,maxY:e.image_crop.max_y},imageSignature:e.image_signature,imageSpec_136x136:g(null===(i=e.images)||void 0===i?void 0:i["136x136"]),imageSpec_170x:g(null===(n=e.images)||void 0===n?void 0:n["170x"]),imageSpec_236x:g(null===(l=e.images)||void 0===l?void 0:l["236x"]),imageSpec_474x:g(null===(a=e.images)||void 0===a?void 0:a["474x"]),imageSpec_736x:g(null===(r=e.images)||void 0===r?void 0:r["736x"]),imageSpec_orig:g(null===(o=e.images)||void 0===o?void 0:o.orig),isDownstreamPromotion:e.is_downstream_promotion,isEligibleForPdp:e.is_eligible_for_pdp,isEligibleForWebCloseup:e.is_eligible_for_web_closeup,isOosProduct:e.is_oos_product,isPromoted:e.is_promoted,isStaleProduct:e.is_stale_product,linkDomain:e.link_domain&&{officialUser:e.link_domain.official_user&&{fullName:e.link_domain.official_user.full_name,entityId:null!==(s=e.link_domain.official_user.id)&&void 0!==s?s:"",imageMediumUrl:e.link_domain.official_user.image_medium_url,imageSmallUrl:e.link_domain.official_user.image_small_url,username:e.link_domain.official_user.username,isPrimaryWebsiteVerified:e.link_domain.official_user.is_primary_website_verified}},link:e.link,mobileLink:e.mobile_link,nativeCreator:h(e.native_creator),pinnedToBoard:e.pinned_to_board&&{entityId:null!==(d=e.pinned_to_board.id)&&void 0!==d?d:""},pinJoin:e.pin_join&&{visualAnnotation:e.pin_join.visual_annotation},pinner:e.pinner&&{entityId:e.pinner.id,explicitlyFollowedByMe:e.pinner.explicitly_followed_by_me,fullName:e.pinner.full_name,imageMediumUrl:e.pinner.image_medium_url,imageSmallUrl:e.pinner.image_small_url,username:e.pinner.username},promoter:h(e.promoter),promotedIsRemovable:e.promoted_is_removable,reactionCountsData:_&&Object.keys(_).map(e=>({reactionType:Number(e),reactionCount:_[e]})),richMetadata:e.rich_metadata&&{description:e.rich_metadata.description,title:e.rich_metadata.title,article:e.rich_metadata.article&&{__typename:"ArticleMetadata"},recipe:e.rich_metadata.recipe&&{__typename:"RecipeMetadata",fromAggregatedData:e.rich_metadata.recipe.from_aggregated_data},products:e.rich_metadata.products&&e.rich_metadata.products.map(e=>{var t,i,n,l;return{__typename:"RichPinProductMetadata",name:e.name,offerSummary:{maxPrice:null===(t=e.offer_summary)||void 0===t?void 0:t.max_price,minPrice:null===(i=e.offer_summary)||void 0===i?void 0:i.min_price,price:null===(n=e.offer_summary)||void 0===n?void 0:n.price,standardPrice:null===(l=e.offer_summary)||void 0===l?void 0:l.standard_price}}})},richSummary:e.rich_summary&&{aggregateRating:e.rich_summary.aggregate_rating&&{bestRating:e.rich_summary.aggregate_rating.best_rating,ratingValue:e.rich_summary.aggregate_rating.rating_value,reviewCount:e.rich_summary.aggregate_rating.review_count},displayName:e.rich_summary.display_name,displayCookTime:e.rich_summary.display_cook_time,siteName:e.rich_summary.site_name,typeName:e.rich_summary.type_name,products:e.rich_summary.products&&e.rich_summary.products.map(e=>{var t,i,n,l;return{name:e.name,offerSummary:{maxPrice:null===(t=e.offer_summary)||void 0===t?void 0:t.max_price,minPrice:null===(i=e.offer_summary)||void 0===i?void 0:i.min_price,price:null===(n=e.offer_summary)||void 0===n?void 0:n.price,standardPrice:null===(l=e.offer_summary)||void 0===l?void 0:l.standard_price}}})},seoUrl:e.seo_url,shoppingFlags:e.shopping_flags,shouldOpenInStream:e.should_open_in_stream,sourceInterest:e.source_interest&&{entityId:null!==(u=e.source_interest.id)&&void 0!==u?u:"",name:e.source_interest.name,urlName:e.source_interest.url_name},sponsorship:e.sponsorship&&{creator:e.sponsorship.creator&&{entityId:null!==(c=e.sponsorship.creator.id)&&void 0!==c?c:"",fullName:e.sponsorship.creator.full_name,imageMediumUrl:e.sponsorship.creator.image_medium_url,imageSmallUrl:e.sponsorship.creator.image_small_url,username:e.sponsorship.creator.username},sponsor:e.sponsorship.sponsor&&{entityId:null!==(p=e.sponsorship.sponsor.id)&&void 0!==p?p:"",fullName:e.sponsorship.sponsor.full_name,imageMediumUrl:e.sponsorship.sponsor.image_medium_url,imageSmallUrl:e.sponsorship.sponsor.image_small_url,username:e.sponsorship.sponsor.username}},storyPinDataId:e.story_pin_data_id,storyPinData:e.story_pin_data&&{hasProductPins:e.story_pin_data.has_product_pins,isDeleted:e.story_pin_data.is_deleted,metadata:e.story_pin_data.metadata&&{pinTitle:e.story_pin_data.metadata.pin_title}},title:e.title,trackedLink:e.tracked_link,trackingParams:e.tracking_params,videos:e.videos&&{entityId:null!==(m=e.videos.id)&&void 0!==m?m:"",videoList:e.videos.video_list&&{v720P:e.videos.video_list.V_720P&&{duration:e.videos.video_list.V_720P.duration,height:e.videos.video_list.V_720P.height,width:e.videos.video_list.V_720P.width,url:e.videos.video_list.V_720P.url}}},recommendationReason:e.recommendation_reason&&{reason:e.recommendation_reason.reason,reasonId:e.recommendation_reason.reason_id,board:e.recommendation_reason.board&&{name:e.recommendation_reason.board.name,url:e.recommendation_reason.board.url}},carouselData:e.carousel_data&&{index:e.carousel_data.index,carouselSlots:e.carousel_data.carousel_slots?e.carousel_data.carousel_slots.map(e=>({title:e.title,details:e.details,link:e.link})):[]}}};function tU({pinId:e,duploQueryRef:t,...i}){let n=(0,M.Qy)(),{data:l,childDataKey__DEPRECATED:a}=(0,b.sr)(tE,t?{type:"graphqlRef",data:t}:{type:"deprecated",data:e},{type:"pin",useLegacyAdapter:tK});return!!l&&(0,el.jsx)(tN,{...i,debugInfo:n&&l.debug&&(0,el.jsx)(M.Wu,{data:l.debug}),duploQueryRef:"graphqlRef"===a.type?a.data:null,pin:l})}},8742:(e,t,i)=>{"use strict";i.d(t,{CC:()=>c,VU:()=>m,ZP:()=>_,hW:()=>p,jz:()=>h}),i(167912);var n,l=i(240684),a=i(916117),r=i(50286),o=i(19121),s=i(202873),d=i(986901),u=i(785893);let c=(0,l.ZP)({resolved:{},chunkName:()=>"AuthDesktopPinRep",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>Promise.all([i.e(67631),i.e(60310),i.e(11600),i.e(40706),i.e(2984)]).then(i.bind(i,656226)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return i(t)},resolve:()=>656226}),p=(0,l.ZP)({resolved:{},chunkName:()=>"DefaultPinRep",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>Promise.all([i.e(97270),i.e(10966),i.e(11600),i.e(69083),i.e(39921)]).then(i.bind(i,369083)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return i(t)},resolve:()=>369083}),m=(0,d.Z)(()=>Promise.all([i.e(67631),i.e(60310),i.e(11600),i.e(40706),i.e(2984)]).then(i.bind(i,656226)),void 0,"AuthDesktopPinRep"),h=(0,d.Z)(()=>Promise.all([i.e(97270),i.e(10966),i.e(11600),i.e(69083),i.e(39921)]).then(i.bind(i,369083)),void 0,"DefaultPinRep"),g=void 0!==n?n:n=i(875666);function _(e){let t=(0,r.HG)(),i=(0,s.b)(),n=(0,o.Z)(),l=n&&n.isAuth&&t,d=(0,a.Z)(g,e.duploQueryRef);if(l&&!e.duploQueryRef){let{disableReaction:t,disableRounding:n,disableAppUpsell:l,duploDedupeVisualAnnotations:a,duploDisablePinCardPadding:r,duploFeedItemProps:o,duploIsSquarePin:s,duploLazyLoadImage:d,duploOneTapSave:p,duploPinCardDetailsMargin:h,duploPriorityFetchImage:g,duploQueryRef:_,duploShouldAddNiiSearchParamToImageUrls:y,duploShouldAllowProductPriceIndicator:v,duploConversationPin:f,topLevelTrafficSource:x,topLevelTrafficSourceDepth:b,trafficSource:w,...S}=e;return i?(0,u.jsx)(m,{...S}):(0,u.jsx)(c,{...S})}let{attributionOption:_,blockClickEvents:y,borderStyle:v,disableHover:f,imageHeightModifier:x,imageOnlyOption:b,onError:w,onLoad:S,pin:k,pinImageCrop:P,pinImageFit:j,resolution:I,rounding:T,saveButtonOptions:C,authDesktopSelectionState:F,authDesktopSurface:A,pinOwner:E,...R}=e;return i?(0,u.jsx)(h,{...R,duploQueryRef:d}):(0,u.jsx)(p,{...R,duploQueryRef:d})}},733319:(e,t,i)=>{"use strict";function n({isDesktop:e}){return e?0:1}i.d(t,{Z:()=>n})},167525:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(883119),l=i(643010),a=i(898781),r=i(785893);function o({text:e,icon:t,largeIdentifier:i,largeMargin:o}){let s=(0,a.ZP)();return(0,r.jsxs)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{backgroundColor:(0,l.Yc)()?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.8)"}},"data-test-id":"PinTypeIdentifier",display:"flex",height:i?36:24,margin:o?4:2,overflow:"hidden",padding:2,paddingX:i?4:void 0,position:"absolute",rounding:"pill",top:!0,zIndex:new n.Ry(1),children:[t&&(0,r.jsx)(n.xu,{marginEnd:i?2:1,children:(0,r.jsx)(n.JO,{accessibilityLabel:s.bt("identifiant qui indique le type d’Épingle", "identifier that shows the pin type", "pin.pincard.iconAccessibilityLabel", undefined, true),color:"default",icon:t,inline:!0,size:i?18:12})}),(0,r.jsx)(n.xv,{inline:!0,size:i?"200":"100",weight:"bold",children:e})]})}},255607:(e,t,i)=>{"use strict";function n(e){let t=Object.keys(e);if(t.length>0){let i=t.sort((t,i)=>e[i]-e[t]).slice(0,3);return i}return null}function l(e){let t=Object.values(e);if(t.length>0){let e=t.reduce((e,t)=>e+t,0);return e}return 0}function a({boardIsCollaborative:e,isDownstreamPromotion:t,isPromoted:i,storyPinDataId:n,videosId:l,isEligibleForStaticImageIdeaPin:a}){return!i&&!t&&(!!l||!!n)&&(null==e||!e)&&!a}i.d(t,{At:()=>n,J6:()=>a,Ud:()=>l})},130460:(e,t,i)=>{"use strict";i.d(t,{bn:()=>o,fJ:()=>d,gC:()=>s});var n=i(702664),l=i(425288),a=i(785893);let{Provider:r,useHook:o}=(0,l.Z)("Boards");function s(){let e=o();return t=>e[t]}function d({children:e}){let t=(0,n.useSelector)(({boards:e})=>e,n.shallowEqual);return(0,a.jsx)(r,{value:t,children:e})}},350118:(e,t,i)=>{"use strict";i.d(t,{AF:()=>o,H0:()=>s,S6:()=>d,_S:()=>u});var n=i(702664),l=i(425288),a=i(785893);let{Provider:r,useHook:o,useMaybeHook:s}=(0,l.Z)("Pins");function d(){let e=o();return t=>e[t]}function u({children:e}){let t=(0,n.useSelector)(({pins:e})=>e,n.shallowEqual);return(0,a.jsx)(r,{value:t,children:e})}},698330:(e,t,i)=>{"use strict";i.d(t,{Tt:()=>c,cm:()=>u,kW:()=>s,kY:()=>p,mN:()=>d});var n=i(702664),l=i(425288),a=i(19121),r=i(785893);let{Provider:o,useHook:s}=(0,l.Z)("Users");function d(){let e=s();return t=>e[t]}function u(){let e=s();return(t,i=!1)=>{let n=Object.keys(e).find(i=>e[i].username===t);if(n||!i)return e[null!=n?n:""]}}function c(){let{id:e}=(0,a.Z)(),t=s();return t[null!=e?e:""]}function p({children:e}){let t=(0,n.useSelector)(({users:e})=>e,n.shallowEqual);return(0,r.jsx)(o,{value:t,children:e})}},284367:(e,t,i)=>{"use strict";i.d(t,{Z:()=>g});var n=i(667294),l=i(883119),a=i(920231),r=i(444445),o=i(317254),s=i(740990),d=i(50286),u=i(829407),c=i(679031),p=i(22145),m=i(698629),h=i(785893);function g({customLayoutType:e,emptyState:t,feedItems:i,feedKey:g,pagination:{hasNext:_,isLoadingNext:y,loadNext:v,refetch:f},pullToRefresh:x,renderFeedItem:b,serverRender:w}){let S=(0,d.HG)(),[k,P]=(0,n.useState)(!1),j="userSearch"===e?window.innerWidth-16:200,I=y&&0===i.length&&!k,T="desktopFlashlight"===e?0:r.qG;return(0,u.Z)(()=>(window.addEventListener("online",v),()=>window.removeEventListener("online",v))),(0,h.jsxs)(l.xu,{"data-test-id":"MobileFeed",children:[(0,h.jsx)(p.Z,{enabled:!!x,onPull:()=>{f(),P(!0)},refreshing:k}),(0,h.jsxs)(l.xu,{"data-test-id":"grid",marginEnd:T,marginStart:T,opacity:k?.5:1,children:[(0,h.jsx)(o.Z,{isAtEndOfFeed:!_,itemCount:i.length,children:i.length?(0,h.jsx)(l.xu,{"data-test-id":"feed",marginTop:(0,c.kk)({isDesktop:S}),children:(0,h.jsx)(s.Z.Consumer,{children:t=>(0,h.jsx)(n.Fragment,{children:(0,h.jsx)(c.c$,{children:(0,h.jsx)(a.Z,{cacheKey:g,columnWidth:S?r.yF:j,gutterWidth:S?4*r.jC:void 0,id:w?g:void 0,items:i,loadItems:v,minCols:"userSearch"===e?1:2,renderItem:({data:e,itemIdx:t})=>b(e,t),scrollContainerRef:t,serverRender:w})})})})}):y?(0,h.jsx)(c.gG,{}):null!=t?t:null}),I&&(0,h.jsx)(l.xu,{column:12,paddingY:2,children:(0,h.jsx)(m.Z,{partialViewportWidth:"desktopFlashlight"===e})})]})]})}},914142:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d,j:()=>s});var n=i(883119),l=i(898781),a=i(349700),r=i(773285),o=i(785893);let s=[0,2,3];function d({hasAffiliatedProducts:e,isPromoted:t,sponsorName:i,sponsorshipStatus:d,textColor:u}){let c;let p=(0,l.ZP)(),m=(0,r.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled;return t?c=(0,a.nk)(p.bt("Sponsorisée par {{ name }}", "Promoted by {{ name }}", "sponsorship.sponsorshipText.promotedByBrand", undefined, true),{name:i}):d||0===d?i&&!s.includes(d)?c=(0,a.nk)(p.bt("Partenariat rémunéré avec {{ name }}", "Paid partnership with {{ name }}", "closeup.creator.sponsoredPinTitle", undefined, true),{name:i}):2!==d&&(c=p.bt("Partenariat rémunéré", "Paid partnership", "closeup.creator.sponsoredPinTitle", undefined, true)):e&&(c=p.bt("Comprend des produits sponsorisés", "Includes sponsored products", "sponsorship.sponsorshipText.affiliatedProducts", undefined, true)),(0,o.jsxs)(n.xv,{color:u,size:"100",children:[m&&!t&&"Ad • "||"",(0,o.jsx)(a.r7,{text:c})]})}},156637:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var n=i(667294),l=i(385740),a=i(594736),r=i(999023),o=i(785893);class s extends n.Component{componentDidMount(){let{setCurrentPageData:e,viewData:t,viewParameter:i,viewType:n}=this.props;e({viewData:t,viewParameter:i,viewType:n})}componentDidUpdate(e){let{setCurrentPageData:t,viewData:i,viewParameter:n,viewType:l}=this.props;n===e.viewParameter&&l===e.viewType&&(0,a.ZP)(i,e.viewData)||t({viewData:i,viewParameter:n,viewType:l})}componentWillUnmount(){this.props.clearCurrentPageData()}render(){let{auxData:e,children:t,component:i,objectIdStr:n,viewData:l,viewParameter:a,viewType:s,clientTrackingParams:d}=this.props;return(0,o.jsx)(r.Z,{auxData:e,clientTrackingParams:d,component:i,objectIdStr:n,viewData:l,viewParameter:a,viewType:s,children:t})}}function d(e){let{setViewContextData:t,clearViewContextData:i}=(0,l.sV)();return(0,o.jsx)(s,{...e,clearCurrentPageData:i,setCurrentPageData:t})}},999023:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(667294),l=i(112690),a=i(867820);let r=e=>Object.keys(e).reduce((t,i)=>(void 0===e[i]&&delete t[i],t),{...e}),o=({viewType:e,viewParameter:t,viewData:i,auxData:n,objectIdStr:l,component:o,clientTrackingParams:s,element:d},u)=>{let c=r({event_type:13,view_type:e,view_parameter:t,view_data:i,aux_data:n,object_id_str:l,component:o,clientTrackingParams:s,element:d});-1===Object.keys(c).indexOf("view_type")&&(0,a.My)("mweb.logging.null_view_type"),u(c)};function s(e){let{auxData:t,clientTrackingParams:i,children:a,component:r,element:s,objectIdStr:d,viewData:u,viewParameter:c,viewType:p}=e,m=(0,l.Z)(),h=JSON.stringify(t),g=JSON.stringify(u);return(0,n.useEffect)(()=>{o(e,m)},[m,h,i,r,s,d,g,c,p]),n.Children.only(a)}},598615:(e,t,i)=>{"use strict";i.d(t,{B:()=>g,Z:()=>_});var n=i(667294),l=i(616550),a=i(407043),r=i(385740),o=i(53987),s=i(780280),d=i(867820),u=i(52022),c=i(938917),p=i(329900),m=i(67347),h=i(785893);let g=(e,t)=>"/"===e.pathname?"/":(0,o.am)(e)&&t?`board/${e.pathname.substr(1)}`:e.pathname.substr(1);function _({children:e,componentType:t,app_upsell_type:i}){let o=(0,l.TH)(),{flushContextEvents:_,logContextEvent:y}=(0,a.v)(),{viewType:v,viewParameter:f}=(0,r.SU)(),x=(0,u.Z)(),{userAgent:{platform:b}}=(0,s.B)();(0,n.useEffect)(()=>{x({action:"view",item:"download-button",within:i})},[o,i,x]);let w=(0,n.useRef)(!1);(0,n.useEffect)(()=>{v&&202!==v?(y({component:t||13106,element:10308,event_type:9976,view_type:v,view_parameter:f,aux_data:{app_upsell_type:i,app_upsell_is_dupe:w.current}}),w.current=!0):(0,m.nP)("webapp.track_app_upsell_viewed_invalid_parameters",{sampleRate:1,tags:{component:t,view_type:v,view_parameter:f,app_upsell_type:i,app_upsell_is_dupe:w.current}})},[t,y,f,v,i]);let S=(0,c.Z)();return(0,n.useEffect)(()=>{S||(0,d.My)(`mweb.app_upsell.forbidden_upsell.${i}`)},[S,i]),(0,h.jsx)(p.Z,{children:n=>e({handleOpenApp:e=>{if(x({action:"click",item:"download-button",within:i}),(0,d.NC)("press_open_app",!0),y({component:t||13106,element:10308,event_type:102,view_type:v||202,view_parameter:f,aux_data:{app_upsell_type:i}}),y({component:t||13106,element:10308,event_type:9977,view_type:v||202,view_parameter:f,aux_data:{app_upsell_type:i}}),_(!0),n){var l;y({component:t||13106,element:10308,event_type:1701,view_type:v||202,view_parameter:f,aux_data:{app_upsell_type:i}}),n(null!==(l=null==e?void 0:e.deepLinkUri)&&void 0!==l?l:g(o,"android"===b),i)}}})})}},296679:(e,t,i)=>{"use strict";i.d(t,{Z:()=>g});var n=i(883119),l=i(413764),a=i(430322),r=i(898781),o=i(287072),s=i(780280),d=i(50286),u=i(598615),c=i(664166),p=i(948376),m=i(785893);let h=({deepLinkUri:e,isOpen:t,onDismiss:i,onOpenInApp:c,to:h,app_upsell_type:g})=>{let _=(0,r.ZP)(),y=(0,d.Wb)(),{isBot:v,userAgent:{platform:f,raw:x}}=(0,s.B)(),b=(0,p.Rp)({isBot:v,platform:f,userAgent:x}),w=(0,o.Z)({href:null!=h?h:""}),S=y?60:40;return(0,m.jsx)(a.default,{accessibilityModalLabel:"",closeOnOutsideClick:!1,isOpen:t,mobileHideCloseIcon:!0,onDismiss:()=>{},type:"app_upsell_v1",zIndex:new n.Ry(101),children:(0,m.jsx)(u.Z,{app_upsell_type:g,componentType:14157,children:({handleOpenApp:t})=>(0,m.jsxs)(n.xu,{"data-test-id":"appUpsell-iframe",padding:3,children:[(0,m.jsx)(n.xu,{display:"inlineBlock",position:"absolute",children:(0,m.jsx)(n.xu,{"data-test-id":"appUpsell-continue",children:(0,m.jsx)(n.hU,{accessibilityLabel:_.bt("icône fermeture arrière-plan", "close icon background", "accesibility label for close icon on a overlay", undefined, true),icon:"cancel",iconColor:"gray",onClick:({event:e})=>{i({event:e}),w&&!e.defaultPrevented&&w({event:e})},size:"lg"})})}),(0,m.jsxs)(n.xu,{paddingX:2,paddingY:6,children:[(0,m.jsx)(n.xu,{display:"flex",justifyContent:"center",paddingY:2,children:b?(0,m.jsx)(l.Z,{size:S}):(0,m.jsx)(n.JO,{accessibilityLabel:"Pinterest App",color:"brandPrimary",icon:"pinterest",size:S})}),(0,m.jsxs)(n.kC,{alignItems:"stretch",direction:"column",justifyContent:"center",children:[(0,m.jsx)(n.xu,{paddingY:2,children:(0,m.jsx)(n.X6,{align:"center",size:"400",children:b?_.bt("Essayer Pinterest Lite", "Try Pinterest Lite", "mweb.app_upsell.lite_app_upsell_title", undefined, true):_.bt("L’expérience Pinterest est plus agréable sur l’application", "Pinterest is better on the app", "mweb.unauth.app_upsell.app_value_prop2", undefined, true)})}),(0,m.jsx)(n.xv,{align:"center",size:"300",children:b?_.bt("Une manière de découvrir de nouvelles idées tout en économisant de l’espace", "A space-saving way to discover new ideas", "mweb.app_upsell.lite_app_value_prop", undefined, true):_.bt("Continuez sur l’application pour bénéficier de l’expérience complète", "Continue in the app for the full experience", "mweb.app_upsell.description4", undefined, true)}),(0,m.jsx)(n.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{display:"grid"}},justifyContent:"center",marginTop:8,children:(0,m.jsx)(n.zx,{color:"red",fullWidth:!0,onClick:()=>{t({deepLinkUri:e}),c()},size:"lg",text:_.bt("Ouvrir l’application", "Open app", "mweb.app_upsell.app_upsell_button_text1", undefined, true)})})]})]})]})})})};function g({clientTrackingParams:e,deepLinkUri:t,isOpen:i,onDismiss:n,onOpenInApp:l,shouldTrackDismiss:a,to:r,viewParameter:o,viewType:s,app_upsell_type:d}){return(0,m.jsx)(c.Z,{clientTrackingParams:e,viewParameter:o,viewType:s,children:(0,m.jsx)(h,{app_upsell_type:d,deepLinkUri:t,isOpen:i,onDismiss:e=>{a&&(0,c.y)(),n(e)},onOpenInApp:()=>{(0,c.y)(),l()},to:r})})}},664166:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c,y:()=>u});var n=i(667294),l=i(30287),a=i(844974),r=i(339363),o=i(807609),s=i(999023),d=i(785893);let u=()=>{(0,a.Nh)("appUpsell",Date.now()),(0,a.qn)("firstUpsellTime")||(0,a.Nh)("firstUpsellTime",Date.now()),(0,r.Nh)("showedAppUpsellCurrentSession",!0)};function c({children:e,clientTrackingParams:t,viewParameter:i,viewType:a}){let r=(0,o.Z)();return r||(0,l.FP)(window)?null:(0,d.jsx)(s.Z,{clientTrackingParams:t,component:13106,viewParameter:i,viewType:a,children:(0,d.jsx)(n.Fragment,{children:e})})}},938917:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(702664);let l=()=>(0,n.useSelector)(({session:{canUseNativeApp:e}})=>e)},966676:(e,t,i)=>{"use strict";i.d(t,{Nb:()=>o,Of:()=>s,YO:()=>r,ZP:()=>c,x4:()=>u});var n=i(667294),l=i(499659),a=i(92261);let r=({showProductDetailPage:e,isLargerPane:t,showCloseupContentRight:i})=>e&&t?i?a.Uj:a.zT:1,o=(0,l.qe)(({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:i,showProductDetailPage:n,viewportSize:l,maxWidth:a,descriptionPaneWidth:r,isCloseupRelatedPinsAboveTheFoldEnabled:o,stackedCloseupEnabled:s,isInRemoveMagnifyingGlassVariant:d})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:i,showProductDetailPage:n,viewportSize:l,maxWidth:a,descriptionPaneWidth:r,isCloseupRelatedPinsAboveTheFoldEnabled:o,stackedCloseupEnabled:s,isInRemoveMagnifyingGlassVariant:d})),s={showCloseupContentRight:!0,showProductDetailPage:!1,viewportSize:"lg",paneWidth:a.Gg,pdpCarouselSlotToPaneRatio:1,maxWidth:a.u6,descriptionPaneWidth:a.u6-a.Gg,isCloseupRelatedPinsAboveTheFoldEnabled:!1,stackedCloseupEnabled:!1,isInRemoveMagnifyingGlassVariant:!1},d=(0,n.createContext)(s);function u(){let e=(0,n.useContext)(d);if(!e)throw Error("useCloseupContext must be used within CloseupContextProvider");return e}let c=d},92261:(e,t,i)=>{"use strict";i.d(t,{$T:()=>_,CI:()=>a,Ch:()=>o,Ey:()=>v,Gb:()=>s,Gg:()=>n,Ie:()=>p,KP:()=>m,Kn:()=>r,Uj:()=>d,bx:()=>h,d2:()=>c,g9:()=>g,iB:()=>f,pw:()=>y,u6:()=>l,zT:()=>u});let n=508,l=2*n,a=488,r=992,o=672,s=1176,d=.6,u=.84,c=40,p=72,m=740,h=912,g=32,_=24,y=1612,v=1360,f={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},398789:(e,t,i)=>{"use strict";i.d(t,{Z:()=>w});var n=i(667294),l=i(883119),a=i(898781),r=i(773285),o=i(523657),s=i(780280),d=i(700380),u=i(50286),c=i(411465),p=i(398061),m=i(616550),h=i(667679),g=i(622096),_=i(867820),y=i(52022),v=i(785893);function f({setShowClickthroughOverlay:e,isEligibleForPdp:t,isEligibleForDesktopSocialInviteOverlay:i,inviterFirstName:o,imageSignature:s,pinId:d}){let c=(0,a.ZP)(),p=(0,y.Z)(),f=(0,h.Z)(),{checkExperiment:x}=(0,r.F)(),b=(0,n.useRef)(),w=(0,u.ZP)(),S="desktop"===w,k=o&&i,P=S&&x("dweb_unauth_main_pin_visual_search_v2").group,j="enabled_2_no_upsell"===P||"enabled_rollout"===P||"enabled_1_nav_upsell_post_land"===P,I=k&&(c.bt("Inscrivez-vous pour rejoindre {{ name }} sur Pinterest", "Sign up to join {{ name }} on Pinterest", "pin.closeup.wash.desktop.shareNotification", undefined, true)).replace("{{ name }}",o),T=j?c.bt("Quelque chose vous plaît ? Appuyez pour effectuer une recherche dans cette image", "See something you like? Tap to search inside this image", "web.unauth.plp.clickable_wash.header", undefined, true):c.bt("Cliquez pour profiter au mieux de cette idée avec un compte gratuit", "Click to make the most out of this idea with a free account", "web.unauth.plp.clickable_wash.header", undefined, true),C=c.bt("Appuyez pour profiter au mieux de cette idée avec un compte gratuit", "Tap to make the most out of this idea with a free account", "mweb.unauth.plp.clickable_wash.header", undefined, true),F=(0,m.k6)();return(0,v.jsx)(l.iP,{onMouseEnter:()=>{k&&(0,_.My)("dweb.main_pin.social.wash.view"),(0,_.My)("dweb.pin.wash.view")},onMouseLeave:()=>{k&&(0,_.My)("dweb.main_pin.social.wash.dismiss"),(0,_.My)("dweb.pin.wash.dismiss")},onTap:({event:e})=>{if(S){if(e.preventDefault(),p({action:"click",item:"pin-image"}),i&&o&&(0,_.My)("dweb.main_pin.social.wash.click"),j){let e=`/pin/${d}/visual-search/?`;s&&(e+=`imageSignature=${s}`),F.push(e),g.Z.setItem("VISUAL_SEARCH_SOURCE","MAIN_PIN_WASH")}else(0,_.My)("dweb_unauth_main_pin_image_click.signup_modal.show"),f({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_closeup",desktopOptions:{modalType:"signup",modalOptions:{source:"defaultSource",container:"pinWash"}}});t&&(0,_.My)("unauth.pdp.pin.img.click",{device:w})}},children:(0,v.jsxs)(l.xu,{zIndex:new l.Ry(2),children:[(0,v.jsx)(l.xu,{ref:b,alignItems:"center",bottom:!0,"data-test-id":"main-pin-hover-overlay",direction:"column",display:"flex",height:"100%",justifyContent:i?"center":void 0,left:!0,position:"absolute",right:!0,top:!0,width:"100%",children:(0,v.jsx)(l.xu,{alignItems:"center",direction:"column",display:"flex",maxWidth:j?260:240,paddingY:10,children:(0,v.jsx)(l.xu,{marginTop:8,children:(0,v.jsx)(l.X6,{align:"center",color:"light",size:k?"500":"400",children:S?I||T:C})})})}),!S&&(0,v.jsx)(l.xu,{marginEnd:4,marginTop:4,position:"absolute",right:!0,top:!0,children:(0,v.jsx)(l.hU,{accessibilityLabel:c.bt("Bulle cliquable pour fermer l’Épingle", "Close pin clickable wash", "mweb.unauth.plp.clickable_wash.close_button", undefined, true),icon:"cancel",iconColor:"white",onClick:({event:t})=>{t.stopPropagation(),e&&(e(!1),(0,_.My)("main.pin.wash.cancel"))},size:"md"})})]})})}var x=i(691720),b=i(872482);let w=e=>{var t;let i=(0,a.ZP)(),{alt:m,clickthroughOverlayOptions:h,color:g,isFlashlightPage:_,naturalHeight:y,naturalWidth:w,placeholder:S,pinImageResizePercent:k=100,pwtElementTimingId:P,pwtSurfaceContext:j,setShowClickthroughOverlay:I,showSpinner:T,src:C,stickyFooter:F,isEligibleForPdp:A,pinId:E,imageSignature:R}=e,D=(0,c.Z)(),{checkExperiment:L}=(0,r.F)(),Z=!D,{isAuthenticated:M}=(0,s.B)(),O=(0,u.ZP)(),z="desktop"===O,N=M&&!z&&L("auth_mweb_inline_action_bar").anyEnabled,K=(0,n.useRef)(),[U,B]=(0,n.useState)(!Z||!!C&&!!S&&S===C),$=(0,n.useRef)(""),H=()=>{j&&j.markConstraintComplete("PinPageMainImageRendered")};(0,n.useEffect)(()=>{let e=new Image;e.onload=()=>B(!0),e.src=C},[]);let G=(0,n.useRef)(null===(t=(0,b.a)())||void 0===t?void 0:t.setHasScrolledPastMainContent);(0,n.useEffect)(()=>{let e=(0,d.Z)(()=>{if(K.current){var t;let i=window.scrollY>K.current.offsetTop+K.current.offsetHeight;null===(t=G.current)||void 0===t||t.call(G,i),i&&window.removeEventListener("scroll",e)}},10);window.addEventListener("scroll",e)},[]);let[W,V]=(0,n.useState)();(0,n.useEffect)(()=>{K.current&&V(K.current.scrollHeight)},[]);let q=!_&&"tablet"===O,Y=Z?(0,v.jsx)(o.Z,{alt:m,color:g,elementTiming:P,naturalHeight:y,naturalWidth:w,onLoad:H,src:S}):null;return(0,v.jsxs)(l.xu,{ref:K,dangerouslySetInlineStyle:{__style:{transition:100===k?"":"width 500ms ease-in-out"}},"data-test-id":"pin-closeup-image",marginTop:"tablet"===O&&N?12:0,maxHeight:"100%",maxWidth:"tablet"===O?x.g6:void 0,minHeight:100===k?W:void 0,overflow:F?void 0:"hidden",position:"relative",rounding:_||"phone"===O?0:6,width:_||"phone"===O?`${k}%`:z?508:x.Hg,children:[!M&&h&&"enabled_3_no_wash_upsell_post_land"!==L("dweb_unauth_main_pin_visual_search_v2").group&&(0,v.jsx)(p.Z,{isImagePinForUnauthOnTablet:!1,children:(0,v.jsx)(f,{imageSignature:R||"",inviterFirstName:$.current,isEligibleForPdp:A,pinId:E||"",setShowClickthroughOverlay:I})}),Y&&(q?(0,v.jsx)(l.xu,{overflow:"hidden",rounding:6,children:Y}):Y),(0,v.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:U?1:0,transition:U&&!z?"opacity .5s ease-in-out":void 0,backgroundColor:g}},left:!0,overflow:q?"hidden":void 0,position:Z?"absolute":"relative",right:!0,rounding:q?6:5,top:!0,children:Z?(0,v.jsx)(l.Ee,{alt:m,naturalHeight:y,naturalWidth:w,src:C}):(0,v.jsx)(o.Z,{alt:m,color:g,elementTiming:P,naturalHeight:y,naturalWidth:w,onLoad:H,src:C})}),T&&(0,v.jsx)(l.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{opacity:U?0:1,transition:U?"opacity .5s ease-in-out":void 0}},display:"flex",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:!U&&(0,v.jsx)(l.kC,{alignItems:"center",justifyContent:"start",children:(0,v.jsx)(l.$j,{accessibilityLabel:i.bt("Chargement de l’image", "Loading image", "Loading higher resolution image", undefined, true),show:!0})})}),F]})}},763839:(e,t,i)=>{"use strict";i.d(t,{w:()=>s,z:()=>o});var n=i(667294),l=i(425288),a=i(785893);let{Provider:r,useMaybeHook:o}=(0,l.Z)("CloseupPreviewContext");function s({children:e}){let[t,i]=(0,n.useState)(Object.freeze({})),l=(0,n.useMemo)(()=>({setData:(e,t)=>i(i=>({...i,[e]:t})),getData:e=>t[e]}),[t]);return(0,a.jsx)(r,{value:l,children:e})}},361115:(e,t,i)=>{"use strict";i.d(t,{J1:()=>d,Uw:()=>s,Yg:()=>c,ib:()=>m});var n=i(773285),l=i(780280),a=i(50286),r=i(67347);let o=()=>{let{isAuthenticated:e,isBot:t}=(0,l.B)();return t?"bot":e?"auth":"unauth"},s=({isDesktop:e,viewerType:t})=>"bot"===t?"seo_graphql_pin_page":"auth"===t?e?"auth_dweb_graphql_pin_page":"auth_mweb_graphql_pin_page":e?"unauth_dweb_graphql_pin_page":"unauth_mweb_graphql_pin_page",d=()=>{let e=(0,a.HG)(),t=o();return s({isDesktop:e,viewerType:t})},u=({checkExperiment:e,isAuthMweb:t})=>{let i=t&&e("auth_mweb_graphql_pin_page",{dangerouslySkipActivation:!0}).group;return i?e=>(0,r.nP)("webapp.graphql.debug_auth_mweb_graphql_pin_page",{sampleRate:1,tags:{event:e,group:i}}):null},c=()=>{let{isAuthenticated:e}=(0,l.B)(),t=(0,a.HG)(),{checkExperiment:i}=(0,n.F)();return u({checkExperiment:i,isAuthMweb:e&&!t})},p=0,m=({checkExperiment:e,isAuthMweb:t})=>{let i=u({checkExperiment:e,isAuthMweb:t});i&&(p+=1)<10&&i(`repin_${p}`)}},435497:(e,t,i)=>{"use strict";i.d(t,{Z:()=>f});var n=i(667294),l=i(883119),a=i(729884),r=i(407043),o=i(444445),s=i(564194),d=i(391254),u=i(773285),c=i(780280),p=i(829407),m=i(785893);function h({index:e,length:t,showBadge:i}){return(0,m.jsx)(l.xu,{alignItems:"center",color:"selected",dangerouslySetInlineStyle:{__style:{opacity:i?.8:0,transition:"opacity .3s"}},display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new l.Ry(1),children:(0,m.jsx)(l.xv,{color:"inverse",children:`${(null!=e?e:0)+1}/${t}`})})}let g=({index:e})=>{let[t,i]=(0,n.useState)(!0),l=(0,n.useRef)(),a=(0,n.useRef)();return(0,n.useEffect)(()=>(l.current=setTimeout(()=>{i(!1)},3e3),()=>{clearTimeout(l.current)}),[]),(0,n.useEffect)(()=>{if(!a.current){a.current=e;return}clearTimeout(l.current),i(!0)},[e]),{showBadge:t}};var _=i(455024),y=i(350118);let v=`
  .horizontal-scroll-container {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }
  ::-webkit-scrollbar {
    display: none;
  }`;function f(e){var t,i;let{children:f,componentType:x,containerRef:b,contextLogData:w,disableTransition:S,gap:k=0,height:P,id:j,impressionType:I,index:T,shouldBeDragCarousel:C,showCarouselBadge:F,styleOverrides:A,slideWidth:E,view:R,viewParameter:D,widthRatio:L=1}=e,{showBadge:Z}=g({index:T}),{logContextEvent:M}=(0,r.v)(),O=(0,y.S6)()(j),z=(0,n.useRef)(),N=(0,n.useRef)(),K=(0,n.useRef)(0),U=(0,n.useRef)(),{checkExperiment:B}=(0,u.F)(),{isAuthenticated:$}=(0,c.B)();if((0,p.Z)(()=>{let e=N.current;if(!e)return;let t=()=>{let e=B($?"web_use_intersection_observer_for_getboundingclientrect_auth":"web_use_intersection_observer_for_getboundingclientrect_unauth").anyEnabled,t=K.current;if(e){let e=new IntersectionObserver(([i])=>{var n;let l=-(null!==(n=i.boundingClientRect.x)&&void 0!==n?n:0);Math.abs(t-l)>=10&&M({component:x,event_type:"right"==(t<l?"right":"left")?9315:9316,view_type:R,view_parameter:D}),K.current=l,U.current&&e.unobserve(U.current)});U.current&&e.observe(U.current)}else{var i,n;let e=-(null!==(i=null===(n=U.current)||void 0===n?void 0:n.getBoundingClientRect().x)&&void 0!==i?i:0);Math.abs(t-e)>=10&&M({component:x,event_type:"right"==(t<e?"right":"left")?9315:9316,view_type:R,view_parameter:D}),K.current=e}};return C&&e.addEventListener("touchend",t),()=>{C&&e.removeEventListener("touchend",t)}}),L>1||L<0)throw Error("widthRatio should be between 0 and 1 inclusive");let H=Math.floor(E*L),G=n.Children.toArray(f),W=G.length*H,V=(null===(t=b.current)||void 0===t?void 0:t.clientWidth)||W,q=null!==(i=null==A?void 0:A.justifyContent)&&void 0!==i?i:V>W?"center":"start";return(0,m.jsx)("div",{className:"BoardMoreIdeasRep"===I?"moreIdeasBoardRepCarousel":"",children:(0,m.jsxs)(l.xu,{alignItems:"center","data-test-id":"carousel-pin",display:"flex",justifyContent:q,overflow:"hidden",width:C?"100vw":void 0,children:[F&&(0,m.jsx)(h,{index:T,length:G.length,showBadge:Z}),"BoardMoreIdeasRep"!==I&&(0,m.jsx)(a.P,{pinKey:null!=O?{type:"deprecated",data:O}:null,children:e=>{var t,i;return(0,m.jsx)(s.Z,{carouselData:e&&{...e,type:"canonical"},contextLogData:w,impressionType:"Pin",loggingId:j,slotIndex:T,trackCarousel:!0,viewParameter:null!=D?D:72,viewType:null!=R?R:1,children:(0,m.jsx)(l.xu,{height:null!==(t=null!=P?P:null===(i=z.current)||void 0===i?void 0:i.clientHeight)&&void 0!==t?t:1,overflow:"hidden",position:"absolute",width:E})},`carousel-impression-key-${T}`)}}),C&&(0,m.jsx)(d.Z,{unsafeCSS:v}),(0,m.jsx)("div",{ref:N,className:"horizontal-scroll-container",style:{overflowX:C?"scroll":"visible",paddingLeft:C?`${o.yt}px`:void 0,paddingRight:C?`${o.yt}px`:void 0,display:"flex",flexDirection:"row",position:"relative",scrollbarWidth:0,transition:C||S?void 0:"left .3s",left:!C&&(0,_.CU)({slotWidth:H,gap:k,numberOfSlides:G.length,index:T,containerWidth:V})},children:G.map((e,t)=>{let i=t===G.length-1,n=Math.ceil(k/4),a=0;n>=-12&&n<=12&&(a=n);let r=(0,m.jsx)(l.xu,{ref:e=>{z.current=e,0===t&&(U.current=e)},"data-carousel-indicator":"carousel-card","data-test-id":`carousel-img-${t}`,height:null!=P?P:void 0,marginEnd:i?0:a,width:H,children:e},`carousel-slot-${j}-${t}`);if("BoardMoreIdeasRep"===I){let i=e.props,n={total_object_count:null==i?void 0:i.story.objects.length,storyType:null==i?void 0:i.story.story_type,boardIdStr:null==i?void 0:i.item.board_id,slotIndex:null==i?void 0:i.slotIndex,story_id:null==i?void 0:i.story.id};return(0,m.jsx)(s.Z,{componentType:x,contextLogData:n,impressionAuxFields:n,impressionType:null!=I?I:"Pin",loggingId:j,slotIndex:t,viewParameter:null!=D?D:72,viewType:null!=R?R:1,children:r},`carousel-slot-${j}-${t}`)}return r})})]})})}},356725:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>_});var n,l,a=i(702664);i(167912);var r=i(883119),o=i(729884),s=i(916117),d=i(357998),u=i(966676),c=i(721782),p=i(447948),m=i(350118),h=i(785893);let g=void 0!==n?n:n=i(603239);function _({carouselData:e,carouselIndex:t,componentType:n,contextLogData:_,handleCarouselSwipe:y,isCloseup:v,isEditMode:f,pinKey:x,viewParameter:b,viewType:w,variant:S}){var k;let P;let j=(0,m.S6)();if(null==x||"graphqlRef"===x.type)P=x;else{let e=x.data;if("string"==typeof e){let t=j(e);P=null!=t?{type:"deprecated",data:t}:null}else P={type:"deprecated",data:e}}let I=(0,s.Z)(g,P),{childDataKey__DEPRECATED:T}=(0,d.Q)(void 0!==l?l:l=i(822423),I,{useLegacyAdapter:e=>({})}),C=(0,c.Z)(T,"CarouselEllipsis"),F=(0,o.Z)(T),A=e||F&&{carouselSlots:F.carouselSlots.map(({slotId:e,title:t})=>({id:e,title:t})),entityId:null!==(k=F.carouselId)&&void 0!==k?k:"",index:F.index},E=(0,a.useDispatch)();if(!A)return null;let R=(e,t,i)=>{var l,a,r;f||void 0===p.yR||(e.preventDefault(),e.stopPropagation(),E((0,p.yR)(null!==(r=null==I?void 0:I.entityId)&&void 0!==r?r:"",i))),void 0!==y&&y(i),C({pinId:null!==(l=null==I?void 0:I.entityId)&&void 0!==l?l:"",currentIndex:null!=t?t:0,nextIndex:i,carouselData:{carouselSlots:null===(a=A.carouselSlots)||void 0===a?void 0:a.map(e=>({id:e.id})),entityId:A.entityId},viewParameter:b,viewType:w,componentType:n,contextLogData:_,isEditMode:f})},{carouselSlots:D,index:L}=A,Z="number"==typeof t?t:L,M="default"===S,O=M?"white":"#555",z=M?"rgba(255, 255, 255, 0.5)":"lightGray";return(0,h.jsx)(u.ZP.Consumer,{children:({viewportSize:e})=>{var t;return"sm"===e?null:(0,h.jsx)(r.xu,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:v?"end":"center",paddingY:f?1:0,children:D&&[...Array(null!==(t=D.length)&&void 0!==t?t:0).keys()].map(e=>{var t,i;return(0,h.jsx)(r.xu,{paddingX:1,children:(0,h.jsx)(r.iP,{accessibilityLabel:null!==(i=(D[e]||{}).title)&&void 0!==i?i:"",fullWidth:!1,onTap:({event:t})=>R(t,Z,e),rounding:"circle",children:(0,h.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e===Z?O:z}},"data-test-id":"ellipsis-size",height:8,rounding:"circle",width:8})})},(null!==(t=null==I?void 0:I.entityId)&&void 0!==t?t:"")+e)})})}})}},239062:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>f});var n,l,a=i(702664);i(167912);var r=i(883119),o=i(729884),s=i(916117),d=i(357998),u=i(898781),c=i(356725),p=i(721782),m=i(447948),h=i(350118),g=i(785893);let _={cursor:"pointer",padding:"30px 16px",position:"relative",zIndex:1},y=(e,t,i,n,l,a)=>{a||void 0===n||(e.preventDefault(),e.stopPropagation(),n(t,i)),void 0!==l&&l(i)},v=void 0!==n?n:n=i(717246);function f({addEllipsis:e,alwaysShowNavigationArrows:t,carouselIndex:n,carouselData:f,ellipsisVariant:x,handleCarouselSwipe:b,isShowingLastSlide:w,pinKey:S,contextLogData:k,viewParameter:P,viewType:j,componentType:I,isEditMode:T,itemsPerPage:C,forwardNode:F,backNode:A,sliderStyleOverride:E,hideNavigationArrows:R}){var D,L;let Z;let M=(0,u.ZP)(),O=(0,a.useDispatch)(),z=(0,h.S6)();if(null==S||"graphqlRef"===S.type)Z=S;else{let e=z(S.data);Z=null==e?null:{type:"deprecated",data:e}}let N=(0,s.Z)(v,Z),{childDataKey__DEPRECATED:K}=(0,d.Q)(void 0!==l?l:l=i(671704),N,{useLegacyAdapter:e=>({})}),U=(0,p.Z)(K,"CarouselSliders"),B=(0,o.Z)(K),$=f||B&&{carouselSlots:B.carouselSlots.map(({slotId:e,title:t})=>({id:e,title:t})),entityId:null!==(D=B.carouselId)&&void 0!==D?D:"",index:B.index};if(!$)return null;let H=(e,t)=>O((0,m.yR)(e,t)),{carouselSlots:G,index:W}=$,V=void 0!==n?n:null!=W?W:0,q=Math.max(0,V-(null!=C?C:1)),Y=Math.min((null!=G?G:[]).length-1,V+(null!=C?C:1)),Q=0===V,J=w||V===(null!=G?G:[]).length-1,X=(e,t)=>{var i,n,l;y(e,null!==(i=null==N?void 0:N.entityId)&&void 0!==i?i:"",t,H,b,T),U({pinId:null!==(n=null==N?void 0:N.entityId)&&void 0!==n?n:"",currentIndex:V,nextIndex:t,carouselData:{carouselSlots:null==G?void 0:G.map(({id:e})=>({id:e})),entityId:$.entityId},viewParameter:P,viewType:j,componentType:I,contextLogData:k,isEditMode:T,isEligibleForPdp:null!==(l=null==N?void 0:N.isEligibleForPdp)&&void 0!==l&&l})},ee=A||(0,g.jsx)(r.JO,{accessibilityLabel:M.bt("Précédente", "View Previous", "Button to advance carousel to the previous image", undefined, true),color:"inverse",icon:"arrow-back"}),et=R?null:F||(0,g.jsx)(r.JO,{accessibilityLabel:M.bt("Suivante", "View Next", "Button to advance carousel to the next image", undefined, true),color:"inverse",icon:"arrow-forward"});return(0,g.jsxs)(r.xu,{alignItems:"center",bottom:!0,display:"flex",justifyContent:R?"center":"between",left:!0,position:"absolute",right:!0,top:!0,children:[!R&&(0,g.jsx)("div",{"data-test-id":"carousel-slider-left",onClick:e=>{X(e,q)},onKeyUp:e=>{X(e,q)},role:"presentation",style:{..._,...E,pointerEvents:Q?"none":"auto"},children:(0,g.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:Q&&!t?"hidden":"visible",opacity:Q&&t?"50%":"100%"}},display:"flex",height:"100%",justifyContent:"center",width:"100%",children:ee})}),e&&(0,g.jsx)(c.default,{carouselData:{carouselSlots:null===(L=$.carouselSlots)||void 0===L?void 0:L.map(({id:e,title:t})=>({id:e,title:t})),entityId:$.entityId,index:$.index},carouselIndex:n,componentType:I,handleCarouselSwipe:b,pinKey:K,variant:x||"default",viewParameter:P,viewType:j}),!R&&(0,g.jsx)("div",{"data-test-id":"carousel-slider-right",onClick:e=>{X(e,Y)},onKeyUp:e=>{X(e,Y)},role:"presentation",style:{..._,...E,pointerEvents:J?"none":"auto"},children:(0,g.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{visibility:J&&!t?"hidden":"visible",opacity:J&&t?"50%":"100%"}},display:"flex",height:"100%",justifyContent:"center",width:"100%",children:et})})]})}},751191:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(667294),l=i(883119),a=i(898781),r=i(785893);let o=({iconType:e,showFab:t,backgroundColor:i,hoverColor:o,iconColor:s,size:d})=>{let u=(0,a.ZP)(),[c,p]=(0,n.useState)(!1);return(0,r.jsx)(l.zd,{rounding:6,children:(0,r.jsx)(l.xu,{"data-test-id":"navigation-fab-container",onMouseEnter:()=>p(!0),onMouseLeave:()=>p(!1),opacity:c?1:.8,rounding:"circle",children:(0,r.jsx)(l.xu,{alignItems:"center",color:c?o:i,dangerouslySetInlineStyle:{__style:{transition:"opacity 0.3s linear"}},"data-test-id":"navigation-fab",display:"flex",height:d||48,justifyContent:"center",opacity:t?1:0,width:d||48,children:"forward"===e?(0,r.jsx)(l.JO,{accessibilityLabel:u.bt("Suivante", "View Next", "Button to advance carousel to the next image", undefined, true),color:s,icon:"arrow-forward"}):(0,r.jsx)(l.JO,{accessibilityLabel:u.bt("Précédente", "View Previous", "Button to advance carousel to the previous image", undefined, true),color:s,icon:"arrow-back"})})})})}},721782:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d}),i(167912);var n,l=i(407043),a=i(916117),r=i(999018),o=i(67347);let s=void 0!==n?n:n=i(270643);function d(e,t){let{logContextEvent:i}=(0,l.v)(),n=(0,a.Z)(s,e);null!=e&&"deprecated"===e.type&&e.data&&"pin"!==e.data.type&&(0,o.nP)("web.graphql.debug.useLogSwipeError",{sampleRate:1,tags:{parent:t,rootType:e.data.type}});let d=(0,r.Z)(n);return function({pinId:e,currentIndex:t,nextIndex:n,carouselData:l,viewParameter:a,viewType:r,componentType:o,contextLogData:s,isEditMode:u,isEligibleForPdp:c}){if(!u){let{carouselSlots:u,entityId:p}=l;i({event_type:108,object_id_str:e,component:o,view_type:r,view_parameter:a,event_data:{pinCarouselSlotEventData:{carouselSlotId:(null==u?void 0:u[t])&&Number(u[t].id),carouselDataId:Number(p),carouselSlotIndex:t,toCarouselSlotIndex:n}},aux_data:{...s,...d({isPdpPlus:c})}})}}}},455024:(e,t,i)=>{"use strict";i.d(t,{CU:()=>o,GH:()=>u,Iw:()=>d,gA:()=>c,tD:()=>s,vF:()=>p});let n=({index:e,numberOfSlides:t,slidesShownPerPosition:i})=>t-e-Math.floor(i)<1,l=({slidesShownPerPosition:e,slotAndGapWidth:t})=>{let i=e-parseInt(e,10);return t-i*t},a=({containerWidth:e,contentWidth:t,index:i,slotAndGapWidth:n})=>{let l=i-1,r=l*n;return t-r>=e?r:a({index:l,slotAndGapWidth:n,containerWidth:e,contentWidth:t})},r=({containerWidth:e,contentWidth:t,gap:i,index:n,slidesShownPerPosition:r,slotAndGapWidth:o})=>{let s=a({containerWidth:e,contentWidth:t,index:n,slotAndGapWidth:o}),d=l({slidesShownPerPosition:r,slotAndGapWidth:o});return s+d-i},o=({containerWidth:e,gap:t,index:i,numberOfSlides:l,slotWidth:a})=>{let o=a+t,s=o*l;if(s<=e)return 0;let d=e/o,u=n({index:i,numberOfSlides:l,slidesShownPerPosition:d}),c=u?r({containerWidth:e,contentWidth:s,gap:t,index:i,slidesShownPerPosition:d,slotAndGapWidth:o}):i*o;return c?Math.round(-c):0},s=({containerWidth:e,gap:t,index:i,numberOfSlides:n,slotWidth:l})=>{let a=l+t,r=a*n;if(0===e)return!1;if(r<=e)return!0;let s=o({containerWidth:e,gap:t,index:i,numberOfSlides:n,slotWidth:l}),d=r-e;return Math.abs(s)+t>=d},d=({containerWidth:e,currentIndex:t,gap:i,index:n,numberOfSlides:l,slotWidth:a})=>{let r=a+i,s=r*l;if(s<=e||0===e)return!0;let d=o({containerWidth:e,gap:i,index:t,numberOfSlides:l,slotWidth:a});return d+r*n<e+r},u=(e,t,i)=>e||`${t.bt("image de carrousel", "carousel image", "Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed", undefined, true)} ${i}`,c=({highResOnly:e,lowResOnly:t,slot:i})=>{var n,l,a,r,o,s,d;let{images:u}=i;return t?`${null!==(r=null==u?void 0:null===(o=u["236x"])||void 0===o?void 0:o.url)&&void 0!==r?r:""} 1x`:e?`${null!==(s=null==u?void 0:null===(d=u["564x"])||void 0===d?void 0:d.url)&&void 0!==s?s:""} 1x`:[(null==u?void 0:u["474x"])&&`${null!==(n=u["474x"].url)&&void 0!==n?n:""} 2x`,(null==u?void 0:u["736x"])&&`${null!==(l=u["736x"].url)&&void 0!==l?l:""} 3x`,(null==u?void 0:u.orig)&&`${null!==(a=u.orig.url)&&void 0!==a?a:""} 4x`].filter(Boolean).join(", ")},p=(e,t,i,n,l=0)=>{if(i===t)return-(n*t*1);let a=t+l;return n===e-1?-1*n*a+Math.floor(i-t):-1*n*a}},865607:(e,t,i)=>{"use strict";i.d(t,{O:()=>d,Z:()=>u});var n=i(667294),l=i(883119),a=i(898781),r=i(966113),o=i(785893);let s={xs:12,sm:16,md:20,lg:24};function d({children:e}){let t=(0,a.ZP)();return(0,o.jsx)(l.u,{link:(0,o.jsx)(l.rU,{href:r.vBy,target:"blank",children:(0,o.jsx)(l.xv,{color:"inverse",size:"100",weight:"bold",children:t.bt("En savoir plus", "Learn more", "verifiedBadge.tooltip.link", undefined, true)})}),text:t.bt("Ce retailer respecte les directives pour les commerçants de Pinterest", "This retailer meets Pinterest's Merchant Guidelines", "merchantVerification.badge.tooltip", undefined, true),children:e})}function u({iconOnly:e,isVerifiedIdentity:t,isVerifiedMerchant:i,showText:r,size:u}){let c=(0,a.ZP)(),p=(0,o.jsxs)(l.kC,{alignItems:"center",justifyContent:"start",children:[(0,o.jsx)(l.JO,{accessibilityLabel:c.bt("Icône du badge de vérification du commerçant", "Merchant verification badge icon", "merchantVerification.badge.icon", undefined, true),color:"shopping",icon:"workflow-status-ok",inline:!0,size:s[u]}),r&&(0,o.jsx)(l.xu,{marginStart:2,children:(0,o.jsx)(l.xv,{color:"shopping",inline:!0,weight:"bold",children:c.bt("Commerçant vérifié", "Verified merchant", "creator.header.verifiedMerchant", undefined, true)})})]});return(0,o.jsxs)(n.Fragment,{children:[i&&!e&&(0,o.jsx)(d,{children:p}),i&&e&&p,t&&!i&&(0,o.jsx)(l.JO,{accessibilityLabel:c.bt("Icône de vérification du domaine", "Domain verification icon", "domainVerification.badge.icon", undefined, true),color:"error",icon:"check-circle",size:s[u]})]})}},998651:(e,t,i)=>{"use strict";i.d(t,{L:()=>s,r:()=>o});var n=i(385740),l=i(595371),a=i(909499);let r=["search_articles_story","search_for_you_upsell","search_story_separator","search_story_landing_page_header","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","guided_search_entry_points_story"];function o({query:e,rs:t,scope:i},r){let o=(0,n.BE)(),s=!(null!=o&&o.viewType)&&!(null!=o&&o.viewParameter),d=(0,a.wF)(i);if(!s&&d){let{viewType:i,viewParameter:n}=null!=o?o:{};r({event_type:d,view_type:i,view_parameter:n,aux_data:{query:e,rs:t||l.i.UNKNOWN}})}t===l.i.HASHTAG_CLOSEUP?r({event_type:101,component:13065,element:10273,view_type:142}):t===l.i.HASHTAG_PINREP&&r({event_type:101,component:0,element:10349,view_type:142})}let s=(e=[])=>{let t=!0;return e.reduce((e,i)=>{var n;return t&&i.story_type&&r.includes(i.story_type)&&(null===(n=i.display_options)||void 0===n?void 0:n.num_columns_requested)===0?e.searchFullWidthStories.push(i):(t=!1,e.filteredResults.push(i)),e},{searchFullWidthStories:[],filteredResults:[]})}},96939:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(883119),l=i(65675),a=i(785893);function r({coverImages:e,height:t,isHovered:i,onClick:r,onMouseEnter:o,onMouseLeave:s,textType:d,text:u,url:c,width:p}){let m=e&&(e["236x"]||e["280x280"]);return(0,a.jsx)(l.Z,{backgroundColor:"gray",coverImage:m,height:t,isHovered:i,onClick:r,onMouseEnter:o,onMouseLeave:s,url:c,width:p,children:(0,a.jsx)(n.xu,{alignItems:"center",display:"flex",height:t,justifyContent:"center",padding:3,position:"absolute",top:!0,width:p||"100%",children:"text"===d?(0,a.jsx)(n.xu,{alignItems:"center",display:"flex",height:48,padding:3,children:(0,a.jsx)(n.X6,{align:"center",color:"light",size:"500",children:u})}):(0,a.jsx)(n.xu,{alignItems:"center",color:"secondary",display:"flex",height:48,padding:3,rounding:"pill",children:(0,a.jsx)(n.xv,{align:"center",weight:"bold",children:u})})})})}},65675:(e,t,i)=>{"use strict";i.d(t,{A:()=>r,Z:()=>o});var n=i(667294),l=i(883119),a=i(785893);let r={bubbleOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"},hoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.6)"},lightHoverOverlay:{backgroundColor:"rgba(0, 0, 0, 0.1)"}};function o({backgroundColor:e,children:t,coverImage:i,disableTabIndex:o,height:s,id:d,isHovered:u,onClick:c,onMouseDown:p,onMouseEnter:m,onMouseLeave:h,searchBoxRenderStopwatch:g,url:_,width:y}){var v,f;let[x,b]=(0,n.useState)(!1),w=()=>{m?m():b(!0)},S=()=>{h?h():b(!1)},k=u||x,P=k?r.hoverOverlay:r.bubbleOverlay;return(0,a.jsx)(l.Tg,{href:_,onBlur:S,onFocus:w,onMouseDown:p,onMouseEnter:w,onMouseLeave:S,onTap:()=>{null==c||c(d)},rounding:4,tabIndex:o?-1:void 0,children:(0,a.jsx)(l.zd,{height:s,rounding:4,width:y||"100%",children:null!=i&&i.url?(0,a.jsxs)(l.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(v=i.height)&&void 0!==v?v:1,naturalWidth:null!==(f=i.width)&&void 0!==f?f:1,onLoad:()=>{null==g||g.stop()},role:"presentation",src:i.url,children:[(0,a.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:P},height:"100%",width:"100%"}),"function"==typeof t?t({isHovered:k}):t]}):(0,a.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:e}},height:"100%",width:"100%"})})})}},90221:(e,t,i)=>{"use strict";i.d(t,{N:()=>r});let n=e=>`BREAK_IN_${e}`,l=new Map,a=e=>{let t=l.get(e);if(t)return t;let i=Object.freeze({type:"FEED_BREAK_IN",__typename:"FEED_BREAK_IN",id:n(e)});return l.set(e,i),i},r=({breakIn:{index:e},items:t})=>t.length<e?t:[...t.slice(0,e),a(e),...t.slice(e)]},679031:(e,t,i)=>{"use strict";i.d(t,{G9:()=>c,c$:()=>m,cn:()=>h,gG:()=>p,kk:()=>u});var n=i(883119),l=i(50286),a=i(19121),r=i(63552),o=i(885149),s=i(733319),d=i(785893);let u=({isDesktop:e})=>{let t=(0,s.Z)({isDesktop:e});return t?-t:0},c=-2,p=()=>{let e=(0,l.HG)(),t=(0,s.Z)({isDesktop:e}),i=t?-t:0;return(0,d.jsx)(n.xu,{marginBottom:i,marginTop:i,paddingY:t})},m=({children:e})=>{let t=(0,l.HG)(),i=(0,a.Z)();return!i.isAuth&&t?(0,d.jsx)(o.x,{children:e}):e},h=({children:e})=>(0,d.jsx)(r.Z,{onTouch:e=>{if(e.target instanceof HTMLElement&&"IMG"===e.target.tagName){let t=e.target.getBoundingClientRect(),i=t.top+window.scrollY-70;window.scrollTo(window.scrollX,i)}},pressState:"none",children:e})},272984:(e,t,i)=>{"use strict";i.d(t,{Z:()=>ex});var n,l,a,r=i(167912),o=i(616550),s=i(883119),d=i(934494),u=i(898781),c=i(773285),p=i(784590),m=i(280446),h=i(667294),g=i(363957),_=i(362810),y=i(356997),v=i(916117),f=i(349700),x=i(867820),b=i(785893);let w=void 0!==n?n:n=i(405410),S=()=>{(0,x.NC)("click_best_pin_board",!0)},k=()=>{(0,x.NC)("click_best_pin_profile",!0)},P=({pin:e})=>{let{pinner:t}=e,{username:i,fullName:n}=null!=t?t:{},l=(null==t?void 0:t.imageMediumUrl)||(null==t?void 0:t.imageSmallUrl),a=`/${null!=i?i:""}/`;return(0,b.jsx)(s.Tg,{fullWidth:!1,href:a,onTap:k,rounding:"circle",children:(0,b.jsx)(y.qE,{name:null!=n?n:"",outline:!0,size:"sm",src:null!=l?l:""})})},j=({pin:e})=>{let t=(0,u.ZP)(),{board:i,pinner:n}=e,{name:l,privacy:a,url:r}=null!=i?i:{},o=(null==i?void 0:i.entityId)||"",{username:d,fullName:c}=null!=n?n:{},p=`/${null!=d?d:""}/`,m=(0,b.jsx)(s.xv,{inline:!0,size:"200",weight:"bold",children:(0,b.jsx)(s.rU,{display:"inlineBlock",href:p,onClick:k,underline:"hover",children:c})},c);return"protected"===a?(0,f.nk)(t.bt("{{ pinnerName }} a enregistré cette Épingle", "{{ pinnerName }} saved this Pin", "Showing who saved this pin, but not which board (private board), on closeup", undefined, true),{pinnerName:m}):(0,f.nk)(t.bt("{{ pinnerName }} l’a enregistrée dans {{ boardName }}", "{{ pinnerName }} saved to {{ boardName }}", "Showing who saved this pin to which board on closeup", undefined, true),{pinnerName:m,boardName:(0,b.jsx)(s.xv,{inline:!0,size:"200",weight:"bold",children:(0,b.jsx)(s.rU,{href:null!=r?r:"",onClick:S,children:l},"board")},o)})},I=({pinKey:e})=>{let t=(0,v.Z)(w,e);return(0,b.jsxs)(s.xu,{alignItems:"center","data-test-id":"pin-attribution",direction:"row",display:"flex",marginTop:3,children:[(0,b.jsx)(P,{pin:t}),(0,b.jsx)(s.xu,{marginEnd:2}),(0,b.jsx)(s.xv,{size:"200",children:(0,b.jsx)(j,{pin:t})})]})};var T=i(112690);function C({pageType:e,pinCreditPrefix:t,pin:i,pinLink:n,viewParameter:l}){var a,r;let o=(0,u.ZP)(),d=(0,T.Z)();if("topic"!==e.page&&(!i.domain||"Uploaded by user"===i.domain))return null;let c="topic"!==e.page||e.isAuth?"100":"200",p="topic"===e.page&&!!i.nativeCreator,m=p?null===(a=i.nativeCreator)||void 0===a?void 0:a.fullName:i.domain;return(0,b.jsx)(s.xu,{display:"flex",flex:"none",justifyContent:"start",marginBottom:2,children:(0,b.jsx)(s.rU,{display:"inlineBlock",href:p?`/${(null===(r=i.nativeCreator)||void 0===r?void 0:r.username)||""}/`:n,onClick:()=>{"topic"===e.page?(0,x.NC)("click_topic_best_pin_link"):d({event_type:12,view_type:3,object_id_str:i.entityId,component:85,view_parameter:l})},rel:"nofollow",target:"blank",underline:"hover",children:(0,b.jsx)(s.xv,{size:c,children:(0,f.nk)(o.bt("{{ pinCreditPrefix }} {{ pinCredit }}", "{{ pinCreditPrefix }} {{ pinCredit }}", "Tells the user where the pin is from in the form of \"Saved from <website>\"", undefined, true),{pinCreditPrefix:t,pinCredit:(0,b.jsx)(s.xv,{inline:!0,size:c,weight:"bold",children:(e.page,m)},p?"creatorProfile":"pinLinkDomain")})})})})}var F=i(782534),A=i(694379),E=i(248975),R=i(153209),D=i(992750),L=i(269051),Z=i(53199),M=i(692627),O=i(220306),z=i(910164),N=i(780280);let K=void 0!==l?l:l=i(327620),U=e=>{let t=null;e.lastRepinDate&&(t=new Date(e.lastRepinDate));let i=null;return(e.createdAt&&(i=new Date(e.createdAt)),t)?i?t>i?t:i:t:i},B=e=>{let t="";if(e.richMetadata&&e.richMetadata.article&&e.richMetadata.article.datePublished)return t;let i=U(e);if(i&&i.getFullYear()===new Date().getFullYear()){let n=new Set(["film_music_books","art","home_decor","food_drink","womens_fashion","travel","weddings","hair_beauty","holidays_events","mens_fashion","products","celebrities","technology"]),{category:l}=e;n.has(l)&&(t=i?(0,b.jsx)(F.Z,{dateFormatType:F.k.LONG_MONTH_YEAR,useUTC:!1,value:i}):"")}return t},$=e=>!!(e.richMetadata&&e.richMetadata.article&&e.richMetadata.article.datePublished),H=(e,t)=>{var i,n,l;let a=new Date(null!==(i=null===(n=(null!==(l=e.richMetadata)&&void 0!==l?l:{}).article)||void 0===n?void 0:n.datePublished)&&void 0!==i?i:Date.now()),r=a.getTime(),o=new Date().getTime();return null==t||o-r<=31536e6*t?(0,b.jsx)(F.Z,{dateFormatType:F.k.LONG_MONTH_YEAR,useUTC:!1,value:a}):""};function G(e){var t,i,n,l,a,r,o,d,u,c,p,m,h,g,_,y,f,x,w,S,k,P,j;let{pinKey:T,viewportSize:F,pageType:U}=e,G=(0,v.Z)(K,T),{pinCreditPrefix:W,pinLink:V}=(0,L.Z)(G),q=(0,Z.Z)(G),{description:Y}=(0,D.eK)({richMetadataDescription:null===(t=G.richMetadata)||void 0===t?void 0:t.description,richSummaryDisplayName:null===(i=G.richSummary)||void 0===i?void 0:i.displayName,closeupUnifiedDescription:G.closeupUnifiedDescription});"videos_category"===U.page&&(Y=(0,D.kt)(Y,(null===(j=G.nativeCreator)||void 0===j?void 0:j.username)||""));let Q="wide"===F,J=(0,D.Ly)({pinTitle:G.title,gridTitle:G.gridTitle,richSummaryDisplayName:null!==(n=null===(l=G.richSummary)||void 0===l?void 0:l.displayName)&&void 0!==n?n:"",richMetadataTitle:null!==(a=null===(r=G.richMetadata)||void 0===r?void 0:r.title)&&void 0!==a?a:"",storyPinDataId:G.storyPinDataId,storyPinDataMetadataPinTitle:null===(o=G.storyPinData)||void 0===o?void 0:null===(d=o.metadata)||void 0===d?void 0:d.pinTitle,pinJoinVisualAnnotation:null===(u=G.pinJoin)||void 0===u?void 0:u.visualAnnotation});(G.gridTitle||"").trim()&&J!==G.gridTitle&&(J=(0,D.EU)(G.gridTitle,200));let X=(0,R.r)(null===(c=G.richMetadata)||void 0===c?void 0:null===(p=c.recipe)||void 0===p?void 0:p.name,!!(null!==(m=G.richMetadata)&&void 0!==m&&null!==(h=m.recipe)&&void 0!==h&&h.categorizedIngredients),null!==(g=null===(_=G.richMetadata)||void 0===_?void 0:null===(y=_.recipe)||void 0===y?void 0:y.fromAggregatedData)&&void 0!==g&&g)?null===(f=G.richMetadata)||void 0===f?void 0:f.recipe:null,ee=$(G)&&H(G,2),et=B(G)||ee,{isBot:ei,isSocialBot:en}=(0,N.B)();return(0,b.jsx)(s.xu,{alignContent:"between","data-test-id":"UnauthBestPinCardBodyContainer",direction:"column",display:"flex",flex:"grow",padding:8,position:"relative",width:"100%",children:(0,b.jsxs)(s.xu,{direction:"column",display:"flex",flex:"grow",position:"relative",children:[(0,b.jsx)(C,{pageType:U,pin:{entityId:G.entityId,domain:G.domain||"",nativeCreator:G.nativeCreator&&{fullName:G.nativeCreator.fullName,username:G.nativeCreator.username}},pinCreditPrefix:"topic"===U.page&&G.nativeCreator?"Created by":W,pinLink:null!=V?V:"",viewParameter:(0,M.Z)({hasPin:!0,hasPinRichMetadata:!!G.richMetadata,hasPinRichMetadataProducts:!!(null!==(x=G.richMetadata)&&void 0!==x&&x.products),hasPinRichMetadataArticle:!!(null!==(w=G.richMetadata)&&void 0!==w&&w.article),hasPinRichMetadataRecipe:!!(null!==(S=G.richMetadata)&&void 0!==S&&S.recipe),hasPinStoryPinData:!!G.storyPinData})}),(0,b.jsx)(s.kC,{direction:"row",justifyContent:"between",children:(0,b.jsx)(s.xu,{display:"flex",marginEnd:Q?0:3,marginTop:Q?3:0,overflow:"hidden",children:J&&(0,b.jsx)("h2",{"data-test-id":"UnauthBestPinCardTitle",style:{fontWeight:"600",fontSize:"28px",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical"},children:J})})}),et?(0,b.jsx)(s.xu,{marginTop:1,children:(0,b.jsx)(s.xv,{color:"subtle",children:et})}):null,Y&&(0,b.jsx)(s.xu,{display:"flex",marginTop:3,overflow:"hidden",children:(0,b.jsxs)("h3",{style:{fontWeight:"normal",overflow:"hidden",display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",fontSize:"14px"},children:[X&&(0,b.jsx)(z.Z,{recipeKey:X}),Y]})}),X&&(0,b.jsx)(O.Z,{marginOverrides:X?{outerMarginTop:32,ingredientMarginBottom:4}:null,recipeProps:{recipe:{categorizedIngredients:X.categorizedIngredients,name:X.name,image:(0,E.Z)({imagesUrls:q,embedSrc:null===(k=G.embed)||void 0===k?void 0:k.src,embedType:null===(P=G.embed)||void 0===P?void 0:P.type,excludeOriginals:!ei&&!en})}}}),(0,b.jsxs)(s.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",marginTop:2,children:[(0,b.jsx)(I,{pinKey:G}),(0,b.jsx)(s.kC,{alignItems:"stretch",justifyContent:"end",children:!G.repinCount||G.repinCount<1?null:(0,b.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,b.jsx)(s.JO,{accessibilityLabel:"Pin",color:"subtle",icon:"pin",size:12}),(0,b.jsx)(s.xv,{color:"default",inline:!0,size:"100",children:(0,b.jsx)(A.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:G.repinCount})})]})})]})]})})}var W=i(485019),V=i(352870),q=i(53987),Y=i(223008),Q=i(430323),J=i(501338),X=i(826067),ee=i(829407),et=i(975540),ei=i(599611),en=i(94047),el=i(297852),ea=i(8742),er=i(404508),eo=i(284367);let es=0,ed="";function eu(e){let{images:t,image_signature:i}=e,n=(null==t?void 0:t["564x"])&&t.orig,{url:l}=null!=n?n:{},{width:a=1,height:r}=null!=n?n:{};return"number"==typeof a&&"number"==typeof r&&a>564&&(r*=564/a,a=564),{width:a,height:r,url:l,imageSignature:i}}let ec=({data:e,index:t,viewParameter:i,productsURL:n})=>{switch(e.type){case"pin":return(0,b.jsx)(ea.ZP,{duploQueryRef:null,pinId:e.id,slotIndex:t,viewParameter:i,viewType:72});case"story":return n&&(0,b.jsx)(_.Z,{dangerouslySetActionUrl:n,slotIndex:t,story:e});default:return null}},ep=({resourceOptions:e})=>{let t=(0,u.ZP)(),{data:i,isAtEnd:n,isFetching:l,fetchMore:a}=(0,p.Z)({name:"VisualLiveSearchResource",options:e}),r=(0,o.TH)(),d=`${r.pathname}products/${r.search}`;return(0,b.jsxs)(h.Fragment,{children:[i&&(0,b.jsx)(eo.Z,{customLayoutType:"desktopFlashlight",feedItems:i.results||[],feedKey:"flashlight-dweb-unauth",pagination:{loadNext:a,hasNext:n,isLoadingNext:l,refetch:()=>void 0},renderFeedItem:(e,t)=>ec({data:e,index:t,viewParameter:3050,productsURL:d})}),(0,b.jsx)(s.$j,{accessibilityLabel:t.bt("Chargement des résultats de la recherche visuelle…", "Loading visual search results...", "unauthDesktopVisualSearch.flashlightFeed.loading", undefined, true),show:l})]})},em=({resourceOptions:e})=>{let t=(0,u.ZP)(),{data:i,isAtEnd:n,isFetching:l,fetchMore:a}=(0,p.Z)({name:"VisualLiveSearchProductFeedResource",options:e});return(0,b.jsxs)(h.Fragment,{children:[i&&(0,b.jsx)(eo.Z,{customLayoutType:"desktopFlashlight",feedItems:i||[],feedKey:"flashlight-products-dweb-unauth",pagination:{loadNext:a,hasNext:n,isLoadingNext:l,refetch:()=>void 0},renderFeedItem:(e,t)=>ec({data:e,index:t,viewParameter:3334})}),(0,b.jsx)(s.$j,{accessibilityLabel:t.bt("Chargement des résultats de la recherche visuelle de produits...", "Loading visual search product results...", "unauthDesktopVisualSearch.flashlightProductFeed.loading", undefined, true),show:l})]})};function eh({pinResponse:e}){let t=(0,u.ZP)(),{isRTL:i}=(0,N.B)(),n=(0,T.Z)(),l=(0,o.k6)(),a=(0,o.TH)(),r=(0,o.$B)(),d=(0,h.useRef)(),{pin:c,isLoaded:p}=e,{pinId:_}=(0,m.Z)(r.params.id||""),y=(0,X.mB)(a.search),v=(0,g.Z)(a),f=function(e){let t=parseInt(e,10);switch(t){case 1:case 2:case 3:case 4:case 5:case 6:return t;default:return}}(y.cropSource),w=(0,q.hd)(a),{getNormalizedPinImage:S}=(0,Y.Z)({pinKey:null!=c?{type:"deprecated",data:c}:null});if((0,h.useEffect)(()=>{if(!v&&c){let{width:e,height:t}=S(),i=(0,el.Z)({cropArea:{h:t-2*W.S,w:e-2*W.S,x:W.S,y:W.S},isProductPage:w,pinId:_,surfaceType:"flashlight"});l.replace(i)}},[S,l,v,w,c,_]),(0,ee.Z)(()=>{n({event_type:13,view_type:72,view_parameter:3050,view_data:{pin_id:_}}),(0,x.My)("unauth.flashlight_page")}),(0,h.useEffect)(()=>(d.current&&ed===_&&(d.current.scrollTop=es),()=>{d.current&&(es=d.current.scrollTop,ed=_)})),!p)return(0,b.jsx)(Q.Z,{objectId:"",view:72,children:(0,b.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{top:J.Pw}},position:"relative",children:(0,b.jsx)(s.$j,{accessibilityLabel:t.bt("Chargement de la recherche visuelle...", "Loading visual search...", "Accessibility label for loading visual search page", undefined, true),show:!0})})});if(!c)return null;let{image_signature:k,description:P}=c,{width:j,height:I,url:C}=eu(c),F=function({initialCropArea:e,pin:t}){var i,n,l,a;let r;if(e)r={...e};else{let{visual_objects:e}=t,{width:i=1,height:n=1}=eu(t);if(e&&e.length){let{x:t,y:l,w:a,h:o}=e[0];r=(0,ei.Z)({cropArea:{x:t,y:l,w:a,h:o},scaledWidth:i,scaledHeight:n})}else{let[e,t]=[i/6,n/6],[l,a]=[i-2*e,n-2*t];r={x:e,y:t,w:l,h:a}}}return{x:Math.floor(null!==(i=r.x)&&void 0!==i?i:0),y:Math.floor(null!==(n=r.y)&&void 0!==n?n:0),w:Math.floor(null!==(l=r.w)&&void 0!==l?l:0),h:Math.floor(null!==(a=r.h)&&void 0!==a?a:0)}}({initialCropArea:v,pin:c}),A=a.state&&a.state.internalNavigation,E=j+20,R=(null!=E?E:1)+24,D={pin_id:_,image_signature:k,crop:(0,et.Z)({cropArea:F,scaledWidth:j,scaledHeight:I}),crop_source:f||5},L={__style:{top:140}};return(0,b.jsx)(Q.Z,{objectId:"",view:72,children:(0,b.jsxs)(h.Fragment,{children:[(0,b.jsxs)(s.xu,{alignItems:"center",color:"light",dangerouslySetInlineStyle:{__style:{top:80}},display:"flex",height:60,position:"fixed",width:"100%",zIndex:new s.Ry(4),children:[(0,b.jsx)(s.xu,{left:!0,position:"absolute",children:(0,b.jsx)(er.Z,{})}),(0,b.jsx)(s.xu,{flex:"grow",children:(0,b.jsx)(s.X6,{align:"center",size:"400",children:w?t.bt("Acheter des articles similaires", "Shop similar items", "unauthDesktopFlashlightPage.flashlightProductsFeed.header", undefined, true):t.bt("Résultats visuellement similaires", "Visually similar results", "unauthDesktopFlashlightPage.flashlightFeed.header", undefined, true)})})]}),w?(0,b.jsx)(s.xu,{dangerouslySetInlineStyle:L,position:"relative",children:(0,b.jsx)(em,{resourceOptions:D})}):(0,b.jsxs)(s.xu,{display:"flex",paddingX:12,children:[(0,b.jsxs)(s.xu,{ref:d,dangerouslySetInlineStyle:L,height:"calc(100% - 140px)",marginEnd:3,marginStart:3,overflow:"auto",position:"fixed",width:E,zIndex:new s.Ry(4),children:[(0,b.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{width:j,height:I}},"data-test-id":"flashlight-enabled-image",children:(0,b.jsxs)(s.zd,{height:I,rounding:2,width:j,children:[(0,b.jsx)(s.Ee,{alt:null!=P?P:"",naturalHeight:null!=I?I:1,naturalWidth:null!=j?j:1,src:null!=C?C:""}),(0,b.jsx)(V.Z,{customCropper:function({origCrop:e,cropSource:t}){let i=window.location.pathname+window.location.search,n=(0,el.Z)({cropArea:e,cropSource:null!=t?t:6,isProductPage:w,pinId:_,surfaceType:"flashlight"});(0,x.My)("unauth.flashlight_page.cropper_changed"),n!==i&&_&&l.replace({pathname:`/pin/${_}/visual-search/`,search:(0,en.Z)({cropArea:e,cropSource:null!=t?t:6,surfaceType:"flashlight"}),state:{internalNavigation:!0}})},imageSignature:k,imageSize:{h:I,w:j},initialCropArea:F,pinKey:{type:"deprecated",data:c},showAnimation:!A,viewParameter:3050,viewType:72})]})}),(0,b.jsx)(s.xu,{"data-test-id":"closeupDescription",direction:"column",display:"flex",margin:5,maxWidth:null!=j?j:1,position:"relative",children:(0,b.jsx)(G,{pageType:{isAuth:!1,page:"flashlight"},pinKey:{type:"deprecated",data:c},viewportSize:"narrow"})})]}),(0,b.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{...L.__style,...i?{marginRight:`${R}px`}:{marginLeft:`${R}px`}}},position:"relative",width:"100%",children:(0,b.jsx)(ep,{resourceOptions:D})})]})]})})}let eg=void 0!==a?a:a=i(676684);function e_(e){return null==e?void 0:e.map(e=>{var t,i,n,l,a,r,o,s;return{name:null!==(t=e.name)&&void 0!==t?t:"",offer_summary:{in_stock:null!==(i=null===(n=e.offerSummary)||void 0===n?void 0:n.inStock)&&void 0!==i&&i},additional_images:null!==(l=function(e){let t=[];return e.forEach(({additionalImagesSpec:e,spec:i})=>{var n;t.push(...null!==(n=function({additionalImagesSpec:e,spec:t}){return null==e?void 0:e.map(e=>{var i,n,l,a,r,o,s;return{canonical_images:{[t]:{height:null!==(i=null===(n=e.canonicalImage)||void 0===n?void 0:n.height)&&void 0!==i?i:0,url:null!==(l=null===(a=e.canonicalImage)||void 0===a?void 0:a.url)&&void 0!==l?l:"",width:null!==(r=null===(o=e.canonicalImage)||void 0===o?void 0:o.width)&&void 0!==r?r:0}},image_signature:null!==(s=e.imageSignature)&&void 0!==s?s:""}})}({additionalImagesSpec:e,spec:i}))&&void 0!==n?n:[])}),t}([{additionalImagesSpec:e.additionalImageOrig,spec:"orig"},{additionalImagesSpec:e.additionalImage736x,spec:"736x"},{additionalImagesSpec:e.additionalImage564x,spec:"564x"},{additionalImagesSpec:e.additionalImage474x,spec:"474x"},{additionalImagesSpec:e.additionalImage236x,spec:"236x"}]))&&void 0!==l?l:[],variant_set:a={variants:null!==(o=null==(s=null==(r=e.variantSet)?void 0:r.variants)?void 0:s.map(e=>{var t,i;return{additional_images:null!==(t=null==(i=e.additionalImages)?void 0:i.map(e=>{var t,i;return{canonical_images:null!==(t=e.canonicalImages)&&void 0!==t?t:{},image_signature:null!==(i=e.imageSignature)&&void 0!==i?i:""}}))&&void 0!==t?t:[]}}))&&void 0!==o?o:[]}}})}function ey(e){var t,i;return{username:null!==(t=null==e?void 0:e.username)&&void 0!==t?t:"",full_name:null!==(i=null==e?void 0:e.fullName)&&void 0!==i?i:"",image_medium_url:null==e?void 0:e.imageMediumUrl,image_small_url:null==e?void 0:e.imageSmallUrl}}function ev(e){var t,i,n;return{id:null!==(t=null==e?void 0:e.entityId)&&void 0!==t?t:"",username:null!==(i=null==e?void 0:e.username)&&void 0!==i?i:"",full_name:null!==(n=null==e?void 0:e.fullName)&&void 0!==n?n:"",image_medium_url:null==e?void 0:e.imageMediumUrl,image_small_url:null==e?void 0:e.imageSmallUrl,type:"user"}}let ef=(0,d.Z)({useGraphQLAdapter:function({pinId:e}){var t,i,n,l,a,o,s,d,u,c,p,m,h,g,_,y,v,f,x,b,w,S,k,P,j,I,T,C,F,A,E,R,D,L,Z,M,O,z,N,K,U;let B=(0,r.useLazyLoadQuery)(eg,{pinId:e}),$=null===(t=B.v3GetPinQuery)||void 0===t?void 0:t.data;if(!$)return null;let H={id:null!==(i=$.entityId)&&void 0!==i?i:"",is_eligible_for_related_products:null!==(n=$.isEligibleForRelatedProducts)&&void 0!==n&&n,description:null!==(l=$.description)&&void 0!==l?l:"",image_signature:null!==(a=$.imageSignature)&&void 0!==a?a:"",images:null!==(o=function(e){let t={};return e.forEach(e=>{let{image:i,spec:n}=e;if(i){var l,a,r,o,s;t[n]={width:null!==(l=i.width)&&void 0!==l?l:0,url:null!==(a=i.url)&&void 0!==a?a:"",type:null!==(r=i.type)&&void 0!==r?r:"",height:null!==(o=i.height)&&void 0!==o?o:0,dominant_color:null!==(s=i.dominantColor)&&void 0!==s?s:""}}}),t}([{image:$.imageOrig,spec:"orig"},{image:$.image736x,spec:"736x"},{image:$.image564x,spec:"564x"},{image:$.image474x,spec:"474x"},{image:$.image236x,spec:"236x"}]))&&void 0!==o?o:{},rich_metadata:{products:null!==(x=e_(null==(f=$.richMetadata)?void 0:f.products))&&void 0!==x?x:[],description:null!==(b=null==f?void 0:f.description)&&void 0!==b?b:"",title:null!==(w=null==f?void 0:f.title)&&void 0!==w?w:"",recipe:S={name:null!==(C=null==(T=null==f?void 0:f.recipe)?void 0:T.name)&&void 0!==C?C:"",from_aggregated_data:null!==(F=null==T?void 0:T.fromAggregatedData)&&void 0!==F&&F,categorized_ingredients:null==T?void 0:null===(A=T.categorizedIngredients)||void 0===A?void 0:A.map(e=>{var t;return{category:null!==(t=e.category)&&void 0!==t?t:""}})},article:{date_published:null!==(k=null==f?void 0:null===(P=f.article)||void 0===P?void 0:P.datePublished)&&void 0!==k?k:""},tutorial:{id:null!==(j=null==f?void 0:null===(I=f.tutorial)||void 0===I?void 0:I.name)&&void 0!==j?j:"",type:"makecardtutorialmetadata"}},rich_summary:{products:null!==(R=e_(null==(E=$.richSummary)?void 0:E.products))&&void 0!==R?R:[],display_name:null!==(D=null==E?void 0:E.displayName)&&void 0!==D?D:""},visual_objects:null!==(s=null==(L=$.visualObjects)?void 0:L.map(e=>{var t,i,n,l,a,r,o,s,d,u,c,p,m;return{detection:null!==(t=e.detection)&&void 0!==t&&t,h:null!==(i=e.h)&&void 0!==i?i:0,index:null!==(n=e.index)&&void 0!==n?n:0,is_stela:null!==(l=e.isStela)&&void 0!==l&&l,label:null!==(a=e.label)&&void 0!==a?a:"",label_id:null==e.labelId?e.labelId:Number(e.labelId),label_x:null!==(r=e.labelX)&&void 0!==r?r:0,label_y:null!==(o=e.labelY)&&void 0!==o?o:0,max_annotation_num_documents:null!==(s=e.maxAnnotationNumDocuments)&&void 0!==s?s:0,score:null!==(d=e.score)&&void 0!==d?d:0,show_on_closeup:null!==(u=e.showOnCloseup)&&void 0!==u&&u,w:null!==(c=e.x)&&void 0!==c?c:0,x:null!==(p=e.w)&&void 0!==p?p:0,y:null!==(m=e.y)&&void 0!==m?m:0}}))&&void 0!==s?s:[],closeup_unified_description:$.closeupUnifiedDescription,grid_title:null!==(d=$.gridTitle)&&void 0!==d?d:"",story_pin_data_id:$.storyPinDataId,repin_count:null!==(u=$.repinCount)&&void 0!==u?u:0,tracked_link:$.trackedLink,link:$.link,domain:null!==(c=$.domain)&&void 0!==c?c:"",closeup_attribution:ey($.closeupAttribution),link_domain:{official_user:ey(null===(p=$.linkDomain)||void 0===p?void 0:p.officialUser)},native_creator:ev($.nativeCreator),pinner:ev($.pinner),origin_pinner:ev($.originPinner),board:{id:null!==(M=null==(Z=$.board)?void 0:Z.entityId)&&void 0!==M?M:"",image_thumbnail_url:null!==(O=null==Z?void 0:Z.imageThumbnailUrl)&&void 0!==O?O:"",name:null!==(z=null==Z?void 0:Z.name)&&void 0!==z?z:"",privacy:"protected"===(K=null==Z?void 0:Z.privacy)||"public"===K||"secret"===K?K:"secret",url:null!==(N=null==Z?void 0:Z.url)&&void 0!==N?N:"",type:"board"},pin_join:{annotations_with_links_array:null!==(m=null==(U=null===(h=$.pinJoin)||void 0===h?void 0:h.annotationsWithLinksArray)?void 0:U.map(e=>({name:e.name,url:e.url})))&&void 0!==m?m:[],visual_annotation:null!==(g=null===(_=$.pinJoin)||void 0===_?void 0:_.visualAnnotation)&&void 0!==g?g:[]},story_pin_data:{metadata:{pin_title:null===(y=$.storyPinData)||void 0===y?void 0:null===(v=y.metadata)||void 0===v?void 0:v.pinTitle}},type:"pin"};return{pin:H,isLoaded:!0}},useLegacyAdapter:function({pinId:e}){let{data:t,isLoaded:i}=(0,p.Z)({name:"PinResource",options:{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0}});return{pin:t,isLoaded:i}}});function ex(){let{checkExperiment:e}=(0,c.F)(),t=(0,u.ZP)(),i=(0,o.$B)(),{pinId:n}=(0,m.Z)(i.params.id||"");return(0,b.jsx)(ef,{input:e("unauth_dweb_graphql_flashlight_pinResource").anyEnabled?{enabled:!0,data:{pinId:n},suspense:{fallback:(0,b.jsx)(s.$j,{accessibilityLabel:t.bt("Chargement des données de l’Épingle", "Loading Pin data", "unauthDesktopFlashlightPage.loadingPinData", undefined, true),show:!0})}}:{enabled:!1,data:{pinId:n}},children:({data:e})=>!!e&&(0,b.jsx)(eh,{pinResponse:e})})}},245376:(e,t,i)=>{"use strict";function n(e){return e&&5!==e?4===e?"stela":null:"related_products"}i.d(t,{Z:()=>n})},886076:(e,t,i)=>{"use strict";function n({isEligibleForPdp:e,isOosProduct:t,isStaleProduct:i,pinShoppingFlags:n}){if(n){let l={pin_is_shop_the_look:n.includes(2),pin_show_pdp:e||t||i,is_available:n.includes(1),is_product_pin_v2:n.includes(5),is_rich_product_pin:n.includes(6)};return JSON.stringify(l)}}i.d(t,{Z:()=>n})},948376:(e,t,i)=>{"use strict";i.d(t,{G3:()=>u,Rp:()=>d,kp:()=>o});var n=i(202139),l=i(844974),a=i(339363);let r=14*n.F4,o=(e,t)=>{let i=function(){let e=Date.now(),t=Number((0,l.qn)("appUpsell")),i=Number((0,l.qn)("firstUpsellTime")),n=!!(0,a.qn)("showedAppUpsellCurrentSession");return{currentTime:e,firstUpsellTime:i,lastUpsellTime:t,showedAppUpsellCurrentSession:n}}();return e?function(e,t,i){let{currentTime:n,firstUpsellTime:a,lastUpsellTime:o,showedAppUpsellCurrentSession:s}=e;return(i=i||r,!a||n<a+t)?!s:n-o>i&&((0,l.L_)("firstUpsellTime"),!0)}(i,n.F4):function(e,t){let{currentTime:i,lastUpsellTime:n}=e;return t=t||r,!n||i-n>t}(i,t)},s=e=>{e=e.toLowerCase();let t=e.match(/android\s([0-9\.]*)/i);return t?t[1]:void 0},d=({isBot:e,platform:t,userAgent:i})=>{try{return!e&&"android"===t&&7>parseFloat(s(i))}catch(e){return!1}},u=e=>(e.startsWith("zh")||e.startsWith("ar")?e:e.slice(0,2)).toUpperCase()},116485:(e,t,i)=>{"use strict";i.d(t,{AA:()=>a,E9:()=>y,EU:()=>x,IO:()=>f,KH:()=>u,Lg:()=>m,QR:()=>d,Uw:()=>l,ZR:()=>b,dx:()=>h,dy:()=>s,eA:()=>p,eV:()=>g,fo:()=>_,k7:()=>r,rT:()=>v,tz:()=>c,u9:()=>w,zR:()=>o,zu:()=>n});let n="OPEN_UNAUTH",l="openUnauthType",a="_isAfterLogin",r="_lastVisitedPages",o="_lastVisitedPagesBeforeLogin",s="_lastVisitedBoardPages",d="_lastVisitedPagesBeforeNavPage",u="_lastVisitedSessionPages",c="_unauthVisitedPages",p=20,m="_inviteCodeRedemption",h="_inviteCodeRedemptionList",g="_paidTrafficLand",_="_unauthReferrerString",y="unauthTopicsFollowed",v=["US","CA","NZ","AU"],f=new Set(["GB","IE"]),x=new Set(["AT","BE","CH","DE","DK","ES","FR","IT","NL","NO","PT","SE"]),b=new Set(["BR","MX","AR","CL","CO","PE"]),w="ad_img"},844887:(e,t,i)=>{"use strict";i.d(t,{Dv:()=>c,Es:()=>u,HW:()=>d});var n=i(773285),l=i(844974),a=i(116485);let r=e=>{let t=Date.now()-72e5;return e>=t},o=(e,t)=>{let i=[];if(e)for(let n of e)(!t||n.is_shared)&&r(n.ts)&&i.push(n);return i},s=e=>{let t={};if(e)for(let i of e)i.is_shared&&r(i.ts)&&i.pin_id&&(t[i.pin_id]={inviteCode:i.pin_invite_code});return t},d=()=>{let e=(0,l.qn)(a.zR),t=e?JSON.parse(e):[],i=o(t,!1),n=o(t,!0),r=i.map(e=>e.first_pin_image_signature),d=n.map(e=>e.first_pin_image_signature),u=s(t),c=(0,l.qn)(a.dy),p=c?JSON.parse(c):[],m=o(p,!0),h=m.map(e=>e.first_pin_image_signature);return{extraPlpImages:r,plpImageRenderData:i,extraBlpImages:h,extraSharedImages:d,sharedPinData:u}},u=(e,t)=>{if(e.length!==t.length)return!1;for(let i=0;i<e.length;i+=1){let n=e[i].id,l=t[i].id;if(n!==l)return!1}return!0},c=()=>{let{checkExperiment:e}=(0,n.F)(),{anyEnabled:t,group:i}=e("mweb_mini_renux"),l=t?Number(i.slice(-1)):NaN;return{inMiniRenuxEnabledGroup:t,interestsLimit:l}}},772486:(e,t,i)=>{"use strict";let n;i.d(t,{XK:()=>s,jC:()=>o,yd:()=>d});var l=i(755289);let a=null,r=null,o=(n=null,e=>{var t,i,o;if(e&&!n){let o={...e,time:(0,l.Z)()};return n={...o,event_type:12},null===(t=r)||void 0===t||t.logContextEvent(n),null===(i=a)||void 0===i||i.storeClickthroughProperties(o),12}if(!e&&n){let e={...n,event_type:4100,duration_ns:(0,l.Z)()-n.time};return null===(o=r)||void 0===o||o.logContextEvent(e),n=null,4100}return null}),s=e=>{a=e},d=e=>{r=e}},59729:(e,t,i)=>{"use strict";i.d(t,{CC:()=>s,H$:()=>u,Mt:()=>r,dp:()=>d,p9:()=>c});var n=i(844974),l=i(339363),a=i(116485);let r=(e,t,i,l,r,o,s=a.k7)=>{let d=(0,n.qn)(s)?JSON.parse((0,n.qn)(s)):[];if(!d[0]||d[0].path!==e){let a=[{path:e,ts:Date.now(),pin_id:i||0,first_pin_image_signature:t||"",first_pin_id:i||"",image_info:l||"",pin_description:r||"",is_shared:!!o,pin_invite_code:o}];(0,n.Nh)(s,JSON.stringify(a.concat(d)))}},o=()=>{let e;let t=(0,l.qn)(a.KH);if(!t)return[];try{e=JSON.parse(t)}catch(t){e=[]}return e},s=({path:e,image:t,dominant_color:i,pin_description:n,pin_id:r})=>{let s=o();s[0]&&s[0].path===e||(0,l.Nh)(a.KH,JSON.stringify([{path:e,image:t,pin_description:n||"",dominant_color:i||"",pin_id:r||""}].concat(s)))};function d(e,t,i,n,l,o){r(e,t,i,n,l,o,a.zR)}let u=(e,t,i,n,l)=>{r(e,t,i,n,null!=l?l:"","",a.dy)};function c(e,t,i,n,l){r(e,t,i,n,l,"",a.QR)}},529195:(e,t,i)=>{"use strict";i.d(t,{Cb:()=>Z,Ff:()=>et,K7:()=>K,Lp:()=>E,MM:()=>Y,O0:()=>en,OJ:()=>L,PW:()=>el,Rh:()=>V,S2:()=>D,Vd:()=>B,Yi:()=>Q,Yy:()=>X,Z4:()=>I,ZN:()=>f,dc:()=>z,di:()=>R,i$:()=>S,iU:()=>U,nR:()=>A,oQ:()=>ei,t_:()=>b,z$:()=>M});var n=i(667294),l=i(214494),a=i(464232),r=i(911691),o=i(231486),s=i(226198),d=i(425288),u=i(844974),c=i(339363),p=i(867820),m=i(826067),h=i(829407),g=i(116485),_=i(332215),y=i(785893);let v=new Set([...r.Z,"UK"]),f=["utm_pai","utm_source","invite_code"],x=function(e){return{...e,ts:Date.now()}},b=()=>(0,u.qn)(g.tz,"");function w(e,t){let i;try{i=JSON.parse(e)}catch(e){i=t}return i}let S=()=>w(b(),[]),k=()=>w((0,u.qn)(a.s1,""),[]),P=()=>w((0,u.qn)(a.Vb,""),[]),j=({pinId:e,link:t,imageSignature:i,domain:n})=>{let l=[...P()],r=l.length,o=r?l[0].pinId:"";if(r>=g.eA&&l.pop(),!r||e!==o){let r=x({pinId:e,link:t,imageSignature:i,domain:n});(0,u.Nh)(a.Vb,JSON.stringify([r].concat(l)))}},I=(e,t)=>{let i=[...S()],n=i.length,l=n?i[0].path:"";if(!(n>=g.eA)&&(!n||e!==l)){let n=x({path:e,pageType:t});(0,u.Nh)(g.tz,JSON.stringify([n].concat(i)))}},T=()=>{let e=(0,u.qn)(a.ny,"");return w(e,[])},C=()=>parseInt((0,u.qn)(a.rN,0),10),F=()=>{let e=(0,u.qn)(g.dx,"");return w(e,[])},A=()=>{let e=(0,u.qn)(g.Lg,"");return w(e,null)},E=e=>{if(!e)return;let t=[...F()],i=x({inviteCode:e});(0,u.Nh)(g.Lg,JSON.stringify(i)),t.length>=g.eA||(0,u.Nh)(g.dx,JSON.stringify([i].concat(t)))},R=()=>{let e=(0,u.qn)(g.eV,"");return w(e,null)},D=(e,t)=>{if(!e)return;let i=x({...!!t&&{adImageUrl:t},campaignId:e});(0,u.Nh)(g.eV,JSON.stringify(i))},L=()=>(0,u.qn)(g.fo,""),Z=e=>{(0,u.Nh)(g.fo,e)},M=()=>{b()&&(0,u.L_)(g.tz),(0,u.qn)(a.ny)&&(0,u.L_)(a.ny),(0,u.qn)(a.Vb)&&(0,u.L_)(a.Vb),A()&&((0,u.L_)(g.Lg),(0,u.L_)(g.dx)),R()&&(0,u.L_)(g.eV),L()&&(0,u.L_)(g.fo)},O=()=>{let e=S();return e.filter(e=>"closeup"===e.pageType)};function z(){return O().length}let N=({query:e,rs:t,scope:i,rg:n})=>{let l=[...T()],r=l.length,o=r?l[0].query:"";if(r>=g.eA&&l.pop(),!r||e!==o){let r=x({query:e,rs:t,scope:i,rg:n});(0,u.Nh)(a.ny,JSON.stringify([r].concat(l)))}},K=()=>({count:1,time:0}),U=()=>{try{let e=JSON.parse((0,u.qn)(a.SI)),{count:t,time:i}=e;if("number"==typeof t&&"number"==typeof i)return{count:t,time:i};throw Error("Invalid revisitation data")}catch(e){return K()}},B=e=>{(0,u.Nh)(a.SI,JSON.stringify(e))},$=(e,t,i)=>{if(e>=i)return`${i}+`;let n=e.toString();return e>t&&(n=`${Math.floor(e/t)*t}+`),n},H=e=>({...e,_updateUnauthUserAggregateDefinitions:function(){let{completedSearches:t,closeupPins:i,clickthroughPins:n,downloadedPinsCount:l}=e;e.isQUS=Number(t.length>=1||i.length>=3||n.length>=1||l>=1)},_getDaysSinceLastRevisitation:function(){let{revisitationState:t}=e,{time:i}=t,n=new Date,l=new Date(i||new Date),a=Number(((n.getTime()-l.getTime())/864e5).toFixed(2)),r=$(a,7,84);return[a,r]},getStatslogData:function(){return Object.keys(e).reduce((t,i)=>(Array.isArray(e[i])&&(t[i+"Count"]=$(e[i].length,5,50)),t),{isQUS:e.isQUS.toString(),revisitationCount:(e.revisitationState.count||1).toString(),isAllowedCountry:e.isAllowedCountry.toString(),daysSinceLastRevisitationBucket:e.daysSinceLastRevisitationBucket.toString(),downloadedPinsCount:e.downloadedPinsCount.toString()})}}),G=({isAuthenticated:e,countryFromIp:t,countryFromHostName:i})=>{let n={isAuthenticated:Number(e),countryFromIp:t||"",countryFromHostName:i||"",closeupPins:[],completedSearches:[],clickthroughPins:[],downloadedPinsCount:0,savedPins:[],invitesRedeemed:[],isQUS:0,revisitationState:K(),daysSinceLastRevisitation:0,daysSinceLastRevisitationBucket:"0",isAllowedCountry:Number(!(v.has(t||"")||v.has(i||"")))};if(e||!n.isAllowedCountry)return Object.freeze(H(n));n.closeupPins=O(),n.completedSearches=T(),n.clickthroughPins=P(),n.downloadedPinsCount=C(),n.savedPins=k(),n.invitesRedeemed=F(),n.revisitationState=U();let l=H(n),[a,r]=l._getDaysSinceLastRevisitation();return n.daysSinceLastRevisitation=a,n.daysSinceLastRevisitationBucket=r,l._updateUnauthUserAggregateDefinitions(),Object.freeze(l)},{Provider:W,useHook:V}=(0,d.Z)("UnauthUserStateContext");function q(e,t){let{isAuthenticated:i,countryFromIp:n,countryFromHostName:l,isAllowedCountry:a}=e;if(i||!a)return e;switch(t.type){case"UPDATE":break;case"ADD_UNAUTH_COMPLETED_SEARCH":N(t.payload);break;case"ADD_UNAUTH_CLICKTHROUGH_PIN":j(t.payload);break;default:return e}return G({isAuthenticated:i,countryFromIp:n,countryFromHostName:l})}function Y({children:e,initialState:t}){let[i,l]=(0,n.useReducer)(q,t,G);(0,h.Z)(()=>{l({type:"UPDATE"})});let a=(0,n.useMemo)(()=>({unauthUserState:i,unauthUserStateDispatch:l}),[i,l]);return(0,y.jsx)(W,{value:a,children:e})}function Q(){let e=l.Z.create("UnauthUserDataResource");return new Promise((t,i)=>{e.callGet().then(e=>{let n=e.resource_response.data,l=!!o.U2(s.x3);return n?((0,_.Wn)(n.medium_image_url)&&(n.medium_image_url=""),(0,p.My)(`mweb.unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_${l?"true":"false"}`),t(n)):((0,p.My)(`mweb.unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_${l?"true":"false"}`),i({}))}).catch(e=>{if(e&&e.message){let t=e.message.replace(/\s/g,"_").toLowerCase();(0,p.My)(`mweb.unauth.personalized_login.fetch_user_info.error.${t}`)}else(0,p.My)("mweb.unauth.personalized_login.fetch_user_info.error.unknown");return i(e)})})}function J({i18n:e,location:t}){let i;let n=t.pathname.startsWith("/signup"),l=t.pathname.startsWith("/login");if(!n&&!l)return{showPLPBanner:!1,pinForBanner:null};try{i=JSON.parse((0,c.qn)(g.KH))}catch(e){i=[]}if(i&&i.length>0){let t=i[0];if(t)return t.bannerCopy=e.bt("D’autres idées similaires vous attendent", "More ideas like this await", "page banner with pin image that was signed up from", undefined, true),{showPLPBanner:!!t.image,pinForBanner:t}}return{showPLPBanner:!1,pinForBanner:null}}let X=e=>e.search&&e.search.startsWith("?next=")?e.search.split("?next=")[1]:null;function ee({i18n:e,location:t}){var i;let n=(null===(i=t.state)||void 0===i?void 0:i.next)||X(t);if(n){let t=n.indexOf("?"),i=(0,m.mB)(n.substring(t));if(i.url&&i.media)return{showPLPBanner:!0,pinForBanner:{image:{url:(0,m.Jx)(i.media),height:1,width:1},pinDescription:i.description,bannerCopy:e.bt("Enregistrez cette idée et découvrez d’autres sources d’inspiration similaires.", "Save this idea and discover more inspiration like it.", "page banner with pin image that was signed up from", undefined, true)}}}return{showPLPBanner:!1,pinForBanner:null}}function et({i18n:e,location:t}){return ee({i18n:e,location:t}).showPLPBanner?ee({i18n:e,location:t}):J({i18n:e,location:t}).showPLPBanner?J({i18n:e,location:t}):{showPLPBanner:!1,pinForBanner:null}}let ei=(e,t)=>e?`https://i.pinimg.com/${t||"474x"}/${e.substr(0,2)}/${e.substr(2,2)}/${e.substr(4,2)}/${e}.jpg`:"",en=e=>e?`https://i.pinimg.com/75x75/${e.substr(0,2)}/${e.substr(2,2)}/${e.substr(4,2)}/${e}.jpg`:"",el=e=>e?`https://i.pinimg.com/236x/${e.substr(0,2)}/${e.substr(2,2)}/${e.substr(4,2)}/${e}.jpg`:""},885149:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c,x:()=>u});var n=i(667294),l=i(867820),a=i(785893);let r=(0,n.createContext)(()=>{}),o=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="hidden")},s=()=>{document&&document.body&&document.body.style&&(document.body.style.overflow="unset")},d=()=>(0,n.useEffect)(()=>s,[]),u=({children:e})=>{let[t,i]=(0,n.useState)(null);d();let u=(0,n.useCallback)(e=>{(0,l.My)("dweb.unauth.context_menu.open_menu"),o(),i(e)},[]),c=!!t;return(0,n.useEffect)(()=>{let e=()=>{i(null),s(),(0,l.My)("dweb.unauth.context_menu.click_away")};return c&&document.addEventListener("click",e),()=>{c&&document.removeEventListener("click",e)}},[c]),(0,a.jsx)(r.Provider,{value:u,children:(0,a.jsxs)(n.Fragment,{children:[e,t]})})},c=()=>(0,n.useContext)(r)},364034:(e,t,i)=>{"use strict";i.d(t,{$:()=>o,Z:()=>u});var n=i(667294),l=i(844974);let a=e=>{if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},r=new Set,o=2,s=e=>{var t;return null!==(t=null==e?void 0:e.pins)&&void 0!==t?t:[]},d=e=>e.length?{pins:e}:null,u=()=>{let[e,t]=function(e){let t=(0,n.useCallback)(t=>{let i=i=>{i===e&&t()};return r.add(i),()=>{r.delete(i)}},[e]),i=(0,n.useSyncExternalStore)(t,()=>(0,l.qn)(e),()=>null),o=(0,n.useCallback)(t=>{null===t?(0,l.L_)(e):(0,l.Nh)(e,JSON.stringify(t)),r.forEach(t=>t(e))},[e]);return(0,n.useMemo)(()=>[a(i),o],[i,o])}("unauthSavedPins"),i=s(e),u=e=>t(d(e)),c=()=>i.length<o;return{pins:i,save:e=>{c()&&u(i.filter(({id:t})=>t!==e.id).concat([e]))},unsave:e=>u(i.filter(({id:t})=>t!==e)),isSaved:e=>i.some(({id:t})=>t===e),clear:()=>u([]),canSaveMore:c}}},691720:(e,t,i)=>{"use strict";i.d(t,{D5:()=>o,Hg:()=>l,T_:()=>r,g6:()=>a,w6:()=>n});let n=(e,t)=>Array.from({length:t-e},(t,i)=>i+e),l=508,a=600;function r(e,t){if(!t.startsWith("en"))return e;let i=e.split(" ").map(e=>{let t=e===e.toUpperCase();return t?e:e.toLowerCase()});return i.join(" ")}let o=()=>{let e=new URL(window.location.href),t=e.hostname.replace("www.",""),i=e.pathname;return`${t}${i=i.replace(/\/\d+\//,"/").replace(/\/$/,"")}`}},698629:(e,t,i)=>{"use strict";i.d(t,{Z:()=>h});var n=i(667294),l=i(883119),a=i(444445),r=i(391254),o=i(50286),s=i(619623),d=i(785893);let u="PinGridSkeletonLoader__tall",c="PinGridSkeletonLoader__short",p=({size:e})=>(0,d.jsx)(l.xu,{padding:1,children:(0,d.jsx)("div",{className:"tall"===e?u:c})}),m=({children:e})=>(0,d.jsx)(l.kC,{direction:"column",gap:{row:0,column:2},children:e}),h=({partialViewportWidth:e})=>{let t=(0,o.ZP)(),i="desktop"===t,h=i?a.yF:a.tG;return(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(r.Z,{unsafeCSS:[{name:u,height:250},{name:c,height:150}].map(({name:e,height:t})=>(0,s.Z)({name:e,width:h,height:t})).join("")}),(0,d.jsx)(l.xu,{marginEnd:a.qG,marginStart:a.qG,children:i?(0,d.jsxs)(l.kC,{direction:"row",gap:{row:a.jC,column:0},children:[(0,d.jsx)(m,{children:(0,d.jsx)(p,{size:"tall"})}),(0,d.jsx)(m,{children:(0,d.jsx)(p,{size:"short"})}),(0,d.jsx)(m,{children:(0,d.jsx)(p,{size:"tall"})}),!e&&(0,d.jsx)(m,{children:(0,d.jsx)(p,{size:"short"})})]}):(0,d.jsxs)(l.kC,{direction:"row",justifyContent:"center",overflow:"hidden",children:[(0,d.jsxs)(m,{children:[(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]}),(0,d.jsxs)(m,{children:[(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"}),(0,d.jsx)(p,{size:"short"}),(0,d.jsx)(p,{size:"tall"})]})]})})]})}},619623:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n=({name:e,width:t,height:i})=>{let n=`${t}${"number"==typeof t?"px":""}`,l=`${i}${"number"==typeof i?"px":""}`,a="number"==typeof t?t:236;return`
.${e} {
  -webkit-animation-duration: 1s;
  -webkit-animation-fill-mode: forwards;
  -webkit-animation-iteration-count: infinite;
  -webkit-animation-name: ${e}_placeHolderShimmer;
  -webkit-animation-timing-function: linear;
  border-radius: 16px;
  background: #f6f7f9;
  background-image: linear-gradient(to right, #f6f7f9 0%, #e9ebee 20%, #f6f7f9 40%, #f6f7f9 100%);
  background-repeat: no-repeat;
  background-size: ${a} ${l};
  width: ${n};
  height: ${l};
}

@keyframes ${e}_placeHolderShimmer{
  0% {
      background-position: -${a}px 0;
  }
  100% {
      background-position: ${a}px 0;
  }
}
`}},881802:(e,t,i)=>{"use strict";i.d(t,{Bb:()=>_,Bx:()=>s,F4:()=>o,OG:()=>a,Qj:()=>d,_6:()=>g,gv:()=>r,hg:()=>u,is:()=>m,jP:()=>h,lt:()=>l,oM:()=>c,wI:()=>p});var n=i(826067);let l=e=>e.bt("Connectez-vous pour continuer", "Log in to continue", "limitedLogin.modalHeader.default", undefined, true),a=e=>e.pathname,r=({firstName:e,i18n:t})=>e?(t.bt("{{ name }} vous a invité(e) à rejoindre son tableau", "{{ name }} invited you to join their board", "limitedLogin.modalHeader.groupBoardCollab", undefined, true)).replace("{{ name }}",e):t.bt("Vos amis vous ont invité(e) à rejoindre leur tableau", "Your friends invited you to join their board", "limitedLogin.modalHeader.groupBoardCollab", undefined, true),o=e=>{let t=(0,n.mB)(e.search).board_url;if(t){let e=(0,n.Jx)(t),i=(0,n.XP)({accept_invite:!0,seamless:!0});return e.includes("?")?`${e}&${i}`:`${e}?${i}`}return e.pathname},s=e=>e.bt("Connectez-vous pour enregistrer cette Épingle", "Log in to save this Pin", "limitedLogin.modalHeader.repin", undefined, true),d=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/repin/`}return t},u=e=>e.bt("Connectez-vous pour envoyer cette Épingle", "Log in to send this Pin", "limitedLogin.modalHeader.send", undefined, true),c=e=>e.bt("Connectez-vous pour modifier cette Épingle", "Log in to edit this Pin", "limitedLogin.modalHeader.editPin", undefined, true),p=e=>{let t=e.pathname;if(t.startsWith("/pin/")){let e=t.split("/");if(e.length>2)return`/${e[1]}/${e[2]}/edit/`}return t},m=e=>e.bt("Connectez-vous pour créer une Épingle ou un tableau", "Log in to create a Pin or board", "limitedLogin.modalHeader.create", undefined, true),h=e=>e.bt("Connectez-vous pour masquer cette Épingle", "Log in to hide this Pin", "limitedLogin.modalHeader.hidePin", undefined, true),g=e=>e.bt("Se connecter pour partager ce profil", "Log in to share the profile", "limitedLogin.modalHeader.shareProfile", undefined, true),_=e=>e.bt("Connectez-vous pour créer un tableau", "Log in to create a board", "limitedLogin.modalHeader.createBoard", undefined, true)},633083:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(883119),l=i(643010),a=i(785893);function r({color:e,image:t,isSelected:i,title:r}){var o,s,d;return(0,a.jsxs)(n.xu,{alignItems:"center","aria-selected":i,dangerouslySetInlineStyle:{__style:{backgroundColor:(0,l.Yc)()?i?"#fff":"#767676":i?"#111":"#efefef"}},display:"flex",padding:1,rounding:"pill",children:[(0,a.jsx)(n.zd,{height:48,rounding:"circle",width:48,children:(0,a.jsx)(n.Ee,{alt:"",color:e,fit:"cover",naturalHeight:null!==(o=t.height)&&void 0!==o?o:1,naturalWidth:null!==(s=t.width)&&void 0!==s?s:1,src:null!==(d=t.url)&&void 0!==d?d:""})}),(0,a.jsx)(n.xu,{marginEnd:3,marginStart:2,children:(0,a.jsx)(n.xv,{color:i?"inverse":(0,l.Yc)()?"light":"dark",weight:"bold",children:r})})]})}},594379:(e,t,i)=>{"use strict";i.d(t,{ZP:()=>eo,Bi:()=>el,gv:()=>ea});var n,l,a,r=i(167912),o=i(616550),s=i(883119),d=i(934494),u=i(898781),c=i(773285),p=i(418614),m=i(280446),h=i(667294),g=i(363957),_=i(862670),y=i(865686),v=i(288562),f=i(407043),x=i(485019),b=i(352870),w=i(916117),S=i(223008),k=i(42447),P=i(276602),j=i(780280),I=i(483205),T=i(430323),C=i(826067),F=i(829407),A=i(975540),E=i(297852),R=i(873476),D=i(724617),L=i(444445),Z=i(317254),M=i(784590),O=i(8742),z=i(785893);let N=({data:e,itemIdx:t})=>(0,z.jsx)(O.ZP,{authDesktopSurface:"RelatedProductsFeed",duploQueryRef:null,pin:e,pinId:e.id,slotIndex:t,viewParameter:3334,viewType:72});function K({resourceOptions:e}){let t=(0,u.ZP)(),i=(0,M.Z)({name:"VisualLiveSearchProductFeedResource",options:e}),{data:n,isAtEnd:l,isLoaded:a,isFetching:r,fetchMore:o}=i,d=(0,h.useRef)(null);if(!a)return(0,z.jsx)(s.kC,{alignItems:"stretch",alignSelf:"center",justifyContent:"center",children:(0,z.jsx)(s.$j,{accessibilityLabel:t.bt("Chargement des produits similaires", "Loading related products", "Label for loading spinner", undefined, true),show:!0})});let c=Array.isArray(n)?n:null==n?void 0:n.results;return(0,z.jsx)(s.xu,{ref:d,display:"flex",justifyContent:"center",maxWidth:"100%",children:c&&(0,z.jsx)(Z.Z,{isAtEndOfFeed:l,itemCount:c.length,children:(0,z.jsx)(D.default,{columnWidth:L.yF,isFetching:r,items:c,loadItems:()=>{r||l||o()},renderItem:e=>(0,z.jsx)(N,{...e}),scrollContainerRef:d,virtualize:!1})})})}var U=i(361259),B=i(83053),$=i(647945),H=i(362810);let G=void 0!==n?n:n=i(378605);function W({resourceOptions:e,onSearchIdChange:t,hasSimplifiedPinGridExpLoaded:i,viewParameter:n}){let l=(0,u.ZP)(),a=(0,M.Z)({name:"VisualLiveSearchResource",options:e}),{image_signature:r}=e,{data:o,isFetching:d,fetchMore:c}=a,p=null==o?void 0:o.results,m=null==o?void 0:o.search_identifier;return(0,h.useEffect)(()=>{m&&t(m)},[t,m]),(0,z.jsxs)(s.xu,{children:[p&&m&&(0,z.jsx)(s.xu,{children:(0,z.jsx)(s.Rk,{columnWidth:L.yF,gutterWidth:L.P2,items:p,loadItems:c,minCols:1,renderItem:({data:e,itemIdx:t})=>(function({data:e,itemIdx:t}){let i=`${window.location.pathname}products/${window.location.search}`;return"story"===e.type?(0,z.jsx)(H.Z,{dangerouslySetActionUrl:i,slotIndex:t,story:e}):"pin"===e.type?(0,z.jsx)(O.ZP,{authDesktopSurface:"FlashlightResultGrid",auxData:{search_identifier:m,image_signature:r},duploQueryRef:null,pin:e,pinId:e.id,slotIndex:t,viewData:{search_identifier:m},viewParameter:n,viewType:72}):null})({data:e,itemIdx:t}),scrollContainer:()=>window})}),(0,z.jsx)(s.$j,{accessibilityLabel:l.bt("Chargement des résultats de recherche…", "Loading search results...", "FlashlightResultGrid.spinner", undefined, true),show:d||!m||!i})]})}function V(e){let{pinKey:t,onSearchIdChange:i,resourceOptions:n,viewParameter:l}=e,{hasSimplifiedPinGridExpLoaded:a}=(0,U.$)(),{checkExperiment:r}=(0,c.F)(),o=(0,w.Z)(G,t),{anyEnabled:s}=r("web_flashlight_unified_feed"),{visualSearchFlashlightUnifiedResource:d}=(0,$.Z)({resourceOptions:n,setFlashlightSearchId:i});return(0,z.jsx)(h.Fragment,{children:s?(0,z.jsx)(B.Z,{isProductOnlyFeed:!1,pinKey:o,surfaceType:"flashlight",viewParameter:l,viewType:72,visualSearchFlashlightUnifiedResource:d}):(0,z.jsx)(W,{hasSimplifiedPinGridExpLoaded:a,onSearchIdChange:i,resourceOptions:n,viewParameter:l})})}var q=i(427806),Y=i(697335);let Q=0,J="",X=void 0!==l?l:l=i(568189);function ee({pinKey:e}){let t=(0,u.ZP)(),i=(0,o.k6)(),n=(0,j.B)(),{logContextEvent:l}=(0,f.v)(),{checkExperiment:a}=(0,c.F)(),r=(0,P.E)(),{anyEnabled:d}=a("web_flashlight_unified_feed"),[p,D]=(0,h.useState)(""),{id:L}=(0,o.UO)(),{pinId:Z}=(0,m.Z)(L||""),M=(0,w.Z)(X,e),O=M.imageSignature||"",N=(0,R.Z)(),U=(0,o.TH)(),B=(0,C.mB)(U.search),{cropSource:$}=Object.keys(B).reduce((e,t)=>({...e,[t]:parseInt(B[t],10)}),{}),H=(0,g.Z)(U),G=U.pathname.includes("/products"),{getInitialCropArea:W}=(0,_.Z)({pinKey:M}),ee=W({initialCropArea:H}),et=(0,h.useRef)();(0,h.useEffect)(()=>(et.current&&J===Z&&(et.current.scrollTop=Q),()=>{et.current&&(Q=et.current.scrollTop,J=Z)}));let ei=$||5,en=G?"shopping":"flashlight",el=d&&4===ei?3462:3050,{getNormalizedPinImage:ea}=(0,S.Z)({pinKey:M,maxWidth:I.RZ});(0,F.Z)(()=>{if(!H&&M){let{width:e,height:t}=ea(),n=(0,E.Z)({cropArea:{h:(null!=t?t:1)-2*x.S,w:(null!=e?e:1)-2*x.S,x:x.S,y:x.S},pinId:Z,isProductPage:G,surfaceType:"flashlight"});i.replace(n)}d||l({event_type:13,view_type:72,view_parameter:3050,view_data:{pin_id:Z}})});let{width:er,height:eo,url:es}=ea(),ed={pin_id:Z,image_signature:O,crop:(0,A.Z)({cropArea:ee,scaledWidth:er,scaledHeight:eo}),crop_source:ei,is_shopping:G,entry_source:en,entrypoint:N},eu=U&&U.state&&U.state.internalNavigation,ec=!eu,ep=n&&n.isRTL||!1,em=er+20,eh=G?t.bt("Acheter des articles similaires", "Shop similar items", "Header explaining results of flashlight products search", undefined, true):t.bt("Plus d’idées", "More Ideas", "Header explaining results of flashlight search", undefined, true);return M?(0,z.jsx)(k.Z,{constraints:["shoppingModuleRender","visualSearchMainPinImageRender"],measureGridVisuallyComplete:!0,surface:"visual_search",children:(0,z.jsx)(T.Z,{objectId:p,view:72,children:(0,z.jsxs)(h.Fragment,{children:[(0,z.jsx)(q.Z,{text:t.bt("Page de recherche visuelle", "Visual Search Page", "pin.flashlight.accessibilityhiddenheading", undefined, true)}),(0,z.jsx)(v.Z,{pinId:Z,title:!d||d&&(5===ei||6===ei)?eh:"",variant:"flashlight",viewParameter:el,viewType:72}),(0,z.jsx)(Y.c,{children:e=>{var t;return G?(0,z.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{marginTop:60}},children:[(0,z.jsx)(K,{resourceOptions:ed}),";"]}):(0,z.jsxs)(s.xu,{display:"flex",paddingX:12,children:[(0,z.jsx)(s.xu,{ref:et,bottom:!0,dangerouslySetInlineStyle:{__style:{width:em,height:"inherit",top:e+60,marginBottom:10}},overflow:"auto",position:"fixed",children:(0,z.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{width:er,height:eo}},"data-test-id":"flashlight-enabled-image",children:(0,z.jsxs)(s.zd,{height:eo,rounding:4,width:er,children:[(0,z.jsx)(s.Ee,{alt:null!==(t=M.description)&&void 0!==t?t:"",naturalHeight:eo,naturalWidth:er,onLoad:()=>null==r?void 0:r.markConstraintComplete("visualSearchMainPinImageRender"),src:es}),(0,z.jsx)(b.Z,{imageSignature:O,imageSize:{h:eo,w:er},initialCropArea:ee,pinKey:M,showAnimation:ec,viewParameter:el})]})})}),(0,z.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:(0,y.Z)({top:60,cropperWidth:em,isRTL:ep,isFlashlightPage:!0})},position:"relative",width:"100%",children:(0,z.jsx)(V,{onSearchIdChange:D,pinKey:M,resourceOptions:ed,viewParameter:el})})]})}})]})})}):null}let et=void 0!==a?a:a=i(490644);function ei(e){var t,i,n;return{width:null!==(t=e.width)&&void 0!==t?t:0,url:null!==(i=e.url)&&void 0!==i?i:"",height:null!==(n=e.height)&&void 0!==n?n:0}}function en(e){return null==e?void 0:e.map(e=>{var t,i,n,l,a;return{additional_images:null!==(t=function(e){let t=[];return e.forEach(({additionalImages:e,spec:i})=>{var n;t.push(...null!==(n=function({additionalImages:e,spec:t}){let i=[];return null==e||e.forEach(e=>{if(e.canonicalImage){var n;i.push({canonical_images:{[t]:ei(e.canonicalImage)},image_signature:null!==(n=e.imageSignature)&&void 0!==n?n:""})}}),i}({additionalImages:e,spec:i}))&&void 0!==n?n:[])}),t}([{additionalImages:e.additionalImageOrig,spec:"orig"},{additionalImages:e.additionalImage736x,spec:"736x"},{additionalImages:e.additionalImage564x,spec:"564x"},{additionalImages:e.additionalImage474x,spec:"474x"},{additionalImages:e.additionalImage236x,spec:"236x"}]))&&void 0!==t?t:[],variant_set:i={variants:null!==(l=null==(a=null==(n=e.variantSet)?void 0:n.variants)?void 0:a.map(e=>{var t,i;return{additional_images:null!==(t=null==(i=e.additionalImages)?void 0:i.map(e=>{var t,i;return{canonical_images:null!==(t=e.canonicalImages)&&void 0!==t?t:{},image_signature:null!==(i=e.imageSignature)&&void 0!==i?i:""}}))&&void 0!==t?t:[]}}))&&void 0!==l?l:[]}}})}function el(e){var t,i,n,l,a,s,d,u,c,p,h,g;let{id:_}=(0,o.UO)(),{pinId:y}=(0,m.Z)(_||""),v=function({pinId:e}){return{query:et,variables:{pinId:e}}}({pinId:y}),f=(0,r.useLazyLoadQuery)(et,v.variables),x=null===(t=f.v3GetPinQuery)||void 0===t?void 0:t.data;if(!x)return null;let b={id:null!==(i=x.entityId)&&void 0!==i?i:"",is_eligible_for_related_products:null!==(n=x.isEligibleForRelatedProducts)&&void 0!==n&&n,description:null!==(l=x.description)&&void 0!==l?l:"",image_signature:null!==(a=x.imageSignature)&&void 0!==a?a:"",visual_objects:null!==(s=null==(u=x.visualObjects)?void 0:u.map(e=>{var t,i,n,l,a,r,o,s,d,u,c,p,m,h;return{detection:null!==(t=e.detection)&&void 0!==t&&t,h:null!==(i=e.h)&&void 0!==i?i:0,index:null!==(n=e.index)&&void 0!==n?n:0,is_stela:null!==(l=e.isStela)&&void 0!==l&&l,label:null!==(a=e.label)&&void 0!==a?a:"",label_id:null==e.labelId?e.labelId:Number(e.labelId),label_x:null!==(r=e.labelX)&&void 0!==r?r:0,label_y:null!==(o=e.labelY)&&void 0!==o?o:0,max_annotation_num_documents:null!==(s=e.maxAnnotationNumDocuments)&&void 0!==s?s:0,score:null!==(d=e.score)&&void 0!==d?d:0,show_on_closeup:null!==(u=e.showOnCloseup)&&void 0!==u&&u,title:null!==(c=e.title)&&void 0!==c?c:"",w:null!==(p=e.x)&&void 0!==p?p:0,x:null!==(m=e.w)&&void 0!==m?m:0,y:null!==(h=e.y)&&void 0!==h?h:0}}))&&void 0!==s?s:[],images:null!==(d=function(e){let t={};return e.forEach(e=>{let{image:i,spec:n}=e;i&&(t[n]=ei(i))}),t}([{image:x.imageOrig,spec:"orig"},{image:x.image736x,spec:"736x"},{image:x.image564x,spec:"564x"},{image:x.image474x,spec:"474x"},{image:x.image236x,spec:"236x"}]))&&void 0!==d?d:{},rich_metadata:{products:null!==(p=en(null==(c=x.richMetadata)?void 0:c.products))&&void 0!==p?p:[]},rich_summary:{products:null!==(g=en(null==(h=x.richSummary)?void 0:h.products))&&void 0!==g?g:[]},type:"pin"};return b}function ea(e){let{data:t,isLoaded:i}=(0,p.Z)({name:"PinResource",getOptions:({routeData:{params:{id:e}}})=>({id:e,field_set_key:"detailed",fetch_visual_search_objects:!0})});return i&&t?t:null}let er=(0,d.Z)({useGraphQLAdapter:el,useLegacyAdapter:ea});function eo(){let{checkExperiment:e}=(0,c.F)(),t=(0,u.ZP)();return(0,z.jsx)(er,{input:e("auth_dweb_graphql_flashlight_pinResource").anyEnabled?{enabled:!0,data:null,suspense:{fallback:(0,z.jsx)(s.$j,{accessibilityLabel:t.bt("Chargement des données de l’Épingle", "Loading Pin data", "authDesktopFlashlightPage.loadingPinData", undefined, true),show:!0})}}:{enabled:!1,data:null},children:({data:e})=>!!e&&(0,z.jsx)(ee,{pinKey:{type:"deprecated",data:e}})})}},215425:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n=i(883119),l=i(515631),a=i(934494),r=i(898781),o=i(773285),s=i(594379),d=i(785893);let u=(0,a.Z)({useGraphQLAdapter:s.Bi,useLegacyAdapter:s.gv});function c(){let{checkExperiment:e}=(0,o.F)(),t=(0,r.ZP)();return(0,d.jsx)(u,{input:e("auth_dweb_graphql_closeup_shop_pinResource").anyEnabled?{enabled:!0,data:null,suspense:{fallback:(0,d.jsx)(n.$j,{accessibilityLabel:t.bt("Chargement des données de l’Épingle", "Loading Pin data", "RelatedProductsPage.loadingPinData", undefined, true),show:!0})}}:{enabled:!1,data:null},children:({data:e})=>!!e&&(0,d.jsx)(l.Z,{pinKey:{type:"deprecated",data:e}})})}},23195:(e,t,i)=>{"use strict";i.d(t,{Z:()=>L});var n=i(702664),l=i(616550),a=i(558068),r=i(898781),o=i(773285),s=i(784590),d=i(501338),u=i(826067),c=i(280446),p=i(50286),m=i(19121),h=i(307603),g=i(255164),_=i(873476),y=i(883119),v=i(407043),f=i(766935),x=i(444445),b=i(313047),w=i(542554),S=i(829407),k=i(156637),P=i(743203),j=i(679031),I=i(8742),T=i(422946),C=i(404508),F=i(284367),A=i(785893);function E({fixedHeaderOverrideTop:e,handleBackClick:t,inUnifiedFeedExp:i,pageTitle:n,searchResourceOptions:l,visualSearchFlashlightUnifiedResource:a}){var r,o;let{logContextEvent:s}=(0,v.v)(),d=i?40:48,u=i?void 0:-x.D6,{data:c,fetchMore:p,isAtEnd:m,isFetching:h}=a||{},g=(null==c?void 0:c.results)||[],_=g.reduce((e,t)=>"pin"===t.type?[...e,t]:e,[]),E=JSON.stringify({is_product_only_feed:!0}),R={name:"VisualLiveSearchProductFeedResource",options:l};return(0,S.Z)(()=>{let e=(0,f.Z)(()=>{s({event_type:110,view_parameter:3462,view_type:427})},1e3);return i&&window.addEventListener("scroll",e),()=>{i&&window.removeEventListener("scroll",e)}}),(0,A.jsx)(k.Z,{auxData:i?{commerce_data:E}:void 0,viewParameter:3462,viewType:427,children:(0,A.jsxs)(w.default,{hasFixedHeader:!0,children:[(0,A.jsx)(b.FixedHeader,{height:i?60:void 0,overrideTop:e,children:(0,A.jsxs)(y.kC,{alignItems:"center",justifyContent:"between",children:[(0,A.jsx)(y.xu,{alignItems:"center",display:"flex",height:d,justifyContent:"center",marginStart:u,width:d,children:(0,A.jsx)(C.Z,{color:i?"darkGray":void 0,disableRedirect:!0,icon:"arrow-back",onTouch:t,size:i?"sm":void 0,viewParameter:3462,viewType:427})}),(0,A.jsx)(y.X6,{accessibilityLevel:1,size:"300",children:n}),(0,A.jsx)(y.xu,{marginEnd:u,width:d})]})}),i?(0,A.jsx)(F.Z,{feedItems:_,feedKey:null!==(r=(0,T.J)("VisualSearchFlashlightUnifiedResource",l))&&void 0!==r?r:"",pagination:{loadNext:p||(()=>void 0),hasNext:!m,isLoadingNext:h||!1,refetch:()=>void 0},renderFeedItem:(e,t)=>(0,A.jsx)(j.cn,{children:(0,A.jsx)(I.ZP,{auxData:{commerce_data:E},componentType:0,duploQueryRef:null,pinId:e.id,slotIndex:t,trackingParams:e.trackingParams||void 0,trafficSource:"shop_feed",viewParameter:3462,viewType:427})})}):(0,A.jsx)(P.ZP,{feedItemProps:{viewParameter:3462,viewType:427},feedKey:null!==(o=(0,T.J)(R.name,R.options))&&void 0!==o?o:"",resourceConfig:R,trafficSource:"shop_feed"})]})})}var R=i(350118);function D(e){let{searchResourceOptions:t}=e,i=(0,s.Z)({name:"VisualSearchFlashlightUnifiedResource",options:t});return(0,A.jsx)(E,{...e,visualSearchFlashlightUnifiedResource:i})}function L(){let{checkExperiment:e}=(0,o.F)(),t=(0,r.ZP)(),i=(0,p.ZP)(),y=(0,l.k6)(),{previous:v}=(0,a.Hv)(),f=(0,_.Z)(),x=(0,l.TH)(),{isAuth:b}=(0,m.Z)(),w=(0,l.$B)(),{pinId:S}=(0,c.Z)(w.params.id||""),{data:k}=(0,s.Z)({name:"PinResource",options:{id:S,field_set_key:"detailed",fetch_visual_search_objects:!0,is_mobile_fork:!0}}),P=(0,R.S6)()(S),j=(0,n.useSelector)(e=>e.flashlight.cropSource||5);if(!(null!=k?k:P))return null;let{anyEnabled:I}=e("mweb_flashlight_unified_feed"),{cropbox_dimensions:T,crop_source:C,x:F,y:L,w:Z,h:M}=(0,u.mB)(x.search),[O,z,N,K]=T?T.replace(/\{|\}/g,"").split(","):[],U=I?(0,h.Z)({x:O,y:z,w:N,h:K}):(0,h.Z)({x:F,y:L,w:Z,h:M}),B=I?(0,g.Z)(Number(C)):j,$=I?t.bt("Achetez des produits similaires", "Shop similar", "mobileFlashlightPage.heading", undefined, true):t.bt("Acheter des articles similaires", "Shop similar items", "mobileFlashlightPage.heading", undefined, true),H={fixedHeaderOverrideTop:(0,d.ZP)(i,b),handleBackClick:()=>{if(0===v.length){y.replace(`/pin/${S}/visual-search/`);return}y.goBack()},inUnifiedFeedExp:I,pageTitle:$,searchResourceOptions:{pin_id:S,crop:U,crop_source:B,is_shopping:!0,entry_source:"shopping",entrypoint:f}};return I?(0,A.jsx)(D,{...H}):(0,A.jsx)(E,{...H})}},35066:(e,t,i)=>{"use strict";i.d(t,{S:()=>u,w:()=>c});var n=i(667294),l=i(425288),a=i(311541),r=i(632448),o=i(785893);let s=()=>i.e(6819).then(i.bind(i,6819)),{Provider:d,useHook:u}=(0,l.Z)("MerchantStorefrontSettings");function c({children:e}){let[t,i]=(0,a.Z)(s,r.Z),l=(0,n.useMemo)(()=>({merchantStorefrontSettings:t,updateLocaleStorefrontSetting:(e,t,n)=>{i({type:"UPDATE_LOCALE_STOREFRONT_SETTING",payload:{country:e,language:t,feedProfileId:n}})},updateStorefrontLastUpdated:e=>{i({type:"UPDATE_STOREFRONT_LAST_UPDATED",payload:e})}}),[i,t]);return(0,o.jsx)(d,{value:l,children:e})}},632448:(e,t,i)=>{"use strict";i.d(t,{Z:()=>n});let n={currentViewingLocale:{country:"",language:"",feedProfileId:""},lastUpdated:0}},151645:(e,t,i)=>{"use strict";function n({user:e,viewer:t}){return!!(t.isAuth&&(null==e?void 0:e.username)===t.username)}i.d(t,{Z:()=>n})},390598:(e,t,i)=>{"use strict";i.d(t,{PRODUCT_GROUP_COVER_IMAGE_DIMENSIONS:()=>s,Z:()=>d});var n=i(667294),l=i(883119),a=i(407043),r=i(970023),o=i(785893);let s={HEIGHT:362,WIDTH:362};function d({productGroup:e,preferredPreviewPinSizes:t=[],coverFit:i=!1}){var d,u,c,p,m;let h;let{logContextEvent:g}=(0,a.v)(),_=(null===(d=e.coverImages)||void 0===d?void 0:d[0])&&(0,r.cB)(e.coverImages[0]),{WIDTH:y,HEIGHT:v}=s,f=((null===(u=e.previewPins)||void 0===u?void 0:u[0])||{}).images,[x,b]=(0,n.useState)(!_);f&&x&&(h=t.concat("orig").map(e=>f[e]).find(e=>!!e));let w=x?null===(c=h)||void 0===c?void 0:c.height:v,S=x?null===(p=h)||void 0===p?void 0:p.width:y,k=x?null===(m=h)||void 0===m?void 0:m.url:_;return w&&S&&k?(0,o.jsx)(l.Ee,{alt:"",fit:i?"cover":"contain",naturalHeight:w,naturalWidth:S,onError:()=>{x||(g({event_type:10048,component:14004,aux_data:{product_group_cover_image_url:_}}),b(!0))},src:k}):null}},316674:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(81636);function l({entryPoint:e,objectId:t,groupType:i}){return{aux_data:{commerce_data:JSON.stringify({entrypoint:e}),product_group_type:i},component:13698,object_id_str:t,view_type:1,view_parameter:3515}}function a(e){return"profile"===e?4:1}let r={Control:{BrandCatalogFeed:{tapBrandCatalogPin:function({commerceData:e},t){t({event_type:102,view_type:1,view_parameter:3244,component:0,aux_data:{...e}})}},ProductFeed:{tapProductPin:function({commerceData:e},t){t({event_type:102,component:13700,view_type:4,view_parameter:3512,aux_data:{...e}})}},StorefrontFeed:{tapProductGroup:function({productGroupId:e},t){t({event_type:102,view_type:4,view_parameter:3512,component:13698,object_id_str:e})},useShoppingProfileViewLog:function(){(0,n.Q)({view_type:4,view_parameter:3107,component:237})},viewProductGroup:function({productGroupId:e},t){t({event_type:120,view_type:4,view_parameter:3512,component:13698,object_id_str:e})}}},DomainModule:{trackSeeMoreClick:function({viewParameter:e},t){t({event_type:102,component:13327,element:11829,view_type:3,view_parameter:e})}},Feeds:{BrandCatalog:{tapBrandCatalogPin:function({commerceData:e},t){t({event_type:102,view_type:1,view_parameter:3513,component:13700,aux_data:{...e}})}},Categories:{tapCategoryBubble:function({entryPoint:e},t){t({event_type:102,view_type:1,view_parameter:3514,component:13699,aux_data:{commerce_data:JSON.stringify({entrypoint:e})}})}},ProductGroups:{productGroupRendered:function({entryPoint:e,productGroupId:t,groupType:i},n){let a=l({entryPoint:e,objectId:t,groupType:i});n({event_type:120,...a})},tapProductGroup:function({entryPoint:e,productGroupId:t,groupType:i},n){let a=l({entryPoint:e,objectId:t,groupType:i});n({event_type:102,...a})}},ProductPins:{tapProductPin:function({commerceData:e,component:t},i){i({event_type:102,component:t,view_type:1,view_parameter:3513,aux_data:{...e}})},viewProductPinsFeed:function({component:e,entryPoint:t,category:i,productGroupId:n},l){l({event_type:13,component:e,view_type:1,view_parameter:3513,aux_data:{commerce_data:JSON.stringify({entrypoint:t}),category_title:i,product_group_id:n}})}},viewFeedPage:function({entryPoint:e,viewParameter:t},i){i({event_type:13,view_type:1,view_parameter:t,aux_data:{commerce_data:JSON.stringify({entrypoint:e})}})}},StructuredFeed:{viewStructuredFeed:function({merchantId:e,source:t},i){i({event_type:13,view_type:a(t),view_parameter:3512,..."profile"===t?{object_id_str:e}:Object.freeze({})})},Categories:{viewCategory:function({id:e,source:t,title:i,bubble:n},l){l({event_type:120,component:13699,view_type:a(t),view_parameter:3512,aux_data:{story_type:"storefront_category_bubbles",story_id:e,category_title:i,...n.aux_fields}})},tapCategory:function({id:e,source:t,title:i,bubble:n},l){l({event_type:102,component:13699,view_type:a(t),view_parameter:3512,aux_data:{story_type:"storefront_category_bubbles",story_id:e,category_title:i,...n.aux_fields}})},tapSeeMoreCategories:function({id:e,source:t},i){i({event_type:102,component:13699,element:179,view_type:a(t),view_parameter:3512,aux_data:{story_id:e,story_type:"storefront_category_footer_button"}})}},ProductGroups:{tapProductGroup:function({productGroupId:e,source:t,groupType:i,componentType:n,index:l},r){r({event_type:102,component:n,object_id_str:e,view_type:a(t),view_parameter:3512,aux_data:{product_group_type:i,grid_index:l}})},tapSeeMoreProductGroups:function({id:e,source:t},i){i({event_type:102,component:13698,element:179,aux_data:{story_id:e,story_type:"storefront_product_group_footer_button"},view_type:a(t),view_parameter:3512})},viewProductGroup:function({productGroupId:e,source:t,groupType:i,componentType:n},l){l({event_type:120,component:n,object_id_str:e,view_type:a(t),view_parameter:3512,aux_data:{product_group_type:i}})}},PinsFeed:{viewPinsFeed:function({id:e,OwnerUserId:t,pinsFeedTitle:i,source:n},l){l({event_type:120,component:13700,view_type:a(n),view_parameter:3512,aux_data:{story_id:e,story_type:"storefront_pins_feed",pins_feed_title:i,owner_user_id:t}})},tapPin:function({commerceData:e,source:t},i){i({event_type:102,component:0,view_type:a(t),view_parameter:3512,aux_data:{...e}})}}}}},970023:(e,t,i)=>{"use strict";i.d(t,{yh:()=>n,QE:()=>l,cB:()=>a}),i(214494),i(186656);let n="ALL_PRODUCTS",l=5e3,a=e=>{if(!e)return"";let t=["488x488","976x976","368x368","736x","474x","originals","orig",Object.keys(e)[0]];for(let n of t)if(e[n]){var i;return null!==(i=e[n].url)&&void 0!==i?i:""}return""}},436395:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(616550),l=i(784590);function a(){let{username:e}=(0,n.UO)();return(0,l.Z)(null==e?null:{name:"UserResource",options:{username:e,field_set_key:"profile"}})}},884183:(e,t,i)=>{"use strict";i.d(t,{By:()=>h,IT:()=>p,N6:()=>s,br:()=>d,lU:()=>c,mk:()=>u});var n=i(186656);let l=e=>({type:"CLEAR_RECENT_SEARCH",payload:{query:e}}),a=()=>({type:"CLEAR_RECENT_SEARCHES"}),r=e=>({type:"CLEAR_RECENT_PERSONAL_SEARCH",payload:{query:e}}),o=()=>({type:"CLEAR_RECENT_PERSONAL_SEARCHES"}),s=(e,t)=>({type:"UPDATE_CURRENT_SEARCH",payload:{query:e,scope:t}}),d=(e,t)=>({type:"UPDATE_RECENT_SEARCHES",payload:{query:e,scope:t}}),u=e=>({type:"SET_ANIMATION_ON_BODY_FILTER",payload:{animated:e}}),c=(e,t,i)=>l=>{(0,n.Z)({url:"/v3/search/recent/",method:"DELETE",data:{vertical:e}}).then(t,i),l("PERSONAL"===e?o():a())},p=(e,t,i,a)=>o=>{(0,n.Z)({url:"/v3/search/recent/",method:"DELETE",data:{query:e,vertical:t}}).then(i,a),o("PERSONAL"===t?r(e):l(e))},m=e=>({type:"RELOAD_VISUAL_SEARCH_ANNOTATIONS",payload:{pinId:e}}),h=e=>t=>{t(m(e))}},639952:(e,t,i)=>{"use strict";i.d(t,{Cp:()=>s,FK:()=>o,H5:()=>f,MI:()=>h,O0:()=>m,QZ:()=>r,W:()=>y,WF:()=>u,Wz:()=>x,a5:()=>c,dz:()=>_,e0:()=>p,e2:()=>a,iW:()=>v,n1:()=>l,rm:()=>d,xu:()=>g});var n=i(53987);let l=()=>({type:"DISMISS_UNAUTH_SAVE"}),a=()=>({type:"COMPLETE_UNAUTH_SAVE_ACTION"}),r=e=>({type:"SET_UNAUTH_SAVE_PIN_ID",payload:{unauthSavePinId:e}}),o=()=>({type:"HIDE_NAV_FOOTER"}),s=()=>({type:"SHOW_NAV_FOOTER"}),d=e=>({type:"SET_LOGIN_SIGNUP_FROM",payload:{from:e}}),u=()=>({type:"SHOW_REPIN_ANIMATION"}),c=()=>({type:"HIDE_REPIN_ANIMATION"}),p=e=>({type:"SET_NUM_SIGNUP_STEPS",payload:{steps:e}}),m=()=>({type:"SET_OWN_PROFILE_PINS_REFRESH"}),h=e=>({type:"SHOW_BIZ_NUX_HOMEFEED_LOADER",payload:e}),g=e=>({type:"SET_VIEWED_IMAGE",payload:{viewedImageSignature:e}}),_=e=>({type:"SET_VIEWED_SHARED_PINS",payload:{pins:e}}),y=()=>({type:"DISMISS_UNAUTH_APP_UPSELL"}),v=e=>e?{type:"LOGGED_OUT_USER_INFO_FOUND",payload:e}:{type:"LOGGED_OUT_USER_INFO_NOT_FOUND"},f=e=>({type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}),x=(e,t)=>({type:"SET_LANDING_PAGE_TYPE",payload:e?(0,n.bo)(e)?"today":(0,n.dr)(e)?"ideas":t&&(0,n.dZ)(e,t)?"own_section":t&&(0,n.J)(e,t)?"own_board":(0,n.OJ)(e)?"section":(0,n.am)(e)?"board":(0,n.L6)(e)?"closeup":(0,n.C$)(e)?"home":(0,n.cD)(e)?"profile":(0,n.En)(e)?"search":(0,n.$V)(e)?"topic":"":""})},70090:(e,t,i)=>{"use strict";i.d(t,{ZN:()=>r,fv:()=>o,hr:()=>a,lD:()=>s});var n=i(214494);function l(e,t){return n.Z.create("InterestFollowResource",{interest_id:e,interest_list:"favorited",referrer:t})}let a=(e,t)=>({type:"TOPIC_FOLLOW",payload:{id:e,value:t}}),r=(e,t,i)=>async n=>{n(a(e,!0));try{await l(e,i).callCreate(),t({event_type:601,object_id_str:e})}catch(t){n(a(e,!1))}},o=(e,t,i)=>async n=>{n(a(e,!1));try{await l(e,i).callDelete(),t({event_type:602,object_id_str:e})}catch(t){n(a(e,!0))}},s=(e,t="")=>i=>n.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate().then(()=>{Object.keys(e).forEach(t=>{let n=e[t];i(a(t,n))})})},422946:(e,t,i)=>{"use strict";i.d(t,{J:()=>y,Z:()=>S});var n=i(932995),l=i(338739),a=i(648284),r=i(998651),o=i(59644),s=i(483025),d=i(819063),u=i(492583);let c=new Set(["PinResource","RepinResource"]),p={ApiResource:e=>{if((null==e?void 0:e.url)==="/v3/orientation/nux_creator_recommendations/")return"nux-creator-recommendations";if((null==e?void 0:e.url)==="/v3/users/me/interests/"){var t;return`recommended-interests:${null===(t=e.data)||void 0===t?void 0:t.blend_type}`}return""},AggregatedActivityFeedResource:e=>`trieditfeed:${e.aggregated_pin_data_id}`,AggregatedCommentFeedResource:e=>`aggregated-comments:${e.objectId}`,AggregatedCommentReplyFeedResource:e=>`${u.Z.AGGREGATED_COMMENT_REPLIES}:${e.objectId}`,BoardlessPinsResource:e=>`boardless-pins:${e.userId}`,BestPinsFeedAltResource:e=>`idea-page-best-pins:${e.interest}`,BoardArchiveResource:()=>"archived-boards",BoardContentRecommendationResource:e=>`recommendation-feed:${e.id}`,BoardFeedResource:e=>`boardfeed:${e.board_id}`,BoardSectionsRepinResource:e=>`board-sections:${e.board_id}`,BoardSectionsResource:e=>`board-sections:${e.board_id}`,BoardSectionPinsResource:e=>`board-section-pins:${e.section_id}`,BoardsFeedResource:e=>`profile-boards:${e.username}`,BoardToolsFeedResource:e=>`board-tools:${e.boardId}`,ConversationsResource:()=>"conversations",DidItLikedByResource:e=>`triedit-likes:${e.didItDataId}`,DidItUserFeedResource:e=>`profile-tried:${e.username}`,HolidaySpotlightResource:e=>`holiday-spotlight:${e.storyType}`,InterestResource:e=>`klp-pins:${e.interest}`,MoreIdeasTabsBoardsResource:()=>"homefeed-more-ideas-tabs",NewsHubResource:()=>"notifications",NewsHubDetailsResource:e=>`newshubdetail:${e.news_id}`,NuxInterestsResource:()=>"nuxTopics",PinsFromBrandResource:e=>`brand-pins:${e.pin}`,ReactionsResource:e=>`reactions:${e.pin_id}`,RelatedArticlesResource:e=>`related-articles:${e.article_id}`,RelatedModulesResource:e=>`related-modules:${e.pin_id}`,RelatedPinFeedResource:e=>`related-pins:${e.pin}`,RelatedProductFeedResource:e=>"pin"===e.shop_source?`closeup-related-products:${e.pin}`:`related-products:${e.pin}`,RelatedStreamResource:e=>`related-story-pins:${e.pinId}`,SearchResource:e=>{let t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},BaseSearchResource:e=>{let t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.appliedProductFilters}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},SectionToolsFeedResource:e=>`section-tools:${e.sectionId}`,ShareSuggestionsTypeaheadResource:e=>`share-suggestions:${e.board||e.user}:${e.term}`,ShoppingFeedModularizedResource:e=>e.saved_products_only?`board-shop-saved:${e.board_id}`:`board-shop-related:${e.board_id}`,StoryFeedResource:e=>`story-feed:${e.feed_type}:${e.request_params}`,SuggestedCreatorFollowsResource:()=>"suggested-creator-follows",StoryPinTaggedProductsResource:()=>"story-pin-tagged-products",TodayArticleFeedResource:e=>`today-article:${e.id}`,IdeasHubTodayArticlesResource:e=>`today-article:${e.interest_id}`,TodayTabInterestFeedResource:e=>`today-article-interestfeed:${e.interest_id}`,TodayTabResource:()=>"today-tab",SeoTier1CandidateResource:()=>"tier1-feed",UnifiedCommentsResource:e=>`unified-comments:${e.aggregated_pin_id}`,UserActivityPinsResource:e=>`profile-pins-feed:${e.user_id}`,UserHomefeedResource:e=>e.pin_quiz?"pin-quiz":"homefeed",UserFollowingResource:e=>`user-following:${e.username}`,UserRecentActivityResource:e=>`user-recent-activity:${e.filter_type}`,UserStoryPinsFeedResource:e=>`story-pins-feed:${e.user_id}`,VideosFeedResource:()=>"videos-feed",VisualLiveSearchResource:e=>`visual-search:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualLiveSearchProductFeedResource:e=>`visual-search-products:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualSearchFlashlightUnifiedResource:e=>`related-products-unified:${e.pin_id}`,BoardFollowingResource:e=>`board-following:${e.username}`,InterestFollowingResource:e=>`topic-following:${e.username}`,UserPinsResource:e=>`profile-pins:${e.username}`,TopicFeedResource:e=>e.best_pins?`best-topic-pins:${e.interest}`:`topic-pins:${e.interest}`},m={AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:u.Z.TRIED_IT_FEED,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:u.Z.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{isUnifiedComment:e,objectId:t}})=>({type:e?u.Z.AGGREGATED_COMMENT_REPLIES:u.Z.AGGREGATED_COMMENTS,id:t,reversed:!0}),BoardFeedResource:({options:{board_id:e}})=>({type:u.Z.BOARDFEED,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:u.Z.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:u.Z.BOARD_SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:u.Z.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:t}})=>({type:u.Z.PROFILE_BOARDS,id:(0,o.Z)(e,t)}),BaseSearchResource:({options:{auto_correction_disabled:e,appliedProductFilters:t,scope:i,filters:n,query_pin_sigs:l,query:o,user:s},response:d})=>{var c;return{type:u.Z.SEARCH_PINS,id:(0,a.Tb)({appliedProductFilters:t,autoCorrectionDisabled:e,filters:n,query:o,selectedPinImgSig:l,scope:i,user:s}),items:null!==(c=d.resource_response.data)&&void 0!==c&&c.results?(0,r.L)(d.resource_response.data.results).filteredResults:[]}},DidItCommentsResource:({options:{objectId:e}})=>({type:u.Z.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:u.Z.TRIED_IT_FEED,id:e}),IdeasHubTodayArticlesResource:({options:{interest_id:e}})=>({type:u.Z.TODAY_TAB,id:e}),RelatedArticlesResource:({options:{article_id:e}})=>({type:u.Z.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:u.Z.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:u.Z.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:u.Z.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:u.Z.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e,is_reversed:t}})=>({type:u.Z.UNIFIED_COMMENTS,id:e,reversed:t}),UserActivityPinsResource:({options:{user_id:e}})=>({type:u.Z.PROFILE_PINS_FEED,id:e}),UserStoryPinsFeedResource:({response:e,options:{user_id:t}})=>({type:u.Z.STORY_PINS_FEED,id:t,items:e.resource_response.data||[]})},h=(e,{pinId:t,feedId:i})=>e[i]?{...e,[i]:e[i].filter(e=>!("pin"===e.type&&e.id===t))}:e,g=(e,{pinId:t,feedId:i})=>e[i]?{...e,[i]:[{type:"pin",id:t},...e[i]]}:e,_=(e,{pinId:t,oldFeedId:i,newFeedId:n})=>i===n?e:g(h(e,{pinId:t,feedId:i}),{pinId:t,feedId:n}),y=(e,t)=>e in p?p[e](t):null,v=(e,t)=>{switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===u.Z.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"board_section":return{type:"boardsection",id:e.id};case"triedit":return{type:"triedit",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"triedit",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}},f=(e,t)=>t?`board-section-pins:${t}`:`boardfeed:${e}`,x=(e,t,i)=>{let n=i||s.Z[e];if(n===d.LR)return t.result;if(n===d.sN)return t.result.map(e=>({id:e,schema:"board"}));if(n===d.Gn)return t.result.map(e=>({id:e,schema:"user"}));if(n===d.Ht)return t.result.map(e=>({id:e,schema:"invite"}));if(n===d.fE)return t.result.map(e=>({id:e,schema:"reaction"}));if("object"==typeof n){let e=Object.entries(n).find(([e,t])=>t===d.LR);if(e)return t.result[e[0]]}return null},b=(e,t)=>e.map(e=>{let{id:i,schema:n,type:l}=e;return"home_feed_tabs"===l?e:n?{id:i,type:n,trackingParams:"pin"===n?t.pins[i].tracking_params:void 0,user_id:void 0}:null}).filter(Boolean),w=(e,t,i)=>Object.keys(e).reduce((n,l)=>{let a=e[l]||[],r=a.filter(e=>!(e.type===t&&e.id===i));return a.length!==r.length&&(n[l]=r),n},{...e}),S=(e={},t)=>{switch(t.type){case l.zP:case l.aW:{let{payload:n}=t,{resource:a,options:r,normalizedResponse:o,schema:s}=n;if(o&&a in p){let i=x(a,o,s);if(i&&Array.isArray(i)){let n=p[a](r);if("ShoppingFeedModularizedResource"===a){let{board_id:t,saved_products_only:n}=null!=r?r:{},l=`board-shop-related:${t}`,a=`board-shop-saved:${t}`,s=`board-shop-saved-preview:${t}`,d=[...e[l]||[]],u=[...e[a]||[]],c=[...e[s]||[]],p=b(i,o.entities);return p.forEach(e=>{if(n)u.push(e);else{var i;o.entities.pins&&(null===(i=o.entities.pins[e.id])||void 0===i?void 0:i.board)===t?c.push(e):d.push(e)}}),{...e,[l]:d,[a]:u,[s]:c}}if("BoardToolsFeedResource"===a||"SectionToolsFeedResource"===a)return{...e,[n]:i};if("UnifiedCommentsResource"===a){let a=((t.type===l.aW||l.zP)&&e[n]||[]).concat(b(i,o.entities));return{...e,[n]:a}}{let a=(t.type===l.aW&&e[n]||[]).concat(b(i,o.entities));return{...e,[n]:a}}}}else{var i;let{data:a}=n.response.resource_response;if(!(null!==(i=n.options)&&void 0!==i&&i.redux_normalize_feed))return e;let r=m[n.resource]({options:n.options,response:n.response});if(r){let{type:i,id:n,items:o,reversed:s}=r,d=(o||a||[]).map(e=>v(e,i));s&&(d=d.reverse());let u=`${i}:${n}`,c=e[u];if(c||t.type!==l.aW){let i=c||[],n=d;return t.type===l.aW&&(n=s?d.concat(i):i.concat(d)),{...e,[u]:n}}}}break}case"FEED_ITEM_REORDERED":{let{payload:{feedType:i,feedId:l,itemType:a,targetItemId:r,sourceItemId:o}}=t,s=`${i}:${l}`,d=e[s]||[],c=-1,p=-1;if([u.Z.BOARDFEED,u.Z.BOARD_SECTION_PINS,u.Z.BOARD_SECTIONS,"profileBoards"].includes(i)&&(c=d.findIndex(e=>e.type===a&&e.id===o),p=d.findIndex(e=>e.type===a&&e.id===r)),-1!==c&&-1!==p)return{...e,[s]:(0,n.Z)(d,c,p)};break}case"FEED_ITEMS_REMOVED":{let{payload:{feedType:i,feedId:n,inverseSelection:l,itemType:a,itemIds:r=[]}}=t,o=`${i}:${n}`,s=e[o]||[];if(s&&s.length>0&&(i===u.Z.BOARD_SECTION_PINS||i===u.Z.BOARDFEED)){let t=s.filter(e=>{let t=r.includes(e.id),i=e.type===a&&(l&&!t||!l&&t);return!i}),i=!!t.find(e=>"pin"===e.type);return{...e,[o]:i?t:[]}}if(s&&s.length>0&&i===u.Z.BOARD_SECTIONS){let t=s.filter(e=>{let t=r.includes(e.id);return!(e.type===a&&t)});return{...e,[o]:t}}if(s&&s.length>0&&(i===u.Z.AGGREGATED_COMMENTS||i===u.Z.BOARDLESS_PINS||i===u.Z.PROFILE_PINS_FEED||i===u.Z.STORY_PINS_FEED||i===u.Z.UNIFIED_COMMENTS||i===u.Z.TRIED_IT_FEED||i===u.Z.STORY_PIN_DATA)){let t=s.filter(e=>{let t=r.includes(e.id);return!(e.type===a&&t)});return{...e,[o]:t}}break}case"FEED_ITEMS_ADDED":{let{payload:{feedType:i,feedId:n,itemType:l,itemIds:a=[],prepend:r}}=t,o=`${i}:${n}`,s=e[o]||[];if(s&&(i===u.Z.BOARD_SECTION_PINS||i===u.Z.BOARDFEED||i===u.Z.BOARDLESS_PINS)){let t=a.map(e=>({id:e,type:l})),i=0;"story"===(s[0]||{}).type&&(i=1),"story"===(s[1]||{}).type&&(i=2);let n=[...s.slice(0,i),...t,...s.slice(i)];return{...e,[o]:n}}if(s&&i===u.Z.BOARD_SECTIONS){let t=[...a].reverse().map(e=>({id:e,type:"boardsection"})),i=s?[...t,...s]:[...t];return{...e,[o]:i}}if(i===u.Z.AGGREGATED_COMMENTS||i===u.Z.AGGREGATED_COMMENT_REPLIES||i===u.Z.PROFILE_PINS_FEED||i===u.Z.STORY_PINS_FEED||i===u.Z.UNIFIED_COMMENTS){let t=a.map(e=>({id:e,type:l})),i=s?[...r?t:s,...r?s:t]:t;return{...e,[o]:i}}if(i===u.Z.TRIED_IT_FEED){let t=a.map(e=>({id:e,type:l})),i=s?[...t,...s]:t;return{...e,[o]:i}}break}case"FEED_INVALIDATE":{let{payload:{feedType:i,feedId:n}}=t,l=`${i}:${n}`,a=e[l]||[];if(a)return{...e,[l]:null};break}case"APPEND_FEED_ITEMS":{let{payload:{id:i,items:n,options:l}}=t,a=e[i];if(!a)return{...e,[i]:n};{let t;return t=l.isPrepend?a[0]&&"story"===a[0].type?[].concat(a[0],n,a.slice(1)):n.concat(a):a.concat(n),{...e,[i]:t}}}case"PIN_DELETE":{let{payload:{pinId:i}}=t;return w(e,"pin",i)}case"BOARD_ARCHIVE":{let{payload:{boardId:i,username:n}}=t,l=`profile-boards:${null!=n?n:""}`;if(e[l])return{...e,[l]:e[l].filter(e=>e.id!==i)};break}case"BOARD_UNARCHIVE":{let{payload:{boardId:i}}=t,n="archived-boards";if(e[n])return{...e,[n]:e[n].filter(e=>e.id!==i)};break}case"BOARD_DELETE":{let{payload:{boardId:i}}=t;return w(e,"board",i)}case"BOARD_SECTION_DELETE":{let{payload:{boardSectionId:i}}=t;return w(e,"boardsection",i)}case"PINS_MOVE":{let{payload:{source:i,target:n,pinIds:l,userId:a}}=t,r=i.boardlessPins&&a&&`boardless-pins:${a}`||i.boardId&&f(i.boardId,i.sectionId),o=f(n.boardId,n.sectionId);return l.reduce((e,t)=>_(e,{pinId:t,oldFeedId:r,newFeedId:o}),e)}case"PINS_MOVE_ALL":{let{payload:{source:i,target:n,excludePinIds:l}}=t,a=f(i.boardId,i.sectionId),r=f(n.boardId,n.sectionId),o={...e,[a]:l.map(e=>({type:"pin",id:e}))};return delete o[r],o}case"PIN_EDIT":{let{payload:{pinId:i,boardId:n,sectionId:l="",source:{boardId:a,sectionId:r}}}=t,o=f(a,r),s=f(n,l);return _(e,{pinId:i,oldFeedId:o,newFeedId:s})}case l.AF:if(c.has(t.payload.resource)){let i;let n=t.payload.response.resource_response.data,{board:l}=n;if("quick_saves"===l.layout)i=`boardless-pins:${t.payload.options.user_id}`;else{let e=t.payload.options.section;i=e?`board-section-pins:${e}`:`boardfeed:${l.id}`}if(e[i]){let t={...e},l={id:n.id,type:"pin",trackingParams:null==n?void 0:n.tracking_params};return t[i]=[l].concat(e[i]),t}}if("BoardSectionResource"===t.payload.resource&&t.payload.normalizedResponse){let i=t.payload.normalizedResponse.result,n=t.payload.normalizedResponse.entities.boardsections[i].board,l=`board-sections:${n}`;if(e[l]){let t={...e};return t[l]=[{id:i,type:"boardsection"}].concat(e[l]),t}}if("AggregatedCommentResource"===t.payload.resource&&t.payload.normalizedResponse){let i=t.payload.normalizedResponse.result,n={id:i,type:"aggregatedcomment"},l={...e};for(let i of["aggregated-comments","unified-comments"]){let a=`${i}:${t.payload.options.objectId}`;e[a]&&(l={...l,[a]:[n].concat(l[a])})}return l}if("AggregatedCommentReplyResource"===t.payload.resource&&t.payload.normalizedResponse){let i=`${u.Z.AGGREGATED_COMMENT_REPLIES}:${t.payload.options.objectId}`;return{...e,[i]:[...e[i]||[],{id:t.payload.normalizedResponse.result,type:"aggregatedComment"}]}}if("ReactionsResource"===t.payload.resource&&t.payload.normalizedResponse){let{reaction_pin_id:i,reaction_type:n}=t.payload.options;if("reaction"===t.payload.options.action_type){let l=`reactions:${t.payload.options.pin_id}`,a={...e},r={id:`${i}:${t.payload.options.user_id}:${n}`,type:"reaction",trackingParams:void 0};return a[l]=[r].concat(e[l]),a}if("unreaction"===t.payload.options.action_type){let n=`${i}:${t.payload.options.user_id}`;return w(e,"reaction",n)}}break;case"COMPLETE_STORY":{let{payload:{storyId:i}}=t;return w(e,"story",i)}}return e}},761881:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});let n=(e,t)=>"string"==typeof e?e:e(t),l=e=>(t,i)=>t.feeds[n(e,i)],a=e=>l(e)},404508:(e,t,i)=>{"use strict";i.d(t,{Z:()=>_});var n=i(702664),l=i(616550),a=i(883119),r=i(464232),o=i(112690),s=i(385740),d=i(898781),u=i(773285),c=i(957161),p=i(867820),m=i(52022),h=i(50286),g=i(785893);function _({alignIconLeft:e,bgColor:t,color:i,disableRedirect:_=!1,fallbackUrl:y,icon:v="arrow-back",onTouch:f,padding:x,placement:b,shouldUseFallbackUrl:w,size:S="lg",viewParameter:k,viewType:P,fallbackUrlForExp:j}){let I=(0,d.ZP)(),T=(0,h.HG)(),{checkExperiment:C}=(0,u.F)(),F=(0,l.k6)(),A=(0,l.TH)(),E=(0,n.useSelector)(e=>e.session.isAuthenticated),R=(0,o.Z)(),D=(0,m.Z)(),L=!E&&j&&"/ideas"===y,{viewType:Z,viewParameter:M}=(0,s.SU)(),[O,z]=P?[P,k]:[Z,M],N=()=>A.search&&A.search.includes("?nativeShouldDismiss=true"),K=()=>{let e=c.Z.getItem(r.pm);A.key||"/ideas"!==y?(0,p.My)(`pinner_conversion.back_button.${String(null==e?void 0:e[0].pageType)}`):(0,p.My)("pinner_conversion.back_button.no_history"),(0,p.My)(`web_back_button_click.${String(b)}.is_auth_${String(E)}`),D({action:"click",item:"back-button"}),O&&R({view_type:O,view_parameter:z,element:34,event_type:102}),f&&f(),_||((!A.key||A.state&&"redirect"===A.state.referrer||w)&&y?L?T&&C("web_unauth_backbutton_navigation").anyEnabled?(F.push(j||y),(0,p.My)("web.unauth.back_button.l1interest")):!T&&C("mweb_unauth_backbutton_navigation").anyEnabled?(F.push(j||y),(0,p.My)("mweb.unauth.back_button.l1interest")):F.push(y):F.push(y):A.pathname.includes("/password/reset/")&&N()?F.push("/login/?dismissWebview=true"):F.goBack())};return(0,g.jsx)(a.xu,{"data-test-id":"back-button",children:e?(0,g.jsx)(a.xu,{alignItems:"center",display:"flex",height:48,marginStart:"cancel"===v?-1:-2,width:48,children:(0,g.jsx)(a.hU,{accessibilityLabel:I.bt("Retour", "Back", "navigation button", undefined, true),bgColor:t,icon:v,iconColor:!i&&(!t||["white","lightGray","transparent"].includes(t))?"gray":i,onClick:K,padding:"auto"!==x?x:2,size:S})}):(0,g.jsx)(a.hU,{accessibilityLabel:I.bt("Retour", "Back", "navigation button", undefined, true),bgColor:t,icon:v,iconColor:!i&&(!t||["white","lightGray","transparent"].includes(t))?"gray":i,onClick:K,padding:"auto"!==x?x:2,size:S})})}},468760:(e,t,i)=>{"use strict";function n(){return"angled-pin"}i.d(t,{f:()=>n})},977734:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(214494),l=i(361115),a=i(723852),r=i(675752);function o({checkExperiment:e,history:t,i18n:i,logContextEvent:o,onSuccess:s,onUndo:d,originalPinId:u,pinId:c,trackingParams:p,disableRepinAnimation:m,showNewUserSavetoProfileAnimation:h,showRepinConfirmation:g,historyPush:_,savePinId:y}){return(v,f)=>{let{pins:x,session:b}=f(),{userId:w}=b,S=x[c],k=i.bt("Enregistrements rapides", "Quick Saves", "quickSave.boardName", undefined, true);return n.Z.create("BoardResource",{name:k,layout:"quick_saves",protected:!1,return_existing:!0,user_id:w}).callCreate().then(n=>{var f,x,w,k;let P=n.resource_response.data;(0,l.ib)({checkExperiment:e,isAuthMweb:b.isAuthenticated&&(b.isMobile||b.isTablet)});let j=new a.Z({boardId:P.id,dispatch:v,isQuickSave:!0,history:t,i18n:i,onSuccess:s,onUndo:d,originalPinId:u,pinId:c,section:void 0,showNewUserSavetoProfileAnimation:h,showRepinToasts:e=>g?g(e,m):void 0,trackingParams:p,userId:b.userId,historyPush:_,savePinId:y,pinData:{trackingParams:S?S.tracking_params:void 0,viewParameter:S?(0,r.A)({hasRichMetadata:!!S.rich_metadata,hasRichMetadataProducts:!!(null!==(f=S.rich_metadata)&&void 0!==f&&f.products),hasRichMetadataArticle:!!(null!==(x=S.rich_metadata)&&void 0!==x&&x.article),hasRichMetadataRecipe:!!(null!==(w=S.rich_metadata)&&void 0!==w&&w.recipe)}):void 0,pinnedToBoardId:S?null===(k=S.pinned_to_board)||void 0===k?void 0:k.id:void 0}});return j.processRepin(o)})}}},144226:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(883119),l=i(785893);function a({children:e}){return(0,l.jsx)(n.xu,{paddingY:4,children:e})}},12755:(e,t,i)=>{"use strict";i.d(t,{VF:()=>l,pG:()=>n,vc:()=>a});let n=348,l=7,a=4},143649:(e,t,i)=>{"use strict";function n({cropSource:e,viewType:t}){return 2===t?"search":e&&5!==e?4===e?"stela":null:"related_products"}i.d(t,{Z:()=>n})},652519:(e,t,i)=>{"use strict";i.d(t,{Z:()=>el});var n=i(667294),l=i(542473),a=i.n(l),r=Math.sqrt(50),o=Math.sqrt(10),s=Math.sqrt(2);function d(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function u(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?d(Object(i),!0).forEach(function(t){var n;n=i[t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function c(e,t){if(!(e instanceof t))throw TypeError("Cannot call a class as a function")}function p(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function m(e,t,i){return t&&p(e.prototype,t),i&&p(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}function h(e,t){if("function"!=typeof t&&null!==t)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_(e,t)}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var i,n=g(e);if(t){var l=g(this).constructor;i=Reflect.construct(n,arguments,l)}else i=n.apply(this,arguments);return function(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw TypeError("Derived constructors may only return object or undefined");return y(e)}(this,i)}}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var i,n,l=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=l){var a=[],r=!0,o=!1;try{for(l=l.call(e);!(r=(i=l.next()).done)&&(a.push(i.value),!t||a.length!==t);r=!0);}catch(e){o=!0,n=e}finally{try{r||null==l.return||l.return()}finally{if(o)throw n}}return a}}(e,t)||b(e,t)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e){return function(e){if(Array.isArray(e))return w(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||b(e)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return w(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return w(e,t)}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}var S="react-compound-slider:";function k(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,i){return t.val>i.val?e?-1:1:i.val>t.val?e?1:-1:0}}function P(e,t,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=e.findIndex(function(e){return e.key===t});if(-1!==l){var a=e[l],r=a.key;return a.val===i?e:[].concat(x(e.slice(0,l)),[{key:r,val:i}],x(e.slice(l+1))).sort(k(n))}return e}function j(e,t){if(!e)return[0,0];var i=e.getBoundingClientRect();return[t?i.top:i.left,t?i.bottom:i.right]}function I(e){var t=e.type,i=e.touches;return!i||i.length>1||"touchend"===(void 0===t?"":t).toLowerCase()&&i.length>0}function T(e,t){return e?t.touches[0].clientY:t.touches[0].pageX}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,l=0;return{handles:e.map(function(e){var t=i.getValue(e);return e!==t&&(l+=1,a()(!n,"".concat(S," Invalid value encountered. Changing ").concat(e," to ").concat(t,"."))),t}).map(function(e,t){return{key:"$$-".concat(t),val:e}}).sort(k(t)),changes:l}}function F(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){return t.forEach(function(t){return t&&t(e)})}}var A=function(){return{value:0,percent:0}},E=function(e){h(i,e);var t=v(i);function i(){var e;c(this,i);for(var n=arguments.length,l=Array(n),a=0;a<n;a++)l[a]=arguments[a];return(e=t.call.apply(t,[this].concat(l))).getRailProps=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e.props,n=i.emitMouse,l=i.emitTouch;return u(u({},t),{},{onMouseDown:F(t&&t.onMouseDown,n),onTouchStart:F(t&&t.onTouchStart,l)})},e}return m(i,[{key:"render",value:function(){var e=this.getRailProps,t=this.props,i=t.getEventData,l=t.activeHandleID,a=(0,t.children)({getEventData:i||A,activeHandleID:void 0===l?"":l,getRailProps:e});return a&&n.Children.only(a)}}]),i}(n.Component),R=function(e){h(i,e);var t=v(i);function i(){var e;c(this,i);for(var n=arguments.length,l=Array(n),a=0;a<n;a++)l[a]=arguments[a];return(e=t.call.apply(t,[this].concat(l))).autofocus=function(e){e.target instanceof HTMLElement&&e.target.focus()},e.getHandleProps=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.props,l=n.emitKeyboard,a=n.emitMouse,r=n.emitTouch;return u(u({},i),{},{onKeyDown:F(i&&i.onKeyDown,function(e){return l&&l(e,t)}),onMouseDown:F(i&&i.onMouseDown,e.autofocus,function(e){return a&&a(e,t)}),onTouchStart:F(i&&i.onTouchStart,function(e){return r&&r(e,t)})})},e}return m(i,[{key:"render",value:function(){var e=this.getHandleProps,t=this.props,i=t.activeHandleID,l=t.children,a=t.handles,r=l({handles:void 0===a?[]:a,activeHandleID:void 0===i?"":i,getHandleProps:e});return r&&n.Children.only(r)}}]),i}(n.Component),D=function(){function e(){c(this,e),this.interpolator=void 0,this.domain=[0,1],this.range=[0,1],this.domain=[0,1],this.range=[0,1],this.interpolator=null}return m(e,[{key:"createInterpolator",value:function(e,t){var i=this,n=e[0],l=e[1],a=t[0],r=t[1];return l<n?function(e){return i.interpolateValue(r,a)(i.deinterpolateValue(l,n)(e))}:function(e){return i.interpolateValue(a,r)(i.deinterpolateValue(n,l)(e))}}},{key:"interpolateValue",value:function(e,t){return t-=e=+e,function(i){return e+t*i}}},{key:"deinterpolateValue",value:function(e,t){return(t-=e=+e)?function(i){return(i-e)/t}:function(){return t}}},{key:"rescale",value:function(){return this.interpolator=null,this}},{key:"getValue",value:function(e){var t=this.domain,i=this.range;return(this.interpolator||(this.interpolator=this.createInterpolator(t,i)))(+e)}},{key:"setDomain",value:function(e){return this.domain=[e[0],e[1]],this.rescale(),this}},{key:"getDomain",value:function(){return this.domain}},{key:"setRange",value:function(e){return this.range=[e[0],e[1]],this}},{key:"getRange",value:function(){return this.range}},{key:"getTicks",value:function(e){var t=this.domain;return function(e,t,i){var n,l,a,d,u,c,p,m=-1;if(i=+i,(e=+e)==(t=+t)&&i>0)return[e];if((d=t<e)&&(u=e,e=t,t=u),0==(l=Math.floor(Math.log(n=(t-e)/Math.max(0,i))/Math.LN10),a=n/Math.pow(10,l),p=l>=0?(a>=r?10:a>=o?5:a>=s?2:1)*Math.pow(10,l):-Math.pow(10,-l)/(a>=r?10:a>=o?5:a>=s?2:1))||!isFinite(p))return[];if(p>0){let i=Math.round(e/p),n=Math.round(t/p);for(i*p<e&&++i,n*p>t&&--n,c=Array(u=n-i+1);++m<u;)c[m]=(i+m)*p}else{let i=Math.round(e*(p=-p)),n=Math.round(t*p);for(i/p<e&&++i,n/p>t&&--n,c=Array(u=n-i+1);++m<u;)c[m]=(i+m)/p}return d&&c.reverse(),c}(t[0],t[t.length-1],e||10)}}]),e}(),L=function(){return{value:0,percent:0}},Z=function(e){h(i,e);var t=v(i);function i(){return c(this,i),t.apply(this,arguments)}return m(i,[{key:"render",value:function(){var e=this.props,t=e.children,i=e.values,l=e.scale,a=void 0===l?new D:l,r=e.count,o=e.getEventData,s=e.activeHandleID,d=t({getEventData:void 0===o?L:o,activeHandleID:void 0===s?"":s,ticks:(i||a.getTicks(void 0===r?10:r)).map(function(e){return{id:"$$-".concat(e),value:e,percent:a.getValue(e)}})});return d&&n.Children.only(d)}}]),i}(n.Component),M=function(){return{value:0,percent:0}},O=function(e){h(i,e);var t=v(i);function i(){var e;c(this,i);for(var n=arguments.length,l=Array(n),a=0;a<n;a++)l[a]=arguments[a];return(e=t.call.apply(t,[this].concat(l))).getTrackProps=function(t){var i=e.props,n=i.emitMouse,l=i.emitTouch;return u(u({},t||{}),{},{onMouseDown:F(t&&t.onMouseDown,n),onTouchStart:F(t&&t.onTouchStart,l)})},e}return m(i,[{key:"render",value:function(){for(var e=this.getTrackProps,t=this.props,i=t.children,l=t.left,a=void 0===l||l,r=t.right,o=void 0===r||r,s=t.scale,d=void 0===s?new D:s,u=t.handles,c=void 0===u?[]:u,p=t.getEventData,m=t.activeHandleID,h=d.getDomain(),g=[],_=0;_<c.length+1;_++){var y=c[_-1],v=c[_];0===_&&!0===a?y={id:"$",value:h[0],percent:0}:_===c.length&&!0===o&&(v={id:"$",value:h[1],percent:100}),y&&v&&g.push({id:"".concat(y.id,"-").concat(v.id),source:y,target:v})}var f=i({getEventData:void 0===p?M:p,activeHandleID:void 0===m?"":m,tracks:g,getTrackProps:e});return f&&n.Children.only(f)}}]),i}(n.Component);function z(e,t,i){return Math.min(Math.max(e,t),i)}var N=m(function e(){var t=this;c(this,e),this.step=1,this.domain=[0,1],this.range=[0,1],this.setDomain=function(e){return t.domain=[e[0],e[1]],t},this.setRange=function(e){return t.range=[e[0],e[1]],t},this.setStep=function(e){return t.step=e,t},this.getValue=function(e){var i=f(t.domain,2),n=i[0],l=i[1],a=f(t.range,2),r=a[0],o=a[1],s=t.step,d=s*Math.round((z(e,n,l)-n)/(l-n)*(o-r)/s)+r;return z(d,r<o?r:o,o>r?o:r)}}),K="undefined"!=typeof window&&"undefined"!=typeof document,U=function(){},B=function(e){if(!(0,n.isValidElement)(e))return!1;var t=e.type,i=t?t.name:"";return i===R.name||i===E.name||i===Z.name||i===O.name},$=function(e,t,i,n){var l=n?e-t:e+t;return n?Math.max(i[0],l):Math.min(i[1],l)},H=function(e,t,i,n){var l=n?e+t:e-t;return n?Math.min(i[1],l):Math.max(i[0],l)},G=[0,100],W=function(e){h(i,e);var t=v(i);function i(){var e;c(this,i);for(var l=arguments.length,a=Array(l),r=0;r<l;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).state={step:.1,values:[],domain:G,handles:[],reversed:!1,activeHandleID:"",valueToPerc:null,valueToStep:null,pixelToStep:null},e.slider=n.createRef(),e.onKeyDown=function(t,i){var n=["ArrowRight","ArrowUp"],l=["ArrowDown","ArrowLeft"],a=y(e),r=a.state.handles,o=a.props,s=o.step,d=void 0===s?.1:s,u=o.reversed,c=void 0!==u&&u,p=o.vertical,m=o.domain,h=void 0===m?[0,100]:m,g=t.key||"".concat(t.keyCode);if(n.concat(l).includes(g)){if(void 0!==p&&p){var _=[l,n];n=_[0],l=_[1]}t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault();var v=r.find(function(e){return e.key===i});if(v){var f=v.val,x=f;n.includes(g)?x=$(f,d,h,c):l.includes(g)&&(x=H(f,d,h,c));var b=r.map(function(e){return e.key===i?{key:e.key,val:x}:e});e.submitUpdate(b,!0)}}},e.onMouseDown=function(t,i){e.onStart(t,i,!1)},e.onTouchStart=function(t,i){I(t)||e.onStart(t,i,!0)},e.getEventData=function(t,i){var n,l=y(e),a=l.state,r=a.pixelToStep,o=a.valueToPerc,s=l.props.vertical;return r.setDomain(j(e.slider.current,s)),i&&t instanceof TouchEvent?n=r.getValue(T(s,t)):t instanceof MouseEvent&&(n=r.getValue(s?t.clientY:t.pageX)),{value:n,percent:o.getValue(n)}},e.onMouseMove=function(t){var i=y(e),n=i.state,l=n.handles,a=n.pixelToStep,r=n.activeHandleID,o=void 0===r?"":r,s=i.props,d=s.vertical,u=s.reversed,c=void 0!==u&&u;a.setDomain(j(e.slider.current,d));var p=P(l,o,a.getValue(d?t.clientY:t.pageX),c);e.submitUpdate(p)},e.onTouchMove=function(t){var i=y(e),n=i.state,l=n.handles,a=n.pixelToStep,r=n.activeHandleID,o=i.props,s=o.vertical,d=o.reversed;if(!(null===a||I(t))){a.setDomain(j(e.slider.current,s));var u=P(l,r,a.getValue(T(s,t)),d);e.submitUpdate(u)}},e.onMouseUp=function(){var t=y(e),i=t.state,n=i.handles,l=void 0===n?[]:n,a=i.activeHandleID,r=t.props,o=r.onChange,s=void 0===o?U:o,d=r.onSlideEnd,u=void 0===d?U:d;s(l.map(function(e){return e.val})),u(l.map(function(e){return e.val}),{activeHandleID:a}),e.setState({activeHandleID:""}),K&&(document.removeEventListener("mousemove",e.onMouseMove),document.removeEventListener("mouseup",e.onMouseUp))},e.onTouchEnd=function(){var t=y(e),i=t.state,n=i.handles,l=i.activeHandleID,a=t.props,r=a.onChange,o=void 0===r?U:r,s=a.onSlideEnd,d=void 0===s?U:s;o(n.map(function(e){return e.val})),d(n.map(function(e){return e.val}),{activeHandleID:l}),e.setState({activeHandleID:""}),K&&(document.removeEventListener("touchmove",e.onTouchMove),document.removeEventListener("touchend",e.onTouchEnd))},e}return m(i,[{key:"componentDidMount",value:function(){var e=this.state.pixelToStep,t=this.props.vertical;e.setDomain(j(this.slider.current,t))}},{key:"componentWillUnmount",value:function(){this.removeListeners()}},{key:"removeListeners",value:function(){K&&(document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"onStart",value:function(e,t,i){var n=this.state.handles,l=this.props.onSlideStart,a=void 0===l?U:l;!i&&e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),n.find(function(e){return e.key===t})?(this.setState({activeHandleID:t}),a(n.map(function(e){return e.val}),{activeHandleID:t}),i?this.addTouchEvents():this.addMouseEvents()):(this.setState({activeHandleID:""}),this.handleRailAndTrackClicks(e,i))}},{key:"handleRailAndTrackClicks",value:function(e,t){var i,n=this,l=this.state,a=l.handles,r=l.pixelToStep,o=this.props,s=o.vertical,d=o.reversed,u=void 0!==d&&d,c=this.slider;r.setDomain(j(c.current,s)),i=t?r.getValue(T(s,e)):r.getValue(s?e.clientY:e.pageX);for(var p="",m=1/0,h=0;h<a.length;h++){var g=a[h],_=g.key,y=Math.abs(g.val-i);y<m&&(p=_,m=y)}var v=P(a,p,i,u);this.setState({activeHandleID:p},function(){n.submitUpdate(v,!0),t?n.addTouchEvents():n.addMouseEvents()})}},{key:"addMouseEvents",value:function(){K&&(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp))}},{key:"addTouchEvents",value:function(){K&&(document.addEventListener("touchmove",this.onTouchMove),document.addEventListener("touchend",this.onTouchEnd))}},{key:"submitUpdate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.props,n=i.mode,l=void 0===n?1:n,r=i.step,o=void 0===r?.1:r,s=i.onUpdate,d=void 0===s?U:s,u=i.onChange,c=void 0===u?U:u,p=i.reversed,m=void 0!==p&&p,h=this.state.valueToStep.getValue;this.setState(function(i){var n=i.handles,r=[];if("function"==typeof l)r=l(n,e,o,m,h),a()(Array.isArray(r),"Custom mode function did not return an array.");else switch(l){case 1:r=e;break;case 2:r=function(e,t){for(var i=0;i<e.length;i++)if(e[i].key!==t[i].key||t[i+1]&&t[i].val===t[i+1].val)return e;return t}(n,e);break;case 3:r=function e(t,i,n,l,a){for(var r=-1,o=!0,s=0;s<t.length;s++){var d=t[s],u=i[s];if(!u||u.key!==d.key)return t;u.val!==d.val&&(r=s,o=u.val-d.val>0)}if(-1===r)return t;for(var c=o?n:-n,p=0;p<i.length;p++){var m=i[p],h=i[p+1];if(h&&m.val===h.val){if(p===r){var g=h.val+c;if(a(g)!==g)return t;var _=P(i,h.key,h.val+c,l),y=e(i,_,n,l,a);if(y===i)return t;return y}var v=m.val+c;if(a(v)!==v)return t;var f=P(i,m.key,m.val+c,l),x=e(i,f,n,l,a);if(x===i)return t;return x}}return i}(n,e,o,m,h);break;default:r=e,a()(!1,"".concat(S," Invalid mode value."))}return d(r.map(function(e){return e.val})),t&&c(r.map(function(e){return e.val})),{handles:r}})}},{key:"render",value:function(){var e=this,t=this.state,i=t.handles,l=t.valueToPerc,a=t.activeHandleID,r=this.props,o=r.className,s=r.rootStyle,d=void 0===s?{}:s,c=r.rootProps,p=void 0===c?{}:c,m=r.component,h=void 0===m?"div":m,g=r.disabled,_=void 0!==g&&g,y=r.flatten,v=i.map(function(e){var t=e.key,i=e.val;return{id:t,value:i,percent:l.getValue(i)}}),f=n.Children.map(this.props.children,function(t){return!0===B(t)?n.cloneElement(t,{scale:l,handles:v,activeHandleID:a,getEventData:e.getEventData,emitKeyboard:_?U:e.onKeyDown,emitMouse:_?U:e.onMouseDown,emitTouch:_?U:e.onTouchStart}):t});return void 0!==y&&y?n.createElement(n.Fragment,null,n.createElement(h,u(u({},p),{},{style:d,className:o,ref:this.slider})),f):n.createElement(n.Fragment,null,n.createElement(h,u(u({},p),{},{style:d,className:o,ref:this.slider}),f))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var i,n,l=e.step,r=void 0===l?.1:l,o=e.values,s=e.domain,d=void 0===s?G:s,u=e.reversed,c=void 0!==u&&u,p=e.onUpdate,m=void 0===p?U:p,h=e.onChange,g=void 0===h?U:h,_=e.warnOnChanges,y=void 0!==_&&_,v=t.valueToPerc,b=t.valueToStep,w=t.pixelToStep,k={};if(v&&b&&w||(v=new D,b=new N,w=new N,k.valueToPerc=v,k.valueToStep=b,k.pixelToStep=w),t.domain===G||null===t.step||null===t.domain||null===t.reversed||r!==t.step||d[0]!==t.domain[0]||d[1]!==t.domain[1]||c!==t.reversed){var P=f(d,2),j=P[0],I=P[1];b.setStep(r).setRange([j,I]).setDomain([j,I]),!0===c?(v.setDomain([j,I]).setRange([100,0]),w.setStep(r).setRange([I,j])):(v.setDomain([j,I]).setRange([0,100]),w.setStep(r).setRange([j,I])),a()(I>j,"".concat(S," Max must be greater than min (even if reversed). Max is ").concat(I,". Min is ").concat(j,"."));var T=C(o||t.values,c,b,y),F=T.handles;(T.changes||void 0===o||o===t.values)&&(m(F.map(function(e){return e.val})),g(F.map(function(e){return e.val}))),k.step=r,k.values=o,k.domain=d===G?x(d):d,k.handles=F,k.reversed=c}else{if(!((i=o)===(n=t.values)||i.length===n.length&&i.reduce(function(e,t,i){return e&&n[i]===t},!0))){var A=C(o,c,b,y),E=A.handles;A.changes&&(m(E.map(function(e){return e.val})),g(E.map(function(e){return e.val}))),k.values=o,k.handles=E}}return Object.keys(k).length?k:null}}]),i}(n.PureComponent),V=i(883119),q=i(112690),Y=i(643010),Q=i(898781),J=i(892819),X=i(780280),ee=i(245376),et=i(785893);let ei=({domain:[e,t],handle:{id:i,value:n,percent:l},getHandleProps:a,touched:r,activeHandleID:o})=>(0,et.jsx)("div",{"aria-valuemax":t,"aria-valuemin":e,"aria-valuenow":n,role:"slider",style:{left:`${l}%`,position:"absolute",marginLeft:"-11px",marginTop:"-5px",border:"1px solid white",zIndex:2,width:15,height:15,cursor:"pointer",borderRadius:"50%",boxShadow:"1px 1px 1px 1px rgba(0, 0, 0, 0.2)",backgroundColor:"black",transform:r&&o===i?"scale(2)":""},...a(i)}),en=({source:e,target:t,getTrackProps:i,backgroundColor:n})=>(0,et.jsx)("div",{style:{position:"absolute",height:5,zIndex:1,backgroundColor:n||"black",borderRadius:7,cursor:"pointer",left:`${e.percent}%`,width:`${t.percent-e.percent}%`},...i()}),el=function({cropSource:e,currencyType:t,minPrice:i,maxPrice:l,lowerBound:a,upperBound:r,handlePriceChange:o,withTitle:s,instructions:d}){let u=(0,Q.ZP)(),c=(0,J.Z)(),p=(0,q.Z)(),{locale:m}=(0,X.B)(),h={position:"absolute",width:"100%",height:5,borderRadius:7,cursor:"pointer",backgroundColor:(0,Y.Yc)()?"#454545":"lightGrey"},g=[Math.ceil(a),Math.ceil(r)],_=[Math.ceil(i),Math.ceil(l)],[y,v]=(0,n.useState)([!1,!1]);(0,n.useEffect)(()=>{p({event_type:120,component:13468,view_parameter:3396,view_type:72,aux_data:{commerce_data:JSON.stringify({source:(0,ee.Z)(e)})}})},[]);let f={currency:t,style:"currency",minimum_fraction_digits:0,maximum_fraction_digits:2};return(0,et.jsxs)(n.Fragment,{children:[s&&(0,et.jsx)(V.xu,{"data-test-id":"price-filter-label",paddingY:4,children:(0,et.jsx)(V.xv,{children:u.bt("Gamme de prix", "Price range", "FeedFiltering.PriceFilter.PriceRange", undefined, true)})}),(0,et.jsxs)(V.xu,{alignItems:"center",display:"flex",justifyContent:"between",marginBottom:3,children:[(0,et.jsx)(V.xv,{weight:"bold",children:(0,et.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{transform:y[0]?"translateZ(0) translateY(0) scale(1.25)":""}},"data-test-id":"min-price-filter",children:c(m,_[0],f)})}),(0,et.jsx)(V.xv,{weight:"bold",children:(0,et.jsx)(V.xu,{dangerouslySetInlineStyle:{__style:{transform:y[1]?"translateZ(0) translateY(0) scale(1.25)":"",textAlign:"right"}},"data-test-id":"max-price-filter",children:c(m,_[1],{...f,uplimit:r})})})]},"priceSliderValues"),(0,et.jsxs)(W,{domain:g,mode:2,onChange:()=>{v([!1,!1])},onUpdate:e=>{o(e);let[t,i]=_,[n,l]=e;t!==n?v([!0,!1]):i!==l&&v([!1,!0])},rootStyle:{margin:"5%",position:"relative",width:"90%"},step:1,values:_,children:[(0,et.jsx)(E,{children:({getRailProps:e})=>(0,et.jsx)("div",{style:h,...e()})}),(0,et.jsx)(R,{children:({handles:e,getHandleProps:t,activeHandleID:i})=>(0,et.jsx)("div",{className:"slider-handles","data-test-id":"slider-handles",children:e.map((e,n)=>(0,et.jsx)(ei,{activeHandleID:i,domain:g,getHandleProps:t,handle:e,touched:y[n]},e.id))})}),(0,et.jsx)(O,{left:!1,right:!1,children:({tracks:e,getTrackProps:t})=>(0,et.jsx)("div",{className:"slider-tracks",children:e.map(({id:e,source:i,target:n})=>(0,et.jsx)(en,{backgroundColor:(0,Y.Yc)()?"white":"black",getTrackProps:t,source:i,target:n},e))})})]}),(0,et.jsx)(V.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginTop:12,children:(0,et.jsx)(V.xv,{children:d||u.bt("Faites glisser pour changer le prix", "Drag to change price", "FeedFiltering.PriceFilter.PriceDragText", undefined, true)})})]})}},163321:(e,t,i)=>{"use strict";i.d(t,{Z:()=>g,e:()=>p});var n=i(702664),l=i(240684),a=i(883119),r=i(332611),o=i(131108),s=i(599997),d=i(46584),u=i(785893);let c=(0,l.ZP)({resolved:{},chunkName:()=>"storyPins-duplo-HlsVideoContainer",isReady(e){let t=this.resolve(e);return!0===this.resolved[t]&&!!i.m[t]},importAsync:()=>Promise.all([i.e(67631),i.e(19596)]).then(i.bind(i,881999)),requireAsync(e){let t=this.resolve(e);return this.resolved[t]=!1,this.importAsync(e).then(e=>(this.resolved[t]=!0,e))},requireSync(e){let t=this.resolve(e);return i(t)},resolve:()=>881999}),p=Object.freeze({white:"inverse",black:"default"}),m={defaultOverlay:{backgroundColor:"rgba(0, 0, 0, 0.4)"}};function h({titleText:e,videoPin:t,videoPlaceholderImage:i}){return(0,u.jsx)(c,{aspectRatio:s.q4,controls:!1,fallback:(0,u.jsx)(a.Ee,{alt:e||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:3,naturalWidth:2,src:i||t.metadata.thumbnail}),poster:i||t.metadata.thumbnail,src:t.url})}function g({buttonAction:e,buttonCustomization:t,buttonText:i,experience:l,hideCompleteButton:c,imageAlt:p,imageUrl:g,openNewTab:_,storyType:y,titleText:v,titleTextColor:f,titleTextCustomization:x,videoPin:b,videoPlaceholderImage:w}){var S;let k=(0,n.useDispatch)(),P=(0,r.be)(),j=(0,r.Ig)(),{experience_id:I,placement_id:T}=l||{},C=(0,d.Z)({onVisibilityChanged:e=>{e&&l&&"viewed"!==l.status&&void 0!==T&&void 0!==I&&(l.status="viewed",k(j(T,I,!1,!0)))}}),F=()=>{l&&k(P(T,I,!1,!0))},A=(0,s.zn)(y),E=A?o.f8:o.hm,R=A?o.sH:o.HI,{color:D,fontStyle:L,fontWeight:Z,horizontalAlignment:M,fontSize:O}=(0,s.Mf)(x||{},"mweb"),{button_background_color:z,button_text_color:N}=t||{};return(0,u.jsx)(a.xu,{ref:C,marginBottom:2,padding:1,position:"relative",children:(0,u.jsxs)(a.rU,{accessibilityLabel:v,href:e,onClick:({dangerouslyDisableOnNavigation:e})=>{e(),F()},target:_?"blank":null,children:[(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(150%)"}},position:"relative",children:(0,u.jsxs)(a.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},left:!0,overflow:"hidden",position:"absolute",right:!0,rounding:4,top:!0,children:[(0,u.jsx)(a.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:"feed_card_video"===y&&b?(0,u.jsx)(h,{titleText:v,videoPin:b,videoPlaceholderImage:w}):g&&(0,u.jsx)(a.Ee,{alt:p||v||"",color:"rgb(111, 91, 77)",fit:"cover",naturalHeight:4,naturalWidth:3,src:g})}),!A&&(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:m.defaultOverlay},height:"100%",left:!0,position:"absolute",top:!0,width:"100%"}),(0,u.jsx)(E,{children:(0,u.jsx)(a.xv,{align:M,color:f,italic:"italics"===L,weight:Z,children:(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{color:null!==(S=D||f)&&void 0!==S?S:void 0,fontSize:O}},children:v})})})]})}),!c&&(0,u.jsx)(R,{children:(0,u.jsx)(a.xu,{alignItems:"center",color:A?"default":"secondary",dangerouslySetInlineStyle:{__style:{backgroundColor:z}},display:"flex",height:48,justifyContent:"center",paddingX:2,rounding:"pill",children:(0,u.jsx)(a.xv,{lineClamp:1,size:"200",weight:"bold",children:(0,u.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{color:N}},children:i})})})})]})})}},706794:(e,t,i)=>{"use strict";i.d(t,{Z:()=>p});var n=i(667294),l=i(702664),a=i(883119),r=i(773285),o=i(19121),s=i(861411),d=i(350118),u=i(491563),c=i(785893);function p({slotIndex:e,storyId:t,exactMatch:i=!1}){let{isAuth:p}=(0,o.Z)(),{checkExperiment:m}=(0,r.F)(),h=(0,d.S6)(),{action:g,aux_fields:_,objects:y,story_type:v,title:f}=(0,l.useSelector)(({stories:e})=>e[t]),x=y[0].id,b=y.slice(1,3).map(({id:e})=>h(e));return!i&&b.length<2?null:m(p?"web_deprecated_impression_tracker_story_impression_auth":"web_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,c.jsx)(s.qS,{auxData:{content_ids:b.map(e=>null==e?void 0:e.id),story_id:t,story_type:v,..._},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:43,viewType:2,children:({impressionTrackerRef:e})=>(0,c.jsxs)(a.xu,{ref:e,children:[f&&(0,c.jsx)(a.xu,{marginTop:2,paddingY:1,children:(0,c.jsx)(a.xv,{align:"center",children:f.format})}),(0,c.jsx)(u.Z,{action:g,auxData:_,isPinnerAuthorityHero:i,userId:x,userPinsImages236x:i?void 0:b.map(e=>{var t;return null==e?void 0:null===(t=e.images)||void 0===t?void 0:t["236x"]}),userSearchRepStyle:i,viewParameter:43,viewType:2})]})}):(0,c.jsx)(s.Hs,{auxData:{content_ids:b.map(e=>null==e?void 0:e.id),story_id:t,story_type:v,..._},component:200,loggingId:t,objectIdStr:t,slotIndex:e,viewParameter:43,viewType:2,children:(0,c.jsxs)(n.Fragment,{children:[f&&(0,c.jsx)(a.xu,{marginTop:2,paddingY:1,children:(0,c.jsx)(a.xv,{align:"center",children:f.format})}),(0,c.jsx)(u.Z,{action:g,auxData:_,isPinnerAuthorityHero:i,userId:x,userPinsImages236x:i?void 0:b.map(e=>{var t;return null==e?void 0:null===(t=e.images)||void 0===t?void 0:t["236x"]}),userSearchRepStyle:i,viewParameter:43,viewType:2})]})})}},687866:(e,t,i)=>{"use strict";i.d(t,{UG:()=>c,ZP:()=>m,aG:()=>p});var n=i(667294),l=i(883119),a=i(356997),r=i(898781),o=i(940882),s=i(52022),d=i(57791),u=i(785893);let c={large:"large",medium:"medium",small:"small",extra_small:"extra_small",article:"article",interest:"interest"},p={bubbleOverlay:{__style:{backgroundColor:"rgba(0, 0, 0, 0.3)"}}};function m({backgroundColor:e,bubbleId:t,bubbleUrl:i,coverImageUrl:m,curator:h,font:g,format:_,height:y,identifierIconType:v,onTap:f,pwtSurfaceContext:x,referringSource:b,subtitle:w,title:S,buttonFormat:k,contentAlign:P="center",textAlign:j="center",width:I="100%"}){let T=(0,r.ZP)(),C=(0,s.Z)(),[F,A]=(0,n.useState)("string"==typeof y?void 0:y);if(!F)return(0,u.jsx)(l.xu,{ref:e=>{if(e){let t=e.offsetWidth,i="string"==typeof y?Number.parseFloat(y):100;A(t*i/100)}},dangerouslySetInlineStyle:{__style:{paddingBottom:"string"==typeof y?Number.parseFloat(y)+"%":"100%",width:I}}});let E=_===c.article,R=_===c.interest,D=g||F>250&&"lg"||F>140&&_&&[c.medium,c.small,c.article].includes(_)&&"md"||F<120&&_&&_===c.small&&"xs"||"sm";return(0,u.jsx)(l.xu,{"data-test-id":"search-suggestion","data-test-type":b,position:"relative",children:(0,u.jsx)(d.MZ,{isAppUpsellDisabled:!0,onTouch:()=>{f&&(C({action:"click",item:"search-suggestion"}),f(t))},rounding:4,to:i,children:(0,u.jsxs)(l.zd,{rounding:4,children:[(0,u.jsx)(l.xu,{height:F,width:I,children:m&&(0,u.jsx)(l.Ee,{alt:"",color:e,fit:"cover",naturalHeight:1,naturalWidth:1,onLoad:()=>{x&&x.markConstraintComplete("RenderSearchLandingPageBubbles")},role:"presentation",src:m})}),(0,u.jsx)(l.xu,{dangerouslySetInlineStyle:p.bubbleOverlay,height:F,left:!0,position:"absolute",top:!0,width:I}),h&&!E&&(0,u.jsx)(l.xu,{left:!0,padding:2,position:"absolute",top:!0,children:(0,u.jsx)(a.qE,{name:h.full_name,outline:!0,size:"xs",src:h.image_small_url})}),!!v&&v!==o.J&&(0,u.jsx)(l.xu,{alignItems:"center",color:"default",display:"flex",height:24,justifyContent:"center",left:!0,margin:2,opacity:.8,position:"absolute",rounding:"circle",top:!0,width:24,children:(0,u.jsx)(l.JO,{accessibilityLabel:T.bt("Icône de shopping", "Shopping icon", "bubble.shoppingIcon.label", undefined, true),color:"default",icon:(0,o.Z)(v),size:12})}),(0,u.jsx)(l.xu,{alignItems:E||R?"end":"center",display:"flex",height:F,justifyContent:P,padding:E||R?6:F>100?3:1,position:"absolute",top:!0,width:I,children:(0,u.jsxs)(l.kC,{alignItems:"stretch",direction:"column",justifyContent:"start",children:[w&&(0,u.jsx)(l.xv,{align:j,color:"light",overflow:"normal",size:"lg"===D?"300":"100",children:w}),["lg","md"].includes(D)?(0,u.jsx)(l.X6,{align:j,color:"light",overflow:"normal",size:"md"===D&&R?"500":"lg"===D?"600":"400",children:S}):(0,u.jsx)(l.xv,{align:j,color:"light",overflow:"normal",size:"sm"===D?"300":"100",weight:"bold",children:S}),h&&E&&(0,u.jsxs)(l.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginTop:4,children:[(0,u.jsx)(l.xu,{marginEnd:2,children:(0,u.jsx)(a.qE,{name:h.full_name,outline:!0,size:"xs",src:h.image_small_url})}),(0,u.jsx)(l.xv,{color:"light",size:"100",weight:"bold",children:h.full_name})]}),k&&(0,u.jsx)(l.xu,{marginTop:4,children:(0,u.jsx)(l.ZP,{accessibilityLabel:k.accessibilityLabel,href:k.href,size:k.size,text:k.text})})]})})]})})})}},368156:(e,t,i)=>{"use strict";i.d(t,{Z:()=>v});var n,l=i(667294),a=i(702664);i(167912);var r=i(883119),o=i(112690),s=i(681669),d=i(773285),u=i(940882),c=i(149230),p=i(19121),m=i(861411),h=i(30439),g=i(785893);let _=void 0!==n?n:n=i(547983);function y({auxData:e,pattern:t,slotIndex:i,storyId:n,viewType:a,viewParameter:s,storyData:{storyType:_,referringSource:y,hasTitle:v,titleFormat:f,identifierIconName:x,actionUrl:b,actionText:w,bubblesData:S},storyGraphqlRef:k}){let P=(0,o.Z)(),j=S.map(({type:e,id:t})=>e+":"+t).join("|"),{isAuth:I}=(0,p.Z)(),{checkExperiment:T}=(0,d.F)(),C={story_type:_,story_id:n,content_ids:j,...e};return T(I?"web_deprecated_impression_tracker_story_impression_auth":"web_deprecated_impression_tracker_story_impression_unauth").anyEnabled?(0,g.jsx)(m.qS,{auxData:C,component:200,loggingId:n,objectIdStr:n,slotIndex:i,viewParameter:s,viewType:a,children:({impressionTrackerRef:e})=>(0,g.jsxs)(l.Fragment,{ref:e,children:[v&&(0,g.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:2,children:["number"==typeof x&&x!==u.J&&(0,g.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:1}},marginEnd:2,children:(0,g.jsx)(r.JO,{accessibilityLabel:"",color:"default",icon:(0,u.Z)(x),size:14})}),(0,g.jsx)(r.xv,{weight:"bold",children:f})]}),(0,g.jsx)(h.Z,{pattern:t,referringSource:y,storyId:n,storyKey:k?{type:"graphqlRef",data:k}:{type:"deprecated",data:n},viewParameter:s,viewType:a}),b&&w&&(0,g.jsx)(r.xu,{display:"flex",justifyContent:"center",marginTop:1,width:"100%",children:(0,g.jsx)(r.ZP,{accessibilityLabel:w,color:"gray",href:b,onClick:()=>{P({view_type:a,view_parameter:s,aux_data:C,event_type:102})},rel:(0,c.Z)(b)?"nofollow":void 0,size:"md",target:(0,c.Z)(b)?"blank":void 0,text:w})})]})}):(0,g.jsx)(m.Hs,{auxData:C,component:200,loggingId:n,objectIdStr:n,slotIndex:i,viewParameter:s,viewType:a,children:(0,g.jsxs)(l.Fragment,{children:[v&&(0,g.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginBottom:2,children:["number"==typeof x&&x!==u.J&&(0,g.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:1}},marginEnd:2,children:(0,g.jsx)(r.JO,{accessibilityLabel:"",color:"default",icon:(0,u.Z)(x),size:14})}),(0,g.jsx)(r.xv,{weight:"bold",children:f})]}),(0,g.jsx)(h.Z,{pattern:t,referringSource:y,storyId:n,storyKey:k?{type:"graphqlRef",data:k}:{type:"deprecated",data:n},viewParameter:s,viewType:a}),b&&w&&(0,g.jsx)(r.xu,{display:"flex",justifyContent:"center",marginTop:1,width:"100%",children:(0,g.jsx)(r.ZP,{accessibilityLabel:w,color:"gray",href:b,onClick:()=>{P({view_type:a,view_parameter:s,aux_data:C,event_type:102})},rel:(0,c.Z)(b)?"nofollow":void 0,size:"md",target:(0,c.Z)(b)?"blank":void 0,text:w})})]})})}function v({storyId:e,storyKey:t,...i}){let{data:n,childDataKey__DEPRECATED:l}=(0,s.HF)(_,t,{type:"story",useGraphQLAdapter:({storyType:e,storyTitle:t,referringSource:i,displayOptions:n,action:l,objects:a})=>({storyType:e,referringSource:i,hasTitle:!!t,titleFormat:null==t?void 0:t.format,identifierIconName:null==n?void 0:n.identifierIconName,actionUrl:null==l?void 0:l.url,actionText:(null==l?void 0:l.text)||void 0,bubblesData:(null==a?void 0:a.filter(e=>"ExploreArticle"===e.__typename).map(e=>({id:e.entityId||"",type:e.type||""})).filter(Boolean))||[]}),useLegacyAdapter:e=>{var t,i,n,l;let r=(e.objects||[]).map(e=>e.id)||[],o=(0,a.useSelector)(({articles:e})=>r.map(t=>{let i=e[t];return{type:i.type,id:i.id}}));return e?{storyType:e.story_type,referringSource:e.referring_source,hasTitle:!!e.title,titleFormat:null===(t=e.title)||void 0===t?void 0:t.format,identifierIconName:null===(i=e.display_options)||void 0===i?void 0:i.identifier_icon_name,actionUrl:null===(n=e.action)||void 0===n?void 0:n.url,actionText:null===(l=e.action)||void 0===l?void 0:l.text,bubblesData:o}:null}});return n&&(0,g.jsx)(y,{...i,storyData:n,storyGraphqlRef:"graphqlRef"===l.type?l.data:null,storyId:e})}},30439:(e,t,i)=>{"use strict";i.d(t,{Z:()=>c});var n,l=i(702664);i(167912);var a=i(883119),r=i(681669),o=i(687866),s=i(936819),d=i(785893);function u({storyData:{storyType:e,bubblesData:t},onTouch:i,pattern:n=[o.UG.medium],pwtSurfaceContext:l,referringSource:r,storyId:u,viewParameter:c,viewType:p}){let m=t.map(({type:e,id:t})=>e+":"+t).join("|");return(0,d.jsx)(a.kC,{alignItems:"stretch",justifyContent:"between",width:"100%",wrap:!0,children:t.map((t,h)=>{var g;let _=n[h%n.length];return(0,d.jsx)(a.xu,{"data-test-id":`bubble-${h}`,paddingY:1,width:[o.UG.small,o.UG.extra_small].includes(_)?"calc(50% - 4px)":"100%",children:(0,d.jsx)(s.ZP,{auxData:{content_ids:m,story_type:e,grid_index:h},bubbleKey:(null===(g=t.bubbleGraphqlRef)||void 0===g?void 0:g.__typename)==="ExploreArticle"?{type:"graphqlRef",data:t.bubbleGraphqlRef}:{type:"deprecated",data:t.id},format:_,height:[o.UG.medium,o.UG.extra_small].includes(_)&&"50%"||_===o.UG.article&&"73%"||"100%",onTouch:i,pwtSurfaceContext:l,referringSource:r,slotIndex:h,storyId:u,viewParameter:c,viewType:p})},`bubble-${h}`)})})}function c({storyId:e,storyKey:t,...a}){let{data:o}=(0,r.HF)(void 0!==n?n:n=i(940572),t,{type:"story",useGraphQLAdapter:e=>{var t;return{storyType:e.storyType,bubblesData:(null===(t=e.objects)||void 0===t?void 0:t.filter(e=>"ExploreArticle"===e.__typename).map(e=>({id:e.entityId||"",type:e.type||"",bubbleGraphqlRef:e})).filter(Boolean))||[]}},useLegacyAdapter:e=>{let t=(e.objects||[]).map(e=>e.id)||[],i=(0,l.useSelector)(({articles:e})=>t.map(t=>{let i=e[t];return{id:i.id,type:i.type}}));return e?{storyType:e.type,bubblesData:i}:null}});return o&&(0,d.jsx)(u,{...a,storyData:o,storyId:e})}},936819:(e,t,i)=>{"use strict";i.d(t,{Bp:()=>g,VM:()=>h,ZP:()=>_}),i(167912);var n,l=i(613316),a=i(112690),r=i(681669),o=i(773285),s=i(826067),d=i(19121),u=i(861411),c=i(687866),p=i(785893);let m=({storyCategory:e,query:t,referringSource:i,bubbleId:n,storyId:a,title:r})=>{let o=null!=e&&(0,l.y)(e),d=(0,s.XP)({q:t,rs:i||void 0,b_id:n,source_id:a}),u=o&&r?(0,l.x)({title:r,id:n,articleType:"discover"}):`/discover/article/${n}/`;return o?u:`/search/pins/${d?"?"+d:""}`},h=e=>{var t,i,n,l,a,r,o,s,d,u,c,p,m,h,g;return{actionUrl:null===(t=e.action)||void 0===t?void 0:t.url,coverImage236xUrl:(null===(i=e.cover_images)||void 0===i?void 0:i[0])&&(null===(n=e.cover_images[0]["236x"])||void 0===n?void 0:n.url),coverImage474xUrl:(null===(l=e.cover_images)||void 0===l?void 0:l[0])&&(null===(a=e.cover_images[0]["474x"])||void 0===a?void 0:a.url),coverImage136x136Url:(null===(r=e.cover_images)||void 0===r?void 0:r[0])&&(null===(o=e.cover_images[0]["136x136"])||void 0===o?void 0:o.url),coverImage170xUrl:(null===(s=e.cover_images)||void 0===s?void 0:s[0])&&(null===(d=e.cover_images[0]["173x"])||void 0===d?void 0:d.url),coverImage222xUrl:(null===(u=e.cover_images)||void 0===u?void 0:u[0])&&(null===(c=e.cover_images[0]["222x"])||void 0===c?void 0:c.url),coverImage90x90Url:(null===(p=e.cover_images)||void 0===p?void 0:p[0])&&(null===(m=e.cover_images[0]["90x90"])||void 0===m?void 0:m.url),curatorFullName:null===(h=e.curator)||void 0===h?void 0:h.full_name,curatorImageSmallUrl:null===(g=e.curator)||void 0===g?void 0:g.image_small_url,dominantColors:e.dominant_colors,id:e.id,identifierIconType:e.identifier_icon_type,storyCategory:e.story_category,titleFormat:e.title.format}};function g({auxData:e,bubbleData:{actionUrl:t,coverImage236xUrl:i,coverImage474xUrl:n,coverImage136x136Url:l,coverImage170xUrl:r,coverImage222xUrl:s,coverImage90x90Url:h,curatorFullName:g,curatorImageSmallUrl:_,dominantColors:y,id:v,identifierIconType:f,storyCategory:x,titleFormat:b},font:w,format:S,height:k,onTouch:P,pwtSurfaceContext:j,referringSource:I,slotIndex:T,storyId:C,viewParameter:F,viewType:A,width:E="100%"}){let R=(0,a.Z)(),D=(0,d.Z)(),{checkExperiment:L}=(0,o.F)();if(!i&&!n&&!l&&!r&&!s&&!h||!b)return null;let Z=g&&_?{full_name:g,image_small_url:_}:void 0,{isAuth:M}=D,O={"236x":i,"474x":n,"136x136":l,"170x":r,"222x":s,"90x90":h},z="",N="";if(M&&5===A){z=L("blp_explore_bubble_image_size").group;let e=z.split("_");e.length>1&&(N=e[1])}let K=z.startsWith("enabled")&&N?O[N]:O["474x"]||O["236x"],U=t||m({storyCategory:x,query:b,referringSource:I,bubbleId:v,storyId:C,title:b}),B=S===c.UG.article?13865:200,$=S===c.UG.article?102:6940,H=t=>{R({component:B,event_type:$,object_id_str:t,view_parameter:F,view_type:A,aux_data:{article_id:t,grid_index:T,...e}}),P&&P({query:b})},G=y&&y.length?y[0]:void 0;return(0,p.jsx)(u.fv,{auxData:{story_id:C,...e},impressionData:{storyCategory:x,storyIdStr:C},loggingId:C,slotIndex:T,viewParameter:F,viewType:A,children:({impressionTrackerRef:e})=>(0,p.jsx)(c.ZP,{ref:e,backgroundColor:G,bubbleId:v,bubbleUrl:U,coverImageUrl:K,curator:Z,font:w,format:S,height:k,identifierIconType:f,onTap:H,pwtSurfaceContext:j,referringSource:I,title:b,width:E})})}function _({bubbleKey:e,...t}){let{data:l}=(0,r.HF)(void 0!==n?n:n=i(231928),e,{type:"article",useGraphQLAdapter:e=>{var t,i,n,l,a,r,o,s,d,u;return{actionUrl:null===(t=e.action)||void 0===t?void 0:t.url,coverImage236xUrl:null===(i=e.coverImage236x)||void 0===i?void 0:i[0].url,coverImage474xUrl:null===(n=e.coverImage474x)||void 0===n?void 0:n[0].url,coverImage136x136Url:null===(l=e.coverImage136x136)||void 0===l?void 0:l[0].url,coverImage170xUrl:null===(a=e.coverImage170x)||void 0===a?void 0:a[0].url,coverImage222xUrl:null===(r=e.coverImage222x)||void 0===r?void 0:r[0].url,coverImage90x90Url:null===(o=e.coverImage90x90)||void 0===o?void 0:o[0].url,curatorFullName:null===(s=e.curator)||void 0===s?void 0:s.fullName,curatorImageSmallUrl:null===(d=e.curator)||void 0===d?void 0:d.imageSmallUrl,dominantColors:e.dominantColors,id:e.entityId||"",identifierIconType:e.identifierIconType,storyCategory:e.storyCategory,titleFormat:null===(u=e.articleTitle)||void 0===u?void 0:u.format}},useLegacyAdapter:e=>e&&h(e)});return l&&(0,p.jsx)(g,{...t,bubbleData:l})}},946036:(e,t,i)=>{"use strict";i.d(t,{Nu:()=>a,q:()=>l,z5:()=>n});let n=["shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_story_separator","search_story_landing_page_header"],l="checklist_education_feed_card",a=["#CFFFCA","#D7EDFF","#DAD4FF","#DAFFF6","#FFE2EB","#FFE4C1","#FFFD92"]},566102:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(730568);let l=({containerTypeIsItemGrid:e,storyType:t})=>"BUBBLE_ONE_COL"===t||e&&!(0,n.Z)({storyType:t})},730568:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(946036);let l=({storyType:e})=>n.z5.includes(e)},248299:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(883119),l=i(898781),a=i(166300),r=i(785893);function o({isPinRep:e}){let t=(0,l.ZP)(),i=e?"default":"inverse",o=(0,r.jsx)(n.xu,{"data-test-id":"unavailable-pin",padding:e?1:0,children:(0,r.jsx)(n.xu,{color:e?"secondary":"dark",height:e?314:"100vh",position:e?"static":"absolute",rounding:e?4:0,top:!0,width:"100%",children:(0,r.jsxs)(n.kC,{alignItems:"center",direction:"column",height:"100%",justifyContent:"center",children:[(0,r.jsx)(n.xu,{paddingY:4,children:(0,r.jsx)(n.JO,{accessibilityLabel:t.bt("Épingle non disponible", "Pin not available", "story-pin.Closeup.UnavailableStoryPin.icon.accessibilityLabel", undefined, true),color:i,icon:"alert",size:20})}),(0,r.jsx)(n.xv,{align:"center",color:i,weight:"bold",children:t.bt("Indisponible", "Unavailable", "story-pin.Closeup.UnavailableStoryPin.Unavailable", undefined, true)}),(0,r.jsx)(n.xu,{paddingY:1,children:(0,r.jsx)(n.xv,{align:"center",color:i,children:t.bt("Supprimée par le créateur", "Removed by the creator", "story-pin.Closeup.UnavailableStoryPin.Removed", undefined, true)})})]})})});return e?o:(0,r.jsx)(n.xu,{height:"100vh",children:(0,r.jsx)(a.Z,{children:o})})}},182476:(e,t,i)=>{"use strict";i.d(t,{Z:()=>k});var n,l,a=i(702664),r=i(167912),o=i(883119),s=i(112690),d=i(780280),u=i(815613),c=i(70090),p=i(898781),m=i(892819),h=i(633083),g=i(785893);let _=({backgroundColor:e,decreaseNamePadding:t,isHomefeedTuner:i,isLego:n,isSelected:l,locale:a,nameTextSize:r,renderAsPill:s,showFollowerCount:d,topicName:u,followerCount:c,image:_})=>{var y;let v=(0,p.ZP)(),f=(0,m.Z)(),x=(0,g.jsx)(o.JO,{accessibilityLabel:v.bt("Sélectionné", "Selected", " - ", undefined, true),color:"inverse",icon:n?"check":"check-circle",size:n?12:24});return s?(0,g.jsx)(h.Z,{color:e||"#767676",image:_,isSelected:null!=l&&l,title:u}):(0,g.jsxs)(o.xu,{"aria-selected":l,position:"relative",children:[(0,g.jsx)(o.zd,{rounding:n||i?4:2,children:(0,g.jsxs)(o.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"100%"}},position:"relative",children:[(0,g.jsx)(o.xu,{bottom:!0,left:!0,padding:n&&l?1:0,position:"absolute",right:!0,rounding:n&&l?4:0,top:!0,children:(0,g.jsx)(o.Ee,{alt:u,color:e||"#767676",fit:"cover",naturalHeight:1,naturalWidth:1,src:null!==(y=_.url)&&void 0!==y?y:""})}),(0,g.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:l?"rgba(0,0,0,0.6)":"rgba(0,0,0,0.3)",border:n&&l?"4px solid #767676":"none"}},left:!0,position:"absolute",right:!0,rounding:n?4:void 0,top:!0}),n&&l&&(0,g.jsx)(o.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{border:"2px solid #111"}},left:!0,position:"absolute",right:!0,rounding:4,top:!0})]})}),i?(0,g.jsx)(o.xu,{alignContent:"center",alignItems:"center",bottom:!0,display:"flex",justifyContent:"center",left:!0,padding:2,position:"absolute",right:!0,top:!0,children:(0,g.jsx)(o.xv,{align:"center",color:"light",size:r,weight:"bold",children:u})}):(0,g.jsxs)(o.xu,{bottom:!0,left:!0,padding:t?1:2,position:"absolute",right:!0,children:[(0,g.jsx)(o.xv,{color:"inverse",size:r,weight:"bold",children:u}),d&&c>=0&&(0,g.jsx)(o.xu,{paddingY:1,children:(0,g.jsxs)(o.xv,{color:"inverse",size:"100",children:[(0,g.jsx)(o.xv,{color:"inverse",inline:!0,size:"100",weight:"bold",children:f(a,c,{shortform:!0,shortform_maximum_fraction_digits:1})}),v.bt("abonnés", "followers", " - ", undefined, true)]})})]}),l&&(0,g.jsx)(o.xu,{margin:2,position:"absolute",right:!0,top:!0,children:n?(0,g.jsx)(o.xu,{alignItems:"center",color:"selected",display:"flex",height:24,justifyContent:"center",rounding:2,width:24,children:x}):x})]})},y=void 0!==n?n:n=i(215298),v=({topicRef:e,...t})=>{var i,n,l,a,o,s;let d=(0,r.useFragment)(y,e),u=d.images?{url:null!==(i=d.images.url)&&void 0!==i?i:"",width:null!==(n=d.images.width)&&void 0!==n?n:0,height:null!==(l=d.images.height)&&void 0!==l?l:0,dominant_color:"",type:""}:{dominant_color:"",height:0,type:"",url:"",width:0};return(0,g.jsx)(_,{backgroundColor:null!==(a=d.background_color)&&void 0!==a?a:"",followerCount:null!==(o=d.follower_count)&&void 0!==o?o:0,image:u,topicName:null!==(s=d.name)&&void 0!==s?s:"",...t})},f=({topic:e,topicBlob:t,topicInfoForContextualExp:i,...n})=>{let l=i||e||t||{},a=l.images["236x"]||l.images["400x"]||l.images["474x"]||l.images.orig||{height:1,url:"",width:1},r=l.follower_count||-1;return(0,g.jsx)(_,{backgroundColor:l.background_color,followerCount:r,image:a,topicName:l.name,...n})},x=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:i,isSelected:n=!1,nameTextSize:l="lg",onTouch:r,padding:p=2,renderAsPill:m,showFollowButton:h=!1,showFollowerCount:_=!1,shouldClickthrough:y=!1,topic:x,viewParameter:b,viewType:w})=>{let S=(0,a.useDispatch)(),k=(0,s.Z)(),{locale:P}=(0,d.B)(),j=(0,g.jsxs)(o.xu,{"data-test-id":"nux-picker-topic",children:["graphql"!==x.type?(0,g.jsx)(f,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:n,locale:P,nameTextSize:l,renderAsPill:m,showFollowerCount:_,topic:x.topic,topicBlob:x.topicBlob,topicInfoForContextualExp:x.topicInfoForContextualExp}):(0,g.jsx)(v,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:n,locale:P,nameTextSize:l,renderAsPill:m,showFollowerCount:_,topicRef:x.topicRef}),!!x&&h&&(0,g.jsx)(o.xu,{paddingY:2,children:(0,g.jsx)(u.Z,{followEventType:601,id:x.id,inline:t,invertColors:t,isFollowed:x.is_followed,onFollow:e=>S((0,c.ZN)(e,k)),onUnfollow:e=>S((0,c.fv)(e,k)),pinKey:null,size:"md",textType:t?"AddRemove":"FollowFollowing",unfollowEventType:602,viewParameter:b||void 0,viewType:w||void 0})})]}),I="/";return x&&(I=`/topics/${x.id}`),y&&x.slug?(0,g.jsx)(o.Tg,{href:I,onTap:({event:e})=>{null==r||r(e)},rounding:2,tapStyle:"compress",children:(0,g.jsx)(o.xu,{padding:p,children:j})}):j},b=void 0!==l?l:l=i(864754),w=({topicRef:e,decreaseNamePadding:t=!1,isHomefeedTuner:i,isLego:n,isSelected:l=!1,nameTextSize:a="lg",onTouch:o,padding:s=2,renderAsPill:d,showFollowButton:u=!1,showFollowerCount:c=!1,shouldClickthrough:p=!1,viewParameter:m,viewType:h})=>{var _,y;let v=(0,r.useFragment)(b,e);return(0,g.jsx)(x,{decreaseNamePadding:t,isHomefeedTuner:i,isLego:n,isSelected:l,nameTextSize:a,onTouch:o,padding:s,renderAsPill:d,shouldClickthrough:p,showFollowButton:u,showFollowerCount:c,topic:{id:null!==(_=v.entityId)&&void 0!==_?_:"",type:"graphql",is_followed:null!==(y=v.is_followed)&&void 0!==y&&y,topicRef:v},viewParameter:m,viewType:h})},S=({id:e,topic:t,topicBlob:i,topicInfoForContextualExp:n,decreaseNamePadding:l=!1,isHomefeedTuner:r,isLego:o,isSelected:s=!1,nameTextSize:d="lg",onTouch:u,padding:c=2,renderAsPill:p,showFollowButton:m=!1,showFollowerCount:h=!1,shouldClickthrough:_=!1,viewParameter:y,viewType:v})=>{let f=(0,a.useSelector)(({topics:t})=>t[e]),b=null!=t?t:f;return(0,g.jsx)(x,{decreaseNamePadding:l,isHomefeedTuner:r,isLego:o,isSelected:s,nameTextSize:d,onTouch:u,padding:c,renderAsPill:p,shouldClickthrough:_,showFollowButton:m,showFollowerCount:h,topic:{id:e,is_followed:!!(null!=b&&b.is_followed),topic:b,topicBlob:i,topicInfoForContextualExp:n,type:"resource"},viewParameter:y,viewType:v})},k=({decreaseNamePadding:e=!1,isHomefeedTuner:t,isLego:i,isSelected:n=!1,nameTextSize:l="lg",onTouch:a,padding:r=2,renderAsPill:o,showFollowButton:s=!1,showFollowerCount:d=!1,shouldClickthrough:u=!1,viewParameter:c,viewType:p,...m})=>m.topicRef?(0,g.jsx)(w,{decreaseNamePadding:e,isHomefeedTuner:t,isLego:i,isSelected:n,nameTextSize:l,onTouch:a,padding:r,renderAsPill:o,shouldClickthrough:u,showFollowButton:s,showFollowerCount:d,topicRef:m.topicRef,viewParameter:c,viewType:p}):(0,g.jsx)(S,{decreaseNamePadding:e,id:m.id,isHomefeedTuner:t,isLego:i,isSelected:n,nameTextSize:l,onTouch:a,padding:r,renderAsPill:o,shouldClickthrough:u,showFollowButton:s,showFollowerCount:d,topic:m.topic,topicBlob:m.topicBlob,topicInfoForContextualExp:m.topicInfoForContextualExp,viewParameter:c,viewType:p})},430235:(e,t,i)=>{"use strict";i.d(t,{Z:()=>$});var n,l=i(667294),a=i(167912),r=i(616550),o=i(883119),s=i(407043),d=i(499128),u=i(898781),c=i(349700),p=i(248975),m=i(958007),h=i(992750),g=i(53199),_=i(773285),y=i(780280),v=i(862628),f=i(595371),x=i(743473),b=i(667679),w=i(867820),S=i(343341),k=i(829407),P=i(988744),j=i(920085),I=i(62409),T=i(529195),C=i(256588),F=i(350118),A=i(785893);let E=({children:e,onTap:t,testId:i})=>{let[n,a]=(0,l.useState)(!1);return(0,A.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:n?"rgba(0, 0, 0, 0.06)":void 0}},"data-test-id":`more-options-${i}`,paddingX:3,paddingY:2,role:"listitem",rounding:2,children:(0,A.jsx)(o.iP,{onBlur:()=>a(!1),onFocus:()=>a(!0),onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),onTap:t,children:e})})},R=void 0!==n?n:n=i(298748),D=({i18n:e,pinId:t,showSignupModal:i,attributionLabelSource:n})=>(0,A.jsx)(E,{onTap:()=>{(0,w.My)("dweb.unauth.context_menu.save_image",{attributionLabelSource:n}),i({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${n}_save_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:t}}})},testId:"save",children:(0,A.jsx)(o.xv,{size:"200",weight:"bold",children:e.bt("Enregistrer l’image", "Save image", "dweb.unauth.context_menu.link.save_image", undefined, true)})},"SaveMenuItem"),L=e=>({invite_category:3,invite_channel:12,object_type:1,object_id:e}),Z=({pinId:e,variant:t,onSendButtonClick:i,dismissPriorToast:n})=>{let a=(0,u.ZP)(),{logContextEvent:r}=(0,s.v)(),[d,c]=(0,l.useState)(null),[p,m]=(0,l.useState)(!1),{logShareInvite:h,createShareInviteData:g}=(0,x.Z)(),_=()=>{null===d||p||(m(!0),h(L(e),d))},y=()=>{r({event_type:101,component:14162,element:72,object_id_str:e})};return(0,k.Z)(()=>{let t=async()=>{let t=await g({invite_category:3,invite_channel:12,object_type:"pin",object_id:e,path:""});c(t)};t()}),"copy_link"===t?(0,A.jsxs)(o.xu,{"data-test-id":"post-download-copy-link",children:[a.bt("Image téléchargée sur votre appareil. ", "Image downloaded to your device. ", "context_menu.pin_downloaded.toastText", undefined, true),(0,A.jsx)(P.Z,{asLink:!0,buttonSize:"sm",hideInput:!0,linkURL:(null==d?void 0:d.invite_url)||"",onCopyText:a.bt("Lien copié dans votre presse-papiers", "Copied link to your clipboard to share", "context_menu.pin_downloaded.copy_link_button_activate", undefined, true),onDidClickCopyButton:()=>{_(),y()},onDidFocus:_,oneToast:!0,toastDuration:5e3})]}):(0,A.jsxs)(o.xu,{"data-test-id":"post-download-share-pin",children:[a.bt("Image téléchargée sur votre appareil. ", "Image downloaded to your device. ", "context_menu.pin_downloaded.toastText", undefined, true),(0,A.jsx)(o.rU,{accessibilityLabel:a.bt("Partager l’Épingle", "Share Pin", "context_menu.pin_downloaded.share_pin_button", undefined, true),display:"inline",href:"",onClick:()=>{n(),i(),y()},children:a.bt("Partager l’Épingle", "Share Pin", "context_menu.pin_downloaded.share_pin_button", undefined, true)})]})},M=({i18n:e,pinTitle:t,pinDescription:i,pinId:n,bestPinImgSrc:l,attributionLabelSource:a,logContextEvent:r,pinCategory:s,checkExperiment:u,showSignupModal:c,onSendButtonClick:p})=>{let{showOneToast:m}=(0,S.F9)(),{unauthUserStateDispatch:h}=(0,T.Rh)();return(0,A.jsx)(E,{onTap:()=>{let{expName:g,expGroup:_,limitReached:y,oldCount:v,newCount:f}=(0,j.H)(u,"dweb_download_in_context_menus_v3");if((0,w.My)("dweb.unauth.context_menu.download_image",{attributionLabelSource:a,expName:g,expGroup:_,limitReached:y,oldCount:v,newCount:f}),y){c({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${a}_download_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"downloadImageBtnUnauth",container:"download",savePinId:n}}});return}(0,j.Z)({filename:t||i||n,imgSrc:l||"",category:s,pinId:n,isUnauth:!0,platform:"web",expName:g,expGroup:_,imageDownloadSuccessCallback:()=>h({type:"UPDATE"})},r);let x=_.includes("copy_link"),b=x?"copy_link":"sharesheet";m(({hideToast:t})=>(0,A.jsx)(d.ZP,{duration:5e3,onHide:t,text:(0,A.jsx)(o.xv,{color:"inverse",children:(0,A.jsx)(Z,{dismissPriorToast:t,onSendButtonClick:p,pinId:n,variant:b})}),thumbnail:{image:(0,A.jsx)(o.Ee,{alt:e.bt("Image de l’Épingle téléchargée", "Image of downloaded Pin", "context_menu.pin_downloaded.altImageText", undefined, true),fit:"cover",naturalHeight:32,naturalWidth:32,src:l||""})}}))},testId:"download",children:(0,A.jsx)(o.xv,{size:"200",weight:"bold",children:e.bt("Télécharger l’image", "Download image", "Button to download Pin image", undefined, true)})},"DownloadMenuItem")},O=({pinId:e,pinLink:t,fromEllipsisButton:i,attributionLabelSource:n,showSignupModal:l,i18n:a})=>(0,A.jsx)(E,{onTap:()=>{(0,w.My)("dweb.unauth.context_menu.open_plp_new_tab",{attributionLabelSource:n}),window.open(i?t:`/pin/${e}/`),i||l({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_context_menu_related_pin_right_click_open_link_button",desktopOptions:{modalType:"login"}})},testId:"new-tab",children:(0,A.jsx)(o.xv,{size:"200",weight:"bold",children:a.bt("Ouvrir le lien dans un nouvel onglet", "Open link in new tab", "dweb.unauth.context_menu.link.plp_new_tab", undefined, true)})},"NewTabMenuItem"),z=({history:e,levelOneInterestUrl:t,searchUrl:i,levelOneInterestName:n,i18n:l,interestTag:a,attributionLabelSource:r})=>(0,A.jsx)(E,{onTap:()=>{(0,w.My)("dweb.unauth.context_menu.see_more_pins",{attributionLabelSource:r}),t?e.push(`${t}`):e.push(i)},testId:"interests",children:n?(0,A.jsx)(o.xv,{lineClamp:2,size:"200",weight:"bold",children:(0,c.nk)(l.bt("Voir plus d’idées à propos de {{levelOneInterestName}}", "See more ideas about {{levelOneInterestName}}", "dweb.unauth.context_menu.link.see_more_ideas.l1", undefined, true),{levelOneInterestName:n})}):(0,A.jsx)(o.xv,{lineClamp:2,size:"200",weight:"bold",children:(0,c.nk)(l.bt("Voir plus d’idées à propos de {{interestTag}}", "See more ideas about {{interestTag}}", "dweb.unauth.context_menu.link.see_more_ideas.interest_tag", undefined, true),{interestTag:a})})},"MoreInterestsMenuItem"),N=({attributionLabelSource:e,reportLink:t,i18n:i})=>(0,A.jsx)(l.Fragment,{children:(0,A.jsx)(E,{onTap:()=>{(0,w.My)("dweb.unauth.context_menu.report_pin_dsa",{attributionLabelSource:e}),window.open(t,"_blank")},testId:"dsa",children:(0,A.jsx)(o.xv,{size:"200",weight:"bold",children:i.bt("Signaler l’Épingle pour manquement au droit de l’UE", "Report Pin for EU local law violation", "dweb.unauth.context_menu.link.report_pin_dsa", undefined, true)})})},"ReportForDSAMenuItem");function K({desktopContextMenuState:e,isMainPinImage:t,source:i,imagesUrls:n,embedSrc:l,embedType:a,pinJoinVisualAnnotation:c,pinJoinSeoBreadcrumbName:m,pinJoinSeoBreadcrumbUrl:h,pinId:g,pinLink:x,pinTitle:k,pinDescription:P,pinCategory:I,pinEligibleForDownload:T,onSendButtonClick:F,enabledUnauthContextMenu:E,anchor:R}){var L;let K=(0,u.ZP)(),U=(0,r.k6)(),{logContextEvent:B}=(0,s.v)(),{countryFromIp:$,isBot:H,isSocialBot:G}=(0,y.B)(),{checkExperiment:W}=(0,_.F)(),{showOneToast:V}=(0,S.F9)(),q=(0,p.Z)({imagesUrls:n,embedSrc:l,embedType:a,excludeOriginals:!H&&!G}),Y=null!==(L=null==c?void 0:c[0])&&void 0!==L?L:void 0,Q=(0,v.Z)(Y),J=`/search/pins/?q=${encodeURIComponent(Q)}&rs=${f.i.IMAGE_ONLY_ATTRIBUTION}`,X=(0,b.Z)(),ee="dweb.plp.ellipsis.button"===i,{COUNTRY_CODES:et}=C.LAW_CONFIGURATION.dsa,ei=et.includes($);if(!q)return null;let en=(0,p.Z)({imagesUrls:n,embedSrc:l,embedType:a,excludeOriginals:!H&&!G}),el="related_pin_right_click";ee?el="action_bar_ellipsis":t&&(el="right_click");let ea=`https://www.pinterest.com/about/dsa/?pinId=${g}`,er=[{component:()=>D({i18n:K,pinId:g,showSignupModal:X,attributionLabelSource:el})},{component:()=>T&&M({i18n:K,pinTitle:k,pinDescription:P,pinId:g,bestPinImgSrc:en,attributionLabelSource:el,logContextEvent:B,pinCategory:I,checkExperiment:W,showSignupModal:X,onSendButtonClick:null!=F?F:()=>{}})},{component:()=>!(t||ee&&!x)&&O({i18n:K,pinId:g,pinLink:x,fromEllipsisButton:ee,showSignupModal:X,attributionLabelSource:el})},{component:()=>!!(Y||m&&h)&&z({history:U,levelOneInterestUrl:h,searchUrl:J,levelOneInterestName:m,i18n:K,interestTag:Y,attributionLabelSource:el})},{component:()=>ei&&N({reportLink:ea,i18n:K,attributionLabelSource:el})}],eo=er.map(({component:e})=>e()).filter(e=>!!e);return E?(0,A.jsxs)(o.Lt,{anchor:R,disableMobileUI:!0,id:"desktop-context-menu",idealDirection:"down",onDismiss:()=>{},zIndex:new o.Ry(99999),children:[(0,A.jsx)(o.Lt.Item,{dataTestId:"pin-action-dropdown-save",onSelect:()=>{(0,w.My)("dweb.unauth.context_menu.save_image",{attributionLabelSource:el}),X({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${el}_save_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:g}}})},option:{value:"saveImage",label:K.bt("Enregistrer l’image", "Save image", "dweb.unauth.context_menu.link.save_image", undefined, true)}}),T&&(0,A.jsx)(o.Lt.Item,{dataTestId:"pin-action-dropdown-download",onSelect:()=>{let{expName:e,expGroup:t,limitReached:i,oldCount:n,newCount:l}=(0,j.H)(W,"dweb_download_in_context_menus_v3");if((0,w.My)("dweb.unauth.context_menu.download_image",{attributionLabelSource:el,expName:e,expGroup:t,limitReached:i,oldCount:n,newCount:l}),i){X({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:`click_context_menu_${el}_download_button`,desktopOptions:{modalType:"signup",modalOptions:{source:"downloadImageBtnUnauth",container:"download",savePinId:g}}});return}(0,j.Z)({filename:k||P||g,imgSrc:en||"",category:I,pinId:g,isUnauth:!0,platform:"web",expName:e,expGroup:t},B);let a=t.includes("copy_link"),r=a?"copy_link":"sharesheet";V(({hideToast:e})=>(0,A.jsx)(d.ZP,{duration:5e3,onHide:e,text:(0,A.jsx)(o.xv,{color:"inverse",children:(0,A.jsx)(Z,{dismissPriorToast:e,onSendButtonClick:null!=F?F:()=>{},pinId:g,variant:r})}),thumbnail:{image:(0,A.jsx)(o.Ee,{alt:K.bt("Image de l’Épingle téléchargée", "Image of downloaded Pin", "context_menu.pin_downloaded.altImageText", undefined, true),fit:"cover",naturalHeight:32,naturalWidth:32,src:en||""})}}))},option:{value:"downloadImage",label:K.bt("Télécharger l’image", "Download image", "Button to download Pin image", undefined, true)}}),ei&&(0,A.jsx)(o.Lt.Item,{dataTestId:"pin-action-dropdown-report",onSelect:()=>{(0,w.My)("dweb.unauth.context_menu.report_pin_dsa",{attributionLabelSource:el}),window.open(ea,"_blank")},option:{value:"reportPin",label:K.bt("Signaler l’Épingle pour manquement au droit de l’UE", "Report Pin for EU local law violation", "dweb.unauth.context_menu.link.report_pin_dsa", undefined, true)}})]}):(0,A.jsxs)(o.xu,{borderStyle:"shadow",color:"default",dangerouslySetInlineStyle:{__style:{top:`${e.y}px`,left:`${e.x}px`}},"data-test-id":"desktop-context-menu",direction:"column",display:"flex",maxWidth:250,paddingX:2,paddingY:3,position:"fixed",rounding:2,zIndex:new o.Ry(99999),children:[(0,A.jsx)(o.xu,{paddingX:3,paddingY:2,role:"img",rounding:2,children:(0,A.jsx)(o.JO,{accessibilityLabel:K.bt("Logo Pinterest", "Pinterest logo", "dweb.unauth.context_menu.pinterest_logo", undefined, true),color:"brandPrimary",icon:"pinterest"})}),eo]})}function U({graphqlRef:e,pinId:t,useNativeCreatorAsPinner:i,onSendButtonClick:n,...l}){var r,o,s,d,u,c,p,_,y,v,f,x,b,w,S,k,P;let j;let I=(0,a.useFragment)(R,e),T=(0,g.Z)({type:"graphqlRef",data:I}),C=!!I.storyPinDataId,F=!!(null===(r=I.videos)||void 0===r?void 0:r.videoList),{isUnsafe:E}=I;(j=I.nativeCreator?I.nativeCreator:I.linkDomain?I.linkDomain.officialUser:I.originPinner||I.pinner)||(j=null!==(k=null===(P=I.linkDomain)||void 0===P?void 0:P.officialUser)&&void 0!==k?k:I.pinner);let{storyPinDataId:D}=I,L=null!==(o=null===(s=I.richSummary)||void 0===s?void 0:s.displayName)&&void 0!==o?o:"",Z=null!==(d=null===(u=I.richMetadata)||void 0===u?void 0:u.title)&&void 0!==d?d:"",M=null!==(c=null===(p=I.richMetadata)||void 0===p?void 0:p.description)&&void 0!==c?c:"",O=null===(_=I.storyPinData)||void 0===_?void 0:null===(y=_.metadata)||void 0===y?void 0:y.pinTitle,z=(null===(v=I.pinJoin)||void 0===v?void 0:v.visualAnnotation)||void 0,N=I.category||"",U=(0,h.Ly)({pinTitle:I.title,gridTitle:I.gridTitle,richSummaryDisplayName:L,richMetadataTitle:Z,storyPinDataId:D,storyPinDataMetadataPinTitle:O,pinJoinVisualAnnotation:z}),B=(0,m.Z)({storyPinDataId:D,pinDescription:I.description,richMetadataDescription:M,richSummaryDisplayName:L,closeupDescription:I.closeupDescription,closeupUnifiedDescription:I.closeupUnifiedDescription});return(0,A.jsx)(K,{...l,embedSrc:I.embed&&I.embed.src,embedType:I.embed&&I.embed.type,imagesUrls:T,onSendButtonClick:n,pinCategory:N,pinDescription:B,pinEligibleForDownload:!!(!C&&!F&&!E&&n),pinId:t,pinJoinSeoBreadcrumbName:(null===(f=I.pinJoin)||void 0===f?void 0:f.seoBreadcrumbs)&&(I.pinJoin.seoBreadcrumbs.length>0?I.pinJoin.seoBreadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null===(x=I.pinJoin)||void 0===x?void 0:x.seoBreadcrumbs)&&(I.pinJoin.seoBreadcrumbs.length>0?I.pinJoin.seoBreadcrumbs[0].url:null),pinJoinVisualAnnotation:null===(b=I.pinJoin)||void 0===b?void 0:b.visualAnnotation,pinTitle:U,sourceUserFullname:null===(w=j)||void 0===w?void 0:w.fullName,sourceUserUsername:null===(S=j)||void 0===S?void 0:S.username})}function B({graphqlRef:e,pinId:t,useNativeCreatorAsPinner:i,onSendButtonClick:n,...l}){var a,r,o,s,d,u,c,p,_,y,v,f,x,b,w,S,k;let P=(0,F.S6)()(t),j=(0,g.Z)(null!=P?{type:"deprecated",data:P}:null),T=null==P?void 0:P.story_pin_data_id,C=null==P?void 0:P.videos,E=!!T,R=!!(null!=C&&C.video_list),D=null==P?void 0:P.title,L=null==P?void 0:P.description,Z=null==P?void 0:P.grid_title,M=null!==(a=null==P?void 0:null===(r=P.rich_metadata)||void 0===r?void 0:r.title)&&void 0!==a?a:"",O=null==P?void 0:P.category,z=null!==(o=null==P?void 0:null===(s=P.rich_metadata)||void 0===s?void 0:s.description)&&void 0!==o?o:"",N=null!==(d=null==P?void 0:null===(u=P.rich_summary)||void 0===u?void 0:u.display_name)&&void 0!==d?d:"",U=null==P?void 0:P.closeup_description,B=null==P?void 0:P.closeup_unified_description,$=null==P?void 0:null===(c=P.story_pin_data)||void 0===c?void 0:null===(p=c.metadata)||void 0===p?void 0:p.pin_title,H=null==P?void 0:null===(_=P.pin_join)||void 0===_?void 0:_.visual_annotation,G=null==P?void 0:P.is_unsafe,{link_domain:W,native_creator:V,origin_pinner:q,pinner:Y}=P||{},Q=(0,I.wS)(W,V,q,Y);Q||(Q=null!==(S=null==P?void 0:null===(k=P.link_domain)||void 0===k?void 0:k.official_user)&&void 0!==S?S:null==P?void 0:P.pinner);let{full_name:J,username:X}=null!==(y=Q)&&void 0!==y?y:{},ee=(0,h.Ly)({pinTitle:D,gridTitle:Z,richSummaryDisplayName:N,richMetadataTitle:M,storyPinDataId:T,storyPinDataMetadataPinTitle:$,pinJoinVisualAnnotation:H}),et=(0,m.Z)({storyPinDataId:T,pinDescription:L,richMetadataDescription:z,richSummaryDisplayName:N,closeupDescription:U,closeupUnifiedDescription:B});return(0,A.jsx)(K,{...l,embedSrc:null==P?void 0:null===(v=P.embed)||void 0===v?void 0:v.src,embedType:null==P?void 0:null===(f=P.embed)||void 0===f?void 0:f.type,imagesUrls:j,onSendButtonClick:n,pinCategory:O,pinDescription:et,pinEligibleForDownload:!!(!E&&!R&&!G&&n),pinId:t,pinJoinSeoBreadcrumbName:(null==P?void 0:null===(x=P.pin_join)||void 0===x?void 0:x.seo_breadcrumbs)&&(P.pin_join.seo_breadcrumbs.length>0?P.pin_join.seo_breadcrumbs[0].name:null),pinJoinSeoBreadcrumbUrl:(null==P?void 0:null===(b=P.pin_join)||void 0===b?void 0:b.seo_breadcrumbs)&&(P.pin_join.seo_breadcrumbs.length>0?P.pin_join.seo_breadcrumbs[0].url:null),pinJoinVisualAnnotation:null==P?void 0:null===(w=P.pin_join)||void 0===w?void 0:w.visual_annotation,pinTitle:ee,sourceUserFullname:J,sourceUserUsername:X})}function $(e){return e.graphqlRef?(0,A.jsx)(U,{...e,graphqlRef:e.graphqlRef}):(0,A.jsx)(B,{...e})}},491563:(e,t,i)=>{"use strict";i.d(t,{Z:()=>w});var n=i(667294),l=i(702664),a=i(883119),r=i(112690),o=i(356997),s=i(898781),d=i(892819),u=i(349700),c=i(780280),p=i(149230),m=i(57791),h=i(815613),g=i(861411),_=i(461773),y=i(698330),v=i(785893);let f={__style:{backgroundColor:"rgba(0, 0, 0, 0.04)"}},x=({height:e,image:t,width:i})=>{var n,l,r;let o=(0,s.ZP)();return(0,v.jsx)(a.xu,{dangerouslySetInlineStyle:{__style:{borderRight:"1px solid white"}},children:t?(0,v.jsxs)(a.xu,{position:"relative",children:[(0,v.jsx)(a.GH,{contentAspectRatio:"number"==typeof t.height&&"number"==typeof t.width?t.width/t.height:1,height:e,width:i,children:(0,v.jsx)(a.Ee,{alt:o.bt("image d’Épingle", "pin image", "alt text for pin image", undefined, true),color:t.dominant_color||void 0,naturalHeight:null!==(n=t.height)&&void 0!==n?n:1,naturalWidth:null!==(l=t.width)&&void 0!==l?l:1,src:null!==(r=t.url)&&void 0!==r?r:""})}),(0,v.jsx)(a.xu,{dangerouslySetInlineStyle:f,height:e,left:!0,position:"absolute",top:!0,width:i})]}):(0,v.jsx)(a.xu,{color:"secondary",height:e,width:i})})};var b=i(865673);function w({action:e,auxData:t,isPinnerAuthorityHero:i=!1,userSearchRepStyle:f=!1,onFollowUser:w,onUnfollowUser:S,userId:k,userPinsImages236x:P,viewParameter:j,viewType:I,truncateName:T=!1}){let C=(0,s.ZP)(),F=(0,d.Z)(),A=(0,l.useDispatch)(),{locale:E}=(0,c.B)(),R=(0,r.Z)(),[D,L]=(0,n.useState)(f?window.innerWidth-16:null),Z=(0,y.mN)()(k);if(!Z)return null;let{contextual_pin_image_urls:M,explicitly_followed_by_me:O,follower_count:z=0,full_name:N,image_medium_url:K,is_verified_merchant:U,recent_pin_images:B,username:$,verified_identity:H}=Z,G=e=>{R({event_type:43,object_id_str:e,view_parameter:j,view_type:I})},W=e=>D?(D-(e-1))/e:0,V=f?1.6*W(4):117,q=(null==B?void 0:B["222x"])||(null==B?void 0:B["192x"])||[],Y=(null==M?void 0:M["222x"])||(null==M?void 0:M["192x"])||[];i&&0===Y.length&&(Y=q);let Q=f&&Y.length<=0,J=f?Y.concat(q).slice(0,4):(P||[]).concat(q).slice(0,2);0===J.length&&(J=[void 0,void 0]);let X=!Q&&(D?(0,v.jsx)(a.zd,{rounding:4,children:(0,v.jsx)(a.kC,{children:J.map((e,t)=>(0,v.jsx)(x,{height:V,image:e,width:W(J.length)},`pinImage-${t}`))})}):(0,v.jsx)(a.xu,{ref:e=>{e&&L(e.offsetWidth)},height:V,width:"100%"})),ee=e=>(0,v.jsx)(a.kC,{justifyContent:"center",children:(0,v.jsx)(a.xu,{height:60,marginTop:e,width:60,children:(0,v.jsx)(o.qE,{name:null!=N?N:"",outline:!0,src:null!=K?K:""})})}),et=e=>(0,v.jsxs)(a.kC,{alignItems:e,direction:"column",gap:{row:0,column:1},children:[(0,v.jsx)(a.kC,{alignItems:"stretch",maxWidth:(f?(D||0)/2:D)||void 0,children:(0,v.jsx)(a.xv,{align:e,lineClamp:T?1:void 0,weight:"bold",children:U||null!=H&&H.verified?(0,v.jsx)(b.Z,{badgeSize:"md",badgeSpacing:2,fullName:null!=N?N:"",truncate:T,verifiedType:U?"verifiedMerchant":"verifiedIdentity"}):N})}),(0,v.jsx)(a.xv,{align:e,inline:!0,size:"100",children:(0,u.nk)(C.nbt(["{{followers}} abonné", "{{followers}} abonnés"], z, "PinnerAuthority.followersCount", true),{followers:F(E,z,{shortform:!0})})})]}),ei=(0,v.jsx)(a.kC,{justifyContent:"center",children:e&&e.url?(0,v.jsx)(a.ZP,{accessibilityLabel:e.text,color:"gray",href:e.url,onClick:()=>{R({event_type:9029,object_id_str:k,view_type:I,view_parameter:j,aux_data:t})},rel:(0,p.Z)({url:e.url})?"nofollow":void 0,size:"lg",target:(0,p.Z)({url:e.url})?"blank":void 0,text:e.text}):(0,v.jsx)(h.Z,{followEventType:45,id:k,isFollowed:O,isSecondaryButton:!0,onFollow:e=>{w&&w(),A((0,_.ZN)(e))},onUnfollow:e=>{S&&S(),A((0,_.fv)(e))},pinKey:null,size:"lg",unfollowEventType:46,viewParameter:j,viewType:I})});return(0,v.jsx)(g.Cy,{loggingId:k,objectIdStr:k,slotIndex:0,viewParameter:j,viewType:I,children:({impressionTrackerRef:e})=>(0,v.jsx)(a.xu,{ref:e,"data-test-id":"user-rep",marginBottom:6,padding:1,children:(0,v.jsx)(m.MZ,{onTouch:()=>G(k),to:`/${$}/`,children:(0,v.jsxs)(a.kC,{direction:"column",gap:{row:0,column:2},width:"100%",children:[X,f?(0,v.jsx)(a.xu,{width:"100%",children:(0,v.jsxs)(a.kC,{alignItems:"center",justifyContent:"between",children:[(0,v.jsxs)(a.kC,{alignItems:"center",gap:{row:2,column:0},children:[ee(),et("start")]}),ei]})}):(0,v.jsxs)(a.kC,{direction:"column",gap:{row:0,column:2},children:[ee(-10),et("center"),ei]})]})})})})}},865673:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(667294),l=i(883119),a=i(512176),r=i(785893);let o=function({badgeSize:e,badgeSpacing:t,fullName:i,verifiedType:o,truncate:s=!1}){let d=i.split(" "),u=d.slice(0,d.length-1).join(" "),c=" ".concat(d[d.length-1]);return s?(0,r.jsxs)(l.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,r.jsx)(l.xv,{lineClamp:1,weight:"bold",children:i}),(0,r.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{top:t}},flex:"none",paddingX:1,position:"relative",children:(0,r.jsx)(a.Z,{isVerifiedMerchant:"verifiedMerchant"===o,showVerifiedIdentity:"verifiedIdentity"===o,size:e})})]}):(0,r.jsxs)(n.Fragment,{children:[(0,r.jsx)("span",{children:u}),(0,r.jsxs)("span",{style:{whiteSpace:"nowrap"},children:[c,"\xa0",(0,r.jsx)(l.xu,{dangerouslySetInlineStyle:{__style:{top:t}},display:"inlineBlock",flex:"none",position:"relative",children:(0,r.jsx)(a.Z,{isVerifiedMerchant:"verifiedMerchant"===o,showVerifiedIdentity:"verifiedIdentity"===o,size:e})})]})]})}},434788:(e,t,i)=>{"use strict";i.d(t,{Z:()=>eW});var n,l,a=i(616550),r=i(826067),o=i(50286),s=i(19121),d=i(167912),u=i(883119),c=i(934494),p=i(898781),m=i(773285),h=i(42447),g=i(784590),_=i(280446),y=i(667294),v=i(702664),f=i(792182),x=i(407043),b=i(916117),w=i(444445),S=i(558068),k=i(391254),P=i(542554),j=i(276602),I=i(217149),T=i(430323),C=i(501338),F=i(829407);function A(e,t){let i=0,n=!1,l=-1;return e.forEach((e,a)=>{let{x:r=0,y:o=0,h:s=0,w:d=0}=e,u=function(e,t){let{x:i,y:n,w:l,h:a}=e,{x:r,y:o,w:s,h:d}=t,u=Math.max(i,r),c=Math.min(i+l,r+s),p=Math.max(n,o),m=Math.min(n+a,o+d),h=u<c&&p<m?(c-u)*(m-p):0;return h/(l*a+s*d-h)}(t,{x:r,y:o,h:s,w:d});u>=.9&&u>i&&(i=u,n=!0,l=a)}),{isCropAreaOnDotArea:n,dotIndexToHide:l}}var E=i(255164),R=i(156637),D=i(743203),L=i(679031),Z=i(643010),M=i(404508),O=i(785893);function z({handleBackClick:e,viewParameter:t,viewType:i}){let n=(0,Z.vs)();return(0,O.jsx)(u.xu,{"data-test-id":"cancelButton",left:!0,margin:2,position:"fixed",top:!0,children:(0,O.jsx)(M.Z,{color:n?"darkGray":"white",disableRedirect:!0,icon:"cancel",onTouch:e,padding:3,size:"lg",viewParameter:t,viewType:i})})}var N=i(112690),K=i(458101),U=i(585913),B=i(913574),$=i(49808),H=i(957435),G=i(398789);function W({pinDominantColor:e,url:t,closeupImageWidth:i,closeupImageHeight:n}){let l=(0,p.ZP)();return(0,O.jsx)(G.Z,{alt:l.bt("Image d’Épingle", "Pin image", "flashlight.cropper.closeupImage", undefined, true),color:e,isFlashlightPage:!0,naturalHeight:n,naturalWidth:i,placeholder:t,showSpinner:!1,src:t})}let V=e=>{let{alt:t,src:i,top:n,left:l}=e;return(0,O.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{top:n,left:l}},height:24,position:"absolute",width:24,children:(0,O.jsx)(u.Ee,{alt:t,color:"transparent",naturalHeight:24,naturalWidth:24,src:i})})},q={backgroundColor:"#000000",opacity:"0.4"};function Y({closeupImageUrl:e,closeupImageDims:t,cropArea:{x:i,y:n,w:l,h:a},disableBorder:r,disableHandles:o,handleBackClick:s,onTouchEnd:d,onTouchMove:c,onTouchStart:m,pinDominantColor:h,showBackButton:g,viewParameter:_}){let y=(0,p.ZP)(),{closeupImageWidth:v,closeupImageHeight:f}=t,x=Math.floor(f*n),b=Math.floor(v*i),w=Math.floor(f*a),S=Math.floor(v*l),k=b+S,P=x+w;return(0,O.jsxs)(u.xu,{"data-test-id":"cropper-container",onTouchEnd:d,onTouchMove:c,onTouchStart:m,position:"relative",children:[(0,O.jsx)(W,{closeupImageHeight:f,closeupImageWidth:v,pinDominantColor:h,url:null!=e?e:""}),(0,O.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:q},height:x,left:!0,position:"absolute",top:!0,width:"100%"}),(0,O.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{...q,top:x}},height:w,left:!0,position:"absolute",width:b}),(0,O.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{...q,top:x,left:k}},height:w,position:"absolute",right:!0}),(0,O.jsx)(u.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{...q,top:P}},left:!0,position:"absolute",width:"100%"}),g&&(0,O.jsx)(z,{handleBackClick:s,viewParameter:_,viewType:427}),!o&&(0,O.jsxs)(u.xu,{"data-test-id":"CropperHandles",children:[(0,O.jsx)(V,{alt:y.bt("Coin supérieur gauche de recadrage", "Top left cropper handle", "flashlight.cropper.topLeftHandle", undefined, true),left:b-9,src:$,top:x-9}),(0,O.jsx)(V,{alt:y.bt("Coin supérieur droit de recadrage", "Top right cropper handle", "flashlight.cropper.topRightHandle", undefined, true),left:k-15,src:H,top:x-9}),(0,O.jsx)(V,{alt:y.bt("Coin inférieur gauche de recadrage", "Bottom left cropper handle", "flashlight.cropper.bottomLeftHandle", undefined, true),left:b-9,src:U,top:P-15}),(0,O.jsx)(V,{alt:y.bt("Coin inférieur droit de recadrage", "Bottom right cropper handle", "flashlight.Cropper.BottomLeftHandle", undefined, true),left:k-15,src:B,top:P-15})]}),(0,O.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{top:x-2,left:b-2,border:r?void 0:"2px solid #ffffff"}},"data-test-id":"CroppedArea",height:w+4,position:"absolute",rounding:2,width:S+4})]})}var Q=i(599611);function J({auxData:e,onClick:t,shouldLogDotRender:i,showNoHalo:n,style:l,viewParameter:a,x:r,y:o}){let s=(0,p.ZP)(),d=(0,N.Z)();return(0,F.Z)(()=>{i&&d({aux_data:e,element:1221,event_type:120,view_parameter:a,view_type:72})}),(0,O.jsx)("div",{"aria-label":s.bt("Sélectionnez un article spécifique sur l’image", "Select a specific item on image", "dot.accessibilityLabel", undefined, true),"data-test-id":"dot",onClick:t,onKeyPress:t,role:"button",style:{position:"absolute",top:o-16,left:r-16,outline:"none",...l},tabIndex:"0",children:(0,O.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:n?void 0:"rgba(0, 0, 0, 0.1)",width:32,height:32,border:"none",borderRadius:32,cursor:t?"pointer":"default"}},children:(0,O.jsx)(u.xu,{alignItems:"center",color:"light",dangerouslySetInlineStyle:{__style:{boxShadow:"none",width:16,height:16,border:"none",borderRadius:16,top:8,left:8}},display:"flex",justifyContent:"center",padding:0,position:"absolute"})})})}var X=i(100183);let ee="flashlightDotPop",et=(0,X.Ll)([`
  ${ee} {
      0% {
          opacity: 0;
          transform: scale(0);
      }

      100% {
          opacity: 1;
          transform: scale(1);
      }
  }
`,`labelReveal {
    0% {
      transform: scale(0, 1)
    }

    100% {
      transform: scale(1, 1)
    }
  }
`]),ei=e=>{let t=parseFloat((.1*e).toFixed(2));return{animation:`${ee} 0.3s ease-out ${t}s both`}};function en({closeupImageTop:e,imageHeight:t,imageTop:i,imageWidth:n,onDotTap:l,pinId:a,pinImageSignature:r,setCropArea:o,shouldLogDotRender:s,showNoHalo:d,viewParameter:u,visualObjects:c,visualObjectToHide:p}){let m=(0,N.Z)();return(0,O.jsxs)(y.Fragment,{children:[(0,O.jsx)(k.Z,{unsafeCSS:et}),c.map((h,g)=>{if(g===p)return null;let{x:_=0,y=0,w:v=0,h:f=0}=h,x={x:_,y,h:f,w:v},b=(0,Q.Z)({cropArea:{x:_,y,w:v,h:f},scaledWidth:n,scaledHeight:t}),w=Math.floor(b.x+b.w/2),S=Math.floor(b.y+i+b.h/2),k=ei(g),P={pin_id:a,image_signature:r,visual_objects:JSON.stringify([x]),commerce_data:JSON.stringify({entrypoint:"flashlight",pin_is_stela:"false"})};return(0,O.jsx)(J,{auxData:P,onClick:function(){m({aux_data:P,element:1221,event_type:102,view_parameter:u,view_type:72}),l({cropArea:x,cropSource:4,visualObjects:c}),null==o||o(x)},shouldLogDotRender:s,showNoHalo:d,style:k,viewParameter:u,x:w,y:S-e},JSON.stringify(x))})]})}var el=i(691720);let ea={OUTSIDE:0,INSIDE:1,LEFT_CROPPER:2,RIGHT_CROPPER:3,TOP_CROPPER:4,BOTTOM_CROPPER:5,TOP_LEFT_HANDLE:6,TOP_RIGHT_HANDLE:7,BOTTOM_LEFT_HANDLE:8,BOTTOM_RIGHT_HANDLE:9,NONE:10};function er({closeupImageUrl:e,closeupImageDims:t,cropArea:i,handleBackClick:n,handleChangeCloseupImageTop:l,handleCropperChange:a,headerHeight:r,inUnifiedFeedExp:o,pinDominantColor:s,pinId:d,pinImageSignature:c,showBackButton:p,viewParameter:m,visualObjects:h,visualObjectToHide:g}){let _=(0,N.Z)(),v=(0,y.useRef)(),[f,x]=(0,y.useState)(0),[b,w]=(0,y.useState)(0),[S,k]=(0,y.useState)(ea.NONE),[P,j]=(0,y.useState)(i),{current:I}=(0,K.Z)(),{x:T,y:C,w:F,h:A}=P,{closeupImageTop:E,closeupImageMinTop:R,closeupImageWidth:D,closeupImageHeight:L,minCropperWidthRatio:Z,minCropperHeightRatio:M}=t,z=r||0,U=(e,t)=>{let i=t-E,n=e-(v.current?v.current.getBoundingClientRect().left:0),l=L*C,a=L*(C+A),r=D*T,o=D*(F+T);if(i>l+12&&i<a-12&&n>r+12&&n<o-12)return ea.INSIDE;if(n<=r+12&&n>=r-12&&i>=l+15&&i<=a-15)return ea.LEFT_CROPPER;if(n<=o+12&&n>=o-12&&i>=l+15&&i<=a-15)return ea.RIGHT_CROPPER;if(n<=o-15&&n>=r+15&&i>=l-12&&i<=l+12)return ea.TOP_CROPPER;if(n<=o-15&&n>=r+15&&i>=a-12&&i<=a+12)return ea.BOTTOM_CROPPER;if(n<=r-9+24&&n>=r-12&&i>=l-12&&i<=l+24-9)return ea.TOP_LEFT_HANDLE;if(n<=o+12&&n>=o-15&&i>=l-12&&i<=l+24-9)return ea.TOP_RIGHT_HANDLE;else if(n<=r-9+24&&n>=r-12&&i>=a-15&&i<=a+12)return ea.BOTTOM_LEFT_HANDLE;else if(n<=o+12&&n>=o-15&&i>=a-15&&i<=a+12)return ea.BOTTOM_RIGHT_HANDLE;else return ea.OUTSIDE};return(0,O.jsx)(u.kC,{justifyContent:"center",width:"100vw",children:(0,O.jsxs)(u.xu,{ref:v,dangerouslySetInlineStyle:{__style:{top:E,touchAction:"none"}},maxWidth:el.g6,overflow:"hidden",position:"fixed",width:"100%",children:[(0,O.jsx)(Y,{closeupImageDims:t,closeupImageUrl:e,cropArea:P,handleBackClick:n,onTouchEnd:()=>{if(![ea.NONE,ea.OUTSIDE].includes(S)){let e=S===ea.INSIDE?7603:7604;_({event_type:e,view_parameter:m,view_type:72}),a({cropArea:P,cropSource:6,visualObjects:h})}},onTouchMove:e=>{let{clientX:t,clientY:i}=e.touches[0];if(x(t),w(i),S===ea.NONE){let e=U(t,i);k(e)}if(null!=Z&&null!=M&&null!=R){let e=i-b,n=t-f,a=n/D,r=e/L,o=Math.min(T+F-Z,Math.max(0,T+a)),s=F+(T-o),d=Math.min(C+A-M,Math.max(0,C+r)),u=A+(C-d),c=Math.min(1-T,Math.max(Z,F+a)),p=Math.min(1-C,Math.max(M,A+r));switch(S){case ea.OUTSIDE:l(Math.floor(Math.max(R,Math.min(z,E+e))));break;case ea.INSIDE:j(e=>({...e,x:Math.max(0,Math.min(1-F,T+a)),y:Math.max(0,Math.min(1-A,C+r))}));break;case ea.LEFT_CROPPER:j(e=>({...e,x:o,w:s}));break;case ea.RIGHT_CROPPER:j(e=>({...e,w:c}));break;case ea.TOP_CROPPER:j(e=>({...e,y:d,h:u}));break;case ea.BOTTOM_CROPPER:j(e=>({...e,h:p}));break;case ea.TOP_LEFT_HANDLE:j({x:o,w:s,y:d,h:u});break;case ea.TOP_RIGHT_HANDLE:j(e=>({...e,w:c,y:d,h:u}));break;case ea.BOTTOM_LEFT_HANDLE:j(e=>({...e,h:p,x:o,w:s}));break;case ea.BOTTOM_RIGHT_HANDLE:j(e=>({...e,h:p,w:c}))}}},onTouchStart:e=>{let{clientX:t,clientY:i}=e.touches[0];x(t),w(i),k(ea.NONE)},pinDominantColor:s,showBackButton:p,viewParameter:m}),!!h.length&&0!==L&&0!==D&&(0,O.jsx)(u.xu,{"data-test-id":"FlashlightDots",children:(0,O.jsx)(en,{closeupImageTop:E,imageHeight:L,imageTop:E,imageWidth:D,onDotTap:a,pinId:d,pinImageSignature:c,setCropArea:j,shouldLogDotRender:!I,showNoHalo:o,viewParameter:m,visualObjects:h,visualObjectToHide:g})})]})})}var eo=i(427806),es=i(8742);let ed=e=>({type:"SET_FLASHLIGHT_CROP_SOURCE",payload:{cropSource:e}});var eu=i(884183),ec=i(422946),ep=i(761881),em=i(284367),eh=i(594736),eg=i(984225),e_=i(124580),ey=i(780280),ev=i(223815),ef=i(867820),ex=i(245376);function eb(e,t,i){var n;return(t="symbol"==typeof(n=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?n:String(n))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}let ew={modal:{baseStyles:{transitionProperty:"transform, opacity",transitionTimingFunction:"ease-out",transformOrigin:"bottom",touchAction:"none"}}},eS={NONE:0,UP:1,DOWN:2};class ek extends y.Component{constructor(...e){super(...e),eb(this,"state",{currentDistanceFromTop:this.props.maxDistanceFromTop?this.props.maxDistanceFromTop:-1,headerHeight:this.props.headerHeight||0,isAtTop:!1,scrollDirection:eS.NONE,shouldAnimate:!1,startY:0,canScrollOnChildren:!1}),eb(this,"onTouchStart",e=>{let{clientY:t}=e.touches[0];this.setState({startY:t,shouldAnimate:!1,scrollDirection:eS.NONE})}),eb(this,"onTouchMove",e=>{let{clientY:t}=e.touches[0],{startY:i,currentDistanceFromTop:n}=this.state,{canMoveModal:l,maxDistanceFromTop:a}=this.props,r=t-i;l&&void 0!==a&&(r>0&&n>=0&&n<a&&window.scrollY<=0||r<0&&n<=a&&n>=0)&&this.setModalPosition(t)}),eb(this,"onTouchEnd",()=>{let{entryPoint:e,minDistanceFromTop:t,canMoveModal:i}=this.props;this.props.shouldSnapToEnds&&this.state.scrollDirection===eS.DOWN?(this.header&&e_.Z.removeObstruction("top",this.header),this.setState({canScrollOnChildren:!1,currentDistanceFromTop:this.props.maxDistanceFromTop,shouldAnimate:!0,isAtTop:!1}),e&&(0,ef.My)(`mweb.${e}.snap_to_bottom`)):this.props.shouldSnapToEnds&&this.state.scrollDirection===eS.UP&&(this.state.isAtTop?this.setState({currentDistanceFromTop:0,shouldAnimate:!0}):this.setState({canScrollOnChildren:i,currentDistanceFromTop:t||0,shouldAnimate:!0,isAtTop:!0}),this.header&&e_.Z.addObstruction("top",this.header),e&&(0,ef.My)(`mweb.${e}.sliding_modal.snap_to_top`))}),eb(this,"handleHandleMove",e=>{let{clientY:t}=e.touches[0],{canMoveModal:i,maxDistanceFromTop:n,minDistanceFromTop:l}=this.props,{startY:a,currentDistanceFromTop:r}=this.state;i&&r<=(l||0)&&t-a>0&&(e.stopPropagation(),this.setState({canScrollOnChildren:!1,currentDistanceFromTop:n,isAtTop:!1,scrollDirection:eS.NONE,shouldAnimate:!0,startY:0}))}),eb(this,"handleHeaderTouch",()=>{let{maxDistanceFromTop:e,minDistanceFromTop:t,entryPoint:i,canMoveModal:n}=this.props,{currentDistanceFromTop:l,scrollDirection:a}=this.state;a===eS.NONE&&(l===e?(this.setState({canScrollOnChildren:n,currentDistanceFromTop:t||0,shouldAnimate:!0,isAtTop:!0}),(0,ef.My)(`mweb.${i}.sliding_modal.header_touch.snap_to_top`)):e&&(this.setState({canScrollOnChildren:!1,currentDistanceFromTop:e,shouldAnimate:!0,isAtTop:!1}),(0,ef.My)(`mweb.${i}.sliding_modal.header_touch.snap_to_bottom`)))}),eb(this,"handleCloseIconTouch",e=>{let{currentDistanceFromTop:t}=this.state,{onDismiss:i,logContextEvent:n,maxDistanceFromTop:l,viewParameter:a,viewType:r}=this.props;e.stopPropagation(),i&&(n({aux_data:{commerce_data:JSON.stringify({snapped_top:0===t})},element:75,event_type:102,view_parameter:a,view_type:r}),this.setState({currentDistanceFromTop:l,startY:0,scrollDirection:eS.NONE},()=>i(e)))}),eb(this,"getModalStyles",()=>{let{shouldSnapToEnds:e}=this.props,{currentDistanceFromTop:t,shouldAnimate:i,canScrollOnChildren:n}=this.state,{baseStyles:l}=ew.modal;return{...l,animation:"modalReveal 0.3s ease-out both",position:n?"absolute":"fixed",top:t>-1?t:void 0,bottom:0,width:"100vw",...e&&i?{transitionDuration:"500ms",transitionProperty:"transform, opacity, top"}:Object.freeze({})}}),eb(this,"setModalPosition",e=>{let{startY:t,currentDistanceFromTop:i}=this.state,{maxDistanceFromTop:n,snapToEndThreshold:l,entryPoint:a}=this.props;if(n){let r=e-t,o=Math.floor("CloseupShop"===a||"CloseUpMainPinDrawer"===a?Math.max(0,i+r):Math.min(n,Math.max(0,i+r))),s=eS.NONE;void 0!==l&&l>=0&&(r<0?s=o>Math.floor((1-l)*n)?eS.DOWN:eS.UP:r>0&&(s=o>Math.floor(l*n)?eS.DOWN:eS.UP)),this.setState({startY:e,currentDistanceFromTop:o,scrollDirection:s})}})}componentDidMount(){let{isOpen:e}=this.props;e&&e_.Z.pause()}componentDidUpdate(e,t){let{domainFilters:i,priceFilters:n,cropSource:l,isOpen:a,logContextEvent:r,maxDistanceFromTop:o,setHasDraggedDrawerToFullScreen:s,minDistanceFromTop:d,entryPoint:u}=this.props,{currentDistanceFromTop:c}=this.state;if(a&&!e.isOpen?e_.Z.pause():!a&&e.isOpen&&e_.Z.resume(),"CloseUpMainPinDrawer"===u&&o<e.maxDistanceFromTop&&c>o&&this.handleHeaderTouch(),t.currentDistanceFromTop!==(e.minDistanceFromTop||0)&&c===(d||0)&&s&&s(!0),i&&n&&(!(0,eh.ZP)(i,e.domainFilters)||!(0,eh.ZP)(n,e.priceFilters))){let e=(0,ex.Z)(l);r({event_type:13,view_parameter:"related_products"===e?3455:3456,view_type:72,element:11735})}}componentWillUnmount(){let{isOpen:e}=this.props;this.header&&e_.Z.removeObstruction("top",this.header),e&&e_.Z.resume()}render(){let{children:e,headerChildren:t,heading:i,inUnifiedFeedExp:n,isOpen:l,isRTL:a,mobileAccessibilityCloseIconLabel:r,mobileHideCloseIcon:o,noDivider:s,showHandle:d}=this.props,{headerHeight:c,canScrollOnChildren:p}=this.state,m=!p&&n?"32px 32px 0 0":"0";return l?(0,O.jsx)(ev.Z,{children:(0,O.jsx)(u.xu,{"aria-label":i,role:"dialog",children:(0,O.jsx)(u.xu,{color:"default",dangerouslySetInlineStyle:{__style:{...this.getModalStyles(),borderRadius:m}},onTouchEnd:this.onTouchEnd,onTouchMove:this.onTouchMove,onTouchStart:this.onTouchStart,children:(0,O.jsxs)(u.iP,{accessibilityLabel:this.props.i18n.bt("Voir tous les résultats de recherche", "View all search results", "SlidingModal.Header.a11yLabel", undefined, true),onTap:this.handleHeaderTouch,children:[(0,O.jsxs)(u.Le,{top:c||0,children:[d&&(0,O.jsx)(u.xu,{color:"default",dangerouslySetInlineStyle:{__style:{padding:"8px 0 24px 0",borderRadius:m}},"data-test-id":"slidingModalHandle",display:"flex",justifyContent:"center",onTouchMove:this.handleHandleMove,children:eg.Z}),!o&&(0,O.jsxs)(u.xu,{ref:e=>{this.header=e},color:"default",rounding:2,children:[(0,O.jsxs)(u.kC,{alignItems:"center",flex:"grow",justifyContent:"start",children:[(0,O.jsx)(u.kC,{alignItems:"center",justifyContent:"start",children:(0,O.jsx)(u.hU,{accessibilityLabel:r||"Close visual search results",icon:"arrow-back",iconColor:"gray",onClick:({event:e})=>this.handleCloseIconTouch(e),padding:5,size:"lg"})}),(0,O.jsx)(u.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:function({filterIconShown:e,isRTL:t}){let i=t?"marginRight":"marginLeft",n=t?"marginLeft":"marginRight";return e?{[i]:38,[n]:50,marginTop:15,marginBottom:15}:{[i]:-10,[n]:50,marginTop:15,marginBottom:15}}({isRTL:a})},"data-test-id":"slidingModalHeader",display:"flex",flex:"grow",justifyContent:"center",children:(0,O.jsx)(u.X6,{accessibilityLevel:2,align:"center",size:"400",children:i})})]}),t||null,!s&&(0,O.jsx)(u.iz,{})]})]}),(0,O.jsx)(u.xu,{overflow:p?"auto":"visible",children:e})]})})})}):null}}function eP(e){let t=(0,p.ZP)(),i=(0,N.Z)(),{isRTL:n}=(0,ey.B)();return(0,O.jsx)(ek,{...e,i18n:t,isRTL:n,logContextEvent:i})}let ej=`
  html, body {
    overscroll-behavior: none;
  }
`;function eI(){return Math.min(el.g6,window.innerWidth)}function eT(e,t){return Math.floor(eI()/t*e)}function eC(e,t){let i=0,n=0,l=0;if(e&&e.imageSpec_736x){var a,r,o,s;let t=e?e.imageSpec_736x:null;i=eI(),n=eT(null!==(a=null==t?void 0:t.height)&&void 0!==a?a:1,null!==(r=null==t?void 0:t.width)&&void 0!==r?r:1),l=function(e,t){let i=Math.floor(.6*window.innerHeight);return Math.min(i,eT(e,t))}(null!==(o=null==t?void 0:t.height)&&void 0!==o?o:1,null!==(s=null==t?void 0:t.width)&&void 0!==s?s:1)}return{closeupImageWidth:i,closeupImageHeight:n,closeupImageMinTop:l-n,closeupImageTop:t||0,minCropperWidthRatio:i?50/i:0,minCropperHeightRatio:n?50/n:0,modalTop:l}}function eF(e,t,i,n){let l=i?Number(i):.4,a=n?Number(n):.1;e>0&&t>0&&(i||(l=(t-2*t*.1)/e),n||(a=.1*t/e));let r={h:l,y:a};return r}let eA=(0,ep.Z)(e=>`visual-search:${e}`);function eE({cropArea:e,cropSource:t,headerHeight:i,inUnifiedFeedExp:n,pin:l,pinId:r,queryH:o,queryY:d,searchResourceOptions:c,setCropSource:h,setState:g,state:_,visualSearchFlashlightUnifiedResource:b}){var C,E,Z,M,N,K;let U=(0,j.E)(),B=(0,p.ZP)(),{logContextEvent:$}=(0,x.v)(),H=(0,v.useDispatch)(),G=(0,a.k6)(),{previous:W}=(0,S.Hv)(),{checkExperiment:V}=(0,m.F)(),q=(0,a.TH)(),{isAuth:Y}=(0,s.Z)(),{width:Q=0}=(0,f.Z)()||{},J=(null!==(C=null==l?void 0:l.visualObjects)&&void 0!==C?C:[]).filter(e=>e.isStela),X=(null!==(E=null==l?void 0:l.visualObjects)&&void 0!==E?E:[]).filter(e=>!!e.label),ee=J.length>0||X.length>0,et=ee&&(V("mweb_flashlight_show_more_stela_dots").anyEnabled?J:X)||[],ei=et.map(e=>{let{isStela:t,title:i,label:n,labelId:l,labelX:a,labelY:r,maxAnnotationNumDocuments:o,score:s,showOnCloseup:d,x:u,y:c,h:p,w:m}=e;return{is_stela:null!=t&&t,title:null!=i?i:"",label:null!=n?n:"",label_id:null!=l?l:"",label_x:null!=a?a:0,label_y:null!=r?r:0,max_annotation_num_documents:null!=o?o:0,score:null!=s?s:0,show_on_closeup:null!=d&&d,x:null!=u?u:0,y:null!=c?c:0,h:null!=p?p:0,w:null!=m?m:0}}),[en,el]=(0,y.useState)(A(ei,e)),{isCropAreaOnDotArea:ea,dotIndexToHide:ep}=en,eh=e=>H((0,eu.By)(e)),eg=e=>H(ed(e)),e_=(0,v.useSelector)(e=>eA(e,r)),{data:ey,fetchMore:ev,isAtEnd:ef,isFetching:ex,isLoaded:eb}=b||{},ew=(null==ey?void 0:ey.results)||[],eS=ew.find(e=>"story"===e.type&&"unified_visual_feed_product_upsell"===e.story_type),ek=ew.filter(e=>"pin"===e.type),eI=null==eS?void 0:eS.action,{url:eT=`/pin/${r}`,title:eE=""}=eI||{},eR=B.bt("Achetez des produits similaires", "Shop similar", "mobileFlashlight.productUpsellTitle", undefined, true),eD=B.bt("Recherche par image", "Image search", "mobileFlashlight.organicFeedTitle", undefined, true),eL=B.bt("Recherche visuelle", "Visual search", "Visual search results", undefined, true),eZ=n&&(4===t||ea)?3462:3050,eM=JSON.stringify({is_product_only_feed:!1}),{closeupImageWidth:eO,modalTop:ez}=_.closeupImageDims,eN=null!==(Z=null==l?void 0:null===(M=l.imageSpec_736x)||void 0===M?void 0:M.url)&&void 0!==Z?Z:"",eK=Q-60<eO&&n;function eU(){$({component:14339,element:179,event_type:102,view_parameter:eZ,view_type:72})}function eB(){if(0===W.length){G.replace(`/pin/${r}/`);return}G.goBack()}let[e$,eH]=(0,y.useState)(0),[eG,eW]=(0,y.useState)(0),[eV,eq]=(0,y.useState)(!1),[eY,eQ]=(0,y.useState)(!1),[eJ,eX]=(0,y.useState)(void 0);function e0(){eQ(!1),eq(!1),eX(void 0)}function e1(e,t){"vertical"!==t&&e.stopPropagation()}let e2=!!l,e6=(0,y.useMemo)(()=>eC(l,i),[null==l?void 0:l.entityId,i]);return((0,y.useEffect)(()=>{if(e2){let{closeupImageHeight:e,modalTop:t=0}=e6,i=eF(e,t,Number(o),Number(d));g(e=>({...e,closeupImageDims:e6,...i}))}},[e2,e6]),(0,y.useEffect)(()=>{(e_&&e_.length>0||n&&eb)&&U&&U.markConstraintComplete("VisualSearchFeedLoaded")}),(0,F.Z)(()=>{eg(t)}),l&&0!==ez)?(0,O.jsxs)(y.Fragment,{children:[(0,O.jsx)(k.Z,{unsafeCSS:ej}),(0,O.jsx)(R.Z,{auxData:n?{commerce_data:eM}:void 0,viewParameter:n?3462:3050,viewType:72,children:(0,O.jsx)(T.Z,{view:72,children:(0,O.jsxs)(P.default,{hasFixedHeader:!0,hasGutter:!1,children:[(0,O.jsx)(eo.Z,{text:B.bt("Page de recherche visuelle", "Visual Search Page", "flashlight.accessibilityhiddenheading.fullpage", undefined, true)}),(0,O.jsx)(u.xu,{color:"dark",height:"100vh",width:"100vw"}),(0,O.jsx)(er,{closeupImageDims:_.closeupImageDims,closeupImageUrl:eN,cropArea:e,handleBackClick:eB,handleChangeCloseupImageTop:function(e){g(t=>({...t,closeupImageDims:{...t.closeupImageDims,closeupImageTop:e}}))},handleCropperChange:function({cropArea:e,cropSource:t,visualObjects:i}){eg(t),eh(r),el(A(i,e)),h(t),g(t=>({...t,...e})),G.replace(`/pin/${r}/visual-search/?x=${e.x}&y=${e.y}&h=${e.h}&w=${e.w}&cropSource=${t}`)},headerHeight:i,inUnifiedFeedExp:n,pinDominantColor:l.dominantColor||"#efefef",pinId:r,pinImageSignature:l.imageSignature,showBackButton:eK,viewParameter:eZ,visualObjects:ei,visualObjectToHide:ep}),!eK&&n&&(0,O.jsx)(z,{handleBackClick:eB,viewParameter:eZ,viewType:427}),(0,O.jsxs)(eP,{canMoveModal:!0,cropSource:t,entryPoint:"flashlight",headerHeight:i,heading:eL,inUnifiedFeedExp:n,isOpen:!0,location:q,maxDistanceFromTop:ez||0,minDistanceFromTop:Y?60:i,mobileAccessibilityCloseIconLabel:B.bt("Fermer les résultats de recherche visuelle", "Close visual search results", "close visual search results and go back to pin", undefined, true),mobileHideCloseIcon:n,noBorder:!0,noDivider:!0,noMaskOnBackground:!0,onDismiss:eB,pinId:r,shouldSnapToEnds:!0,showHandle:n,snapToEndThreshold:.3,viewParameter:eZ,viewType:72,children:[(0,O.jsx)(u.$j,{accessibilityLabel:B.bt("Chargement des résultats de la recherche visuelle", "Loading visual search results", "mobileFlashlightPage.loadingSpinner", undefined, true),show:n&&!eb}),n&&eb&&(0,O.jsxs)(y.Fragment,{children:[eS&&(0,O.jsxs)(y.Fragment,{children:[(0,O.jsxs)(u.xu,{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",marginBottom:2,paddingX:4,children:[(0,O.jsx)(u.Tg,{href:eT,onTap:({event:e})=>{e.stopPropagation(),eU()},tapStyle:"compress",children:(0,O.jsx)(u.X6,{accessibilityLevel:2,size:"400",children:eR})}),(0,O.jsx)(u.I_,{accessibilityLabel:eE||B.bt("Voir plus", "See more", "headerModule.headerModuleActionButton.iconButton", undefined, true),bgColor:"transparent",dataTestId:"product-upsell-action-button",href:eT,icon:"arrow-forward",iconColor:"darkGray",onClick:eU,size:"sm"})]}),(0,O.jsx)(u.xu,{dangerouslySetInlineStyle:{__style:{touchAction:"pan-x",overflowY:"hidden"}},onTouchEnd:function(e){e1(e,eJ),e0()},onTouchMove:function(e){let{clientX:t,clientY:i}=e.touches[0];Math.abs(i-eG)>10&&eq(!0),Math.abs(t-e$)>10&&eQ(!0),eY&&eV?eX(e=>e||"vertical"):eY?eX(e=>e||"horizontal"):eV?eX(e=>e||"vertical"):eX(void 0),e1(e,eJ)},onTouchStart:function(e){let{clientX:t,clientY:i}=e.touches[0];eH(t),eW(i),e0()},children:(0,O.jsx)(I.default,{component:14339,disableHeader:!0,story:eS,storyGraphqlRef:null,surface:"ShoppingDynamicHeightGrid",view:72,viewParameter:3462})})]}),(0,O.jsx)(u.xu,{marginBottom:3,paddingX:4,children:(0,O.jsx)(u.X6,{accessibilityLevel:2,size:"400",children:eD})}),(0,O.jsx)(u.xu,{color:"default",dangerouslySetInlineStyle:{__style:{touchAction:"pan-y"}},paddingX:w.D6,children:(0,O.jsx)(em.Z,{feedItems:ek,feedKey:null!==(N=(0,ec.J)("VisualSearchFlashlightUnifiedResource",c))&&void 0!==N?N:"",pagination:{loadNext:ev||(()=>void 0),hasNext:!ef,isLoadingNext:ex||!1,refetch:()=>void 0},renderFeedItem:(e,t)=>(0,O.jsx)(L.cn,{children:(0,O.jsx)(es.ZP,{auxData:{commerce_data:eM},componentType:0,duploQueryRef:null,pinId:e.id,slotIndex:t,trackingParams:e.trackingParams||void 0,viewParameter:3462,viewType:72})})})})]}),!n&&(0,O.jsx)(u.xu,{color:"default",paddingX:w.D6,children:(0,O.jsx)(D.ZP,{feedItemProps:{viewParameter:3050,viewType:72},feedKey:null!==(K=(0,ec.J)("VisualLiveSearchResource",c))&&void 0!==K?K:"",resourceConfig:{name:"VisualLiveSearchResource",options:c},trafficSource:"flashlight"})})]})]})})})]}):null}function eR(e){let{searchResourceOptions:t}=e,i=(0,g.Z)({name:"VisualSearchFlashlightUnifiedResource",options:t});return(0,O.jsx)(eE,{...e,visualSearchFlashlightUnifiedResource:i})}let eD=void 0!==n?n:n=i(781426);function eL({pinKey:e}){let{checkExperiment:t}=(0,m.F)(),{anyEnabled:i}=t("mweb_flashlight_unified_feed"),n=(0,a.$B)(),{pinId:l}=(0,_.Z)(n.params.id||""),d=(0,a.TH)(),u=(0,r.mB)(d.search),{cropSource:c,x:p,y:h,h:g,w:v}=u,{isAuth:f}=(0,s.Z)(),x=(0,o.ZP)(),w=!f&&(0,C.x9)(x)||void 0,S=(0,b.Z)(eD,e),[k,P]=(0,y.useState)(()=>{let e=eC(S,w);e.closeupImageTop=0;let{closeupImageHeight:t,modalTop:i=0}=e,n=eF(t,i,Number(g),Number(h));return{closeupImageDims:e,x:p?Number(p):.1,w:v?Number(v):.8,y:n.y,h:n.h}}),[j,I]=(0,y.useState)(()=>{let e=(0,E.Z)(Number(c));return e||(p&&h&&g&&v?6:5)}),T={x:k.x,y:k.y,w:k.w,h:k.h},F={cropArea:T,cropSource:j,headerHeight:w,inUnifiedFeedExp:i,pin:S,pinId:l,queryH:g,queryY:h,searchResourceOptions:{pin_id:l,crop:T,crop_source:j,is_shopping:!1,entry_source:"flashlight",entrypoint:null},setCropSource:I,setState:P,state:k};return i?(0,O.jsx)(eR,{...F}):(0,O.jsx)(eE,{...F})}var eZ=i(350118);let eM=void 0!==l?l:l=i(43027);function eO(e){var t,i,n;return{width:null!==(t=e.width)&&void 0!==t?t:0,url:null!==(i=e.url)&&void 0!==i?i:"",height:null!==(n=e.height)&&void 0!==n?n:0}}function ez(e){return null==e?void 0:e.map(e=>{var t,i;return{id:null!==(t=e.itemId)&&void 0!==t?t:"",additional_images:null!==(i=function(e){let t=[];return e.forEach(({additionalImages:e,spec:i})=>{var n;t.push(...null!==(n=function({additionalImages:e,spec:t}){let i=[];return null==e||e.forEach(e=>{if(e.canonicalImage){var n;i.push({canonical_images:{[t]:eO(e.canonicalImage)},image_signature:null!==(n=e.imageSignature)&&void 0!==n?n:""})}}),i}({additionalImages:e,spec:i}))&&void 0!==n?n:[])}),t}([{additionalImages:e.additionalImageOrig,spec:"orig"},{additionalImages:e.additionalImage736x,spec:"736x"},{additionalImages:e.additionalImage564x,spec:"564x"},{additionalImages:e.additionalImage474x,spec:"474x"},{additionalImages:e.additionalImage236x,spec:"236x"}]))&&void 0!==i?i:[]}})}function eN(e){let t={};return e.forEach(({image:e,spec:i})=>{e&&(t[i]=eO(e))}),t}let eK=(0,c.Z)({useGraphQLAdapter:function({pinId:e}){var t,i,n,l,a,r,o,s,u,c,p,m,h,g,_;let y=(0,d.useLazyLoadQuery)(eM,{pinId:e}),v=null===(t=y.v3GetPinQuery)||void 0===t?void 0:t.data;if(!v)return null;let f={id:null!==(i=v.entityId)&&void 0!==i?i:"",dominant_color:null!==(n=v.dominantColor)&&void 0!==n?n:"",image_signature:null!==(l=v.imageSignature)&&void 0!==l?l:"",visual_objects:null!==(a=null==(o=v.visualObjects)?void 0:o.map(e=>{var t,i,n,l,a,r,o,s,d,u,c,p,m,h;return{detection:null!==(t=e.detection)&&void 0!==t&&t,h:null!==(i=e.h)&&void 0!==i?i:0,index:null!==(n=e.index)&&void 0!==n?n:0,is_stela:null!==(l=e.isStela)&&void 0!==l&&l,label:null!==(a=e.label)&&void 0!==a?a:"",label_id:null!==(r=e.labelId)&&void 0!==r?r:"",label_x:null!==(o=e.labelX)&&void 0!==o?o:0,label_y:null!==(s=e.labelY)&&void 0!==s?s:0,max_annotation_num_documents:null!==(d=e.maxAnnotationNumDocuments)&&void 0!==d?d:0,score:null!==(u=e.score)&&void 0!==u?u:0,show_on_closeup:null!==(c=e.showOnCloseup)&&void 0!==c&&c,w:null!==(p=e.x)&&void 0!==p?p:0,x:null!==(m=e.w)&&void 0!==m?m:0,y:null!==(h=e.y)&&void 0!==h?h:0}}))&&void 0!==a?a:[],images:null!==(r=eN([{image:v.imageOrig,spec:"orig"},{image:v.image736x,spec:"736x"},{image:v.image564x,spec:"564x"},{image:v.image474x,spec:"474x"},{image:v.image236x,spec:"236x"}]))&&void 0!==r?r:{},rich_metadata:{products:null!==(u=ez(null==(s=v.richMetadata)?void 0:s.products))&&void 0!==u?u:[]},rich_summary:{products:null!==(p=ez(null==(c=v.richSummary)?void 0:c.products))&&void 0!==p?p:[]},carousel_data:{carousel_slots:null!==(h=null==(_=null==(m=v.carouselData)?void 0:m.carouselSlots)?void 0:_.map(e=>{var t,i;return{image_signature:null!==(t=e.imageSignature)&&void 0!==t?t:"",images:null!==(i=eN([{image:e.imageOrig,spec:"orig"},{image:e.image736x,spec:"736x"},{image:e.image564x,spec:"564x"},{image:e.image474x,spec:"474x"},{image:e.image236x,spec:"236x"}]))&&void 0!==i?i:{}}}))&&void 0!==h?h:[],index:null!==(g=null==m?void 0:m.index)&&void 0!==g?g:0},type:"pin"};return{pin:f}},useLegacyAdapter:function({pinId:e}){let{data:t}=(0,g.Z)({name:"PinResource",options:{id:e,field_set_key:"detailed",fetch_visual_search_objects:!0,is_mobile_fork:!0}}),i=(0,eZ.S6)()(e),n=null!=t?t:i;return n?{pin:n}:null}});function eU(){let{checkExperiment:e}=(0,m.F)(),t=(0,p.ZP)(),i=(0,a.$B)(),{pinId:n}=(0,_.Z)(i.params.id||"");return(0,O.jsx)(eK,{input:e("auth_mweb_graphql_flashlight_pinResource").anyEnabled||e("unauth_mweb_graphql_flashlight_pinResource").anyEnabled?{enabled:!0,data:{pinId:n},suspense:{fallback:(0,O.jsx)(u.$j,{accessibilityLabel:t.bt("Chargement des données de l’Épingle", "Loading Pin data", "mobileFlashlightPage.loadingPinData", undefined, true),show:!0})}}:{enabled:!1,data:{pinId:n}},children:({data:e})=>!!e&&(0,O.jsx)(h.Z,{constraints:["VisualSearchFeedLoaded"],surface:"flashlight",children:(0,O.jsx)(eL,{pinKey:null!=e.pin?{type:"deprecated",data:e.pin}:null})})})}var eB=i(272984),e$=i(594379),eH=i(215425),eG=i(23195);let eW=function(){let e=(0,o.HG)(),t=(0,s.Z)(),i=(0,a.TH)(),{surfaceType:n}=(0,r.mB)(i.search);return e?t.isAuth?["stela","stl"].includes(n)?(0,O.jsx)(eH.Z,{}):(0,O.jsx)(e$.ZP,{}):(0,O.jsx)(eB.Z,{}):i.pathname.includes("/products/")?(0,O.jsx)(eG.Z,{}):(0,O.jsx)(eU,{})}},562647:(e,t,i)=>{"use strict";function n(e){let[t,i]=e.split(/\/(.*)+/);return{filepath:i,site:t}}function l(e,t){return t?`${e||""}/${t}`:`/${e||""}`}i.d(t,{ac:()=>n,ke:()=>l})},582406:(e,t,i)=>{"use strict";i.d(t,{MM:()=>r,uo:()=>o,wH:()=>a});var n=i(425288),l=i(562647);let{Provider:a,useHook:r}=(0,n.Z)("HandlerId");function o(){let e=r();return(0,l.ac)(e).site}},202873:(e,t,i)=>{"use strict";i.d(t,{b:()=>a});var n=i(773285),l=i(780280);function a(){let{checkExperiment:e}=(0,n.F)(),{isAuthenticated:t}=(0,l.B)();return!!e&&e(t?"web_auth_lazy_component":"web_unauth_lazy_component").anyEnabled}},986901:(e,t,i)=>{"use strict";i.d(t,{Z:()=>d});var n=i(667294),l=i(995228),a=i(425288);let{Provider:r,useMaybeHook:o}=(0,a.Z)("LazyComponent");var s=i(785893);function d(e,t,i){var a;let r,d;let u=!!(null===(a=null==t?void 0:t.ssr)||void 0===a||a),c=(0,n.lazy)(e),p=u?n.Suspense:l.Z,m=e=>{var i;o();let l=(0,n.useRef)(null!==(i=r)&&void 0!==i?i:c),a=l.current;return(0,s.jsx)(p,{fallback:null==t?void 0:t.fallback,children:(0,s.jsx)(a,{...e})})};function h(){return d||(d=(async()=>{let t=await e();return r=t.default})()),d}return m.preload=()=>{h()},m.load=()=>h(),m}},127525:(e,t,i)=>{"use strict";i.d(t,{I:()=>u,Z:()=>c});var n=i(667294),l=i(616550),a=i(473727),r=i(201342),o=i(785893);let s=(0,n.createContext)(null);function d({children:e}){let t=(0,l.TH)(),i=(0,n.useMemo)(()=>t,[]);return(0,o.jsx)(s.Provider,{value:i,children:e})}function u(){let e=(0,l.TH)(),t=(0,n.useContext)(s);return e===t}function c({children:e,initialLocation:t}){return(0,o.jsx)(a.VK,{children:(0,o.jsx)(r.tn,{children:(0,o.jsx)(d,{children:e})})})}},585913:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/handle_bottom_left-d4d98c77.svg"},913574:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/handle_bottom_right-ccae4564.svg"},49808:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/handle_top_left-68937c82.svg"},957435:e=>{"use strict";e.exports="https://s.pinimg.com/webapp/handle_top_right-4d7ae997.svg"},373897:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n},e.exports.__esModule=!0,e.exports.default=e.exports},163405:(e,t,i)=>{var n=i(373897);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},366115:e=>{e.exports=function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e},e.exports.__esModule=!0,e.exports.default=e.exports},474704:(e,t,i)=>{var n=i(386116);e.exports=function(e,t){var i="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!i){if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var l=0,a=function(){};return{s:a,n:function(){return l>=e.length?{done:!0}:{done:!1,value:e[l++]}},e:function(e){throw e},f:a}}throw TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,o=!0,s=!1;return{s:function(){i=i.call(e)},n:function(){var e=i.next();return o=e.done,e},e:function(e){s=!0,r=e},f:function(){try{o||null==i.return||i.return()}finally{if(s)throw r}}}},e.exports.__esModule=!0,e.exports.default=e.exports},238416:(e,t,i)=>{var n=i(464062);e.exports=function(e,t,i){return(t=n(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e},e.exports.__esModule=!0,e.exports.default=e.exports},310434:e=>{function t(){return e.exports=t=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},e.exports.__esModule=!0,e.exports.default=e.exports,t.apply(this,arguments)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},107867:(e,t,i)=>{var n=i(206015);e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,n(e,t)},e.exports.__esModule=!0,e.exports.default=e.exports},564836:e=>{e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.__esModule=!0,e.exports.default=e.exports},379498:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},742281:e=>{e.exports=function(){throw TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},242122:(e,t,i)=>{var n=i(238416);function l(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}e.exports=function(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?l(Object(i),!0).forEach(function(t){n(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e},e.exports.__esModule=!0,e.exports.default=e.exports},7071:e=>{e.exports=function(e,t){if(null==e)return{};var i,n,l={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(l[i]=e[i]);return l},e.exports.__esModule=!0,e.exports.default=e.exports},206015:e=>{function t(i,n){return e.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},e.exports.__esModule=!0,e.exports.default=e.exports,t(i,n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},600861:(e,t,i)=>{var n=i(163405),l=i(379498),a=i(386116),r=i(742281);e.exports=function(e){return n(e)||l(e)||a(e)||r()},e.exports.__esModule=!0,e.exports.default=e.exports},295036:(e,t,i)=>{var n=i(918698).default;e.exports=function(e,t){if("object"!=n(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var l=i.call(e,t||"default");if("object"!=n(l))return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)},e.exports.__esModule=!0,e.exports.default=e.exports},464062:(e,t,i)=>{var n=i(918698).default,l=i(295036);e.exports=function(e){var t=l(e,"string");return"symbol"==n(t)?t:String(t)},e.exports.__esModule=!0,e.exports.default=e.exports},918698:e=>{function t(i){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(i)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports},386116:(e,t,i)=>{var n=i(373897);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);if("Object"===i&&e.constructor&&(i=e.constructor.name),"Map"===i||"Set"===i)return Array.from(e);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n(e,t)}},e.exports.__esModule=!0,e.exports.default=e.exports},693967:(e,t)=>{var i;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/!function(){"use strict";var n={}.hasOwnProperty;function l(){for(var e="",t=0;t<arguments.length;t++){var i=arguments[t];i&&(e=a(e,function(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return l.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var i in e)n.call(e,i)&&e[i]&&(t=a(t,i));return t}(i)))}return e}function a(e,t){return t?e?e+" "+t:e+t:e}e.exports?(l.default=l,e.exports=l):void 0!==(i=(function(){return l}).apply(t,[]))&&(e.exports=i)}()},497326:(e,t,i)=>{"use strict";function n(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}i.d(t,{Z:()=>n})},204942:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(383997);function l(e,t,i){return(t=(0,n.Z)(t))in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},487462:(e,t,i)=>{"use strict";function n(){return(n=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}i.d(t,{Z:()=>n})},894578:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(589611);function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,(0,n.Z)(e,t)}},601413:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(204942);function l(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)}return i}function a(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?l(Object(i),!0).forEach(function(t){(0,n.Z)(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):l(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}},263366:(e,t,i)=>{"use strict";function n(e,t){if(null==e)return{};var i,n,l={},a=Object.keys(e);for(n=0;n<a.length;n++)i=a[n],t.indexOf(i)>=0||(l[i]=e[i]);return l}i.d(t,{Z:()=>n})},589611:(e,t,i)=>{"use strict";function n(e,t){return(n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}i.d(t,{Z:()=>n})},383997:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(671002);function l(e){var t=function(e,t){if("object"!=(0,n.Z)(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var l=i.call(e,t||"default");if("object"!=(0,n.Z)(l))return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,n.Z)(t)?t:String(t)}},671002:(e,t,i)=>{"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}i.d(t,{Z:()=>n})}},e=>{var t=t=>e(e.s=t);e.O(0,[97270,83119,16550,26067,17492,48327,40432,16117,13254,8575,99961,76030,90123,95027,23019,37210,55194,3327,61510,68317,94185,56588,1342],()=>t(269458)),e.O()}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/www/pin/[id]/visual-search.fr-cf26d7dc92859ab3.mjs.map