"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[68317],{964569:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(702664),r=i(214494),l=i(139405),o=i(664569),s=i(600147),d=i(956800),a=i(274415),c=i(492583);let _={[o.o.aggregatedComment]:"AggregatedCommentReplyResource",[o.o.pin]:"AggregatedCommentResource",[o.o.didIt]:"DidItCommentsResource"};function p(){let e=(0,n.useDispatch)(),{aggregatedCommentCreated:t,updateCommentCount:i}=(0,l.nf)();return async({force:n=!0,fromUnifiedComment:l,objectId:o,objectType:p,orbacSubjectId:u,pinId:m,replyToCommentId:T,tags:y,text:h})=>{let I=_[p],f={force:n,objectId:o,pinId:m,tags:y,text:h,replyToCommentId:T,...u?{orbacSubjectId:u}:{}},g=c.Z.AGGREGATED_COMMENTS;l&&(g="pin"===p?c.Z.UNIFIED_COMMENTS:c.Z.AGGREGATED_COMMENT_REPLIES);let E=await r.Z.create(I,f).callCreate({showError:!1}),v=E.resource_response.data;return t(o,v),e((0,d.vX)({feedType:g,feedId:o,itemIds:[v.id],itemType:v.type,prepend:!0})),"aggregatedComment"===p?i(o,1):"pin"!==p&&e((0,s.L8)(o,1)),m&&e((0,a.R)(m,1)),v.id||E}}},28754:(e,t,i)=>{i.d(t,{Z:()=>_});var n=i(702664),r=i(214494),l=i(541776),o=i(139405),s=i(600147),d=i(956800),a=i(274415),c=i(492583);function _(){let e=(0,n.useDispatch)(),{aggregatedCommentDeleted:t,updateCommentCount:i}=(0,o.nf)();return async({aggregatedCommentId:n,aggregatedPinId:o,feedType:_,orbacSubjectId:p,parentId:u,type:m,updateParentCommentCount:T,pinId:y})=>{await r.Z.create("AggregatedCommentResource",{commentId:n,...p?{orbacSubjectId:p}:{}}).callDelete({showError:!1}),u&&(e((0,d.EX)({feedId:o||u,feedType:_||c.Z.AGGREGATED_COMMENTS,itemIds:[n],itemType:"aggregatedcomment"})),t(u,n),T&&(m||0===m)&&(m===l.Rv.TOP&&y?e((0,a.R)(y,-1)):m===l.Rv.REPLY_TO_AGGREGATED?i(u,-1):e((0,s.L8)(u,-1))))}}},264322:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(667294),r=i(883119),l=i(643010),o=i(898781),s=i(785893);let d=({hasManyComments:e,isFirstTaggedUserAuthor:t,isInCommentModule:i,shouldShowFirstNameOnly:d,tags:a,taggedUsers:c,text:_})=>{let p=(0,o.ZP)(),u=(0,n.useRef)(null),m=(0,l.Yc)()?"#111111":"#FFFFFF",[T,y]=(0,n.useState)(!1),h=p.bt("... afficher", "...view", "comment.module.toggle.view", undefined, true),I=p.bt("... tout afficher", "...view all", "comment.module.toggle.viewAll", undefined, true),f=e?I:h;(0,n.useEffect)(()=>{u.current&&y(u.current.scrollHeight>u.current.offsetHeight)},[u,y,_]);let g=(e,t)=>(0,s.jsx)(r.xv,{inline:!0,overflow:"normal",children:(0,s.jsx)("span",{className:"text-container",children:e})},t),E=(e,n,l,o)=>{let a=d||0===l&&t?c[l].first_name||c[l].username[0]:n;return(0,s.jsx)(r.xv,{color:e,inline:!0,overflow:"normal",weight:"bold",children:i?a:(0,s.jsx)(r.rU,{display:"inlineBlock",href:`/${c[l].username}`,underline:"hover",children:a})},o)};return(0,s.jsx)("span",{style:{whiteSpace:"pre-wrap",wordWrap:"break-word"},children:(()=>{if(!a.length||!c||a.length!==c.length)return g(_,"1");let e=0,t=[];return a.forEach((i,n)=>{let r=_.substring(e,i.offset);e=i.offset+i.length;let l=_.substring(i.offset,e);t=t.concat(g(r,`${n}a`)).concat(E(i.color,l,n,`${n}b`))}),t=t.concat(g(_.substring(e),"2")),(0,s.jsx)(r.xu,{marginEnd:3,position:"relative",children:(0,s.jsxs)(r.xv,{ref:u,inline:!0,lineClamp:i?2:void 0,children:[t,i&&!T&&(0,s.jsxs)(r.xv,{inline:!0,weight:"bold",children:["\xa0",f]}),i&&T&&(0,s.jsx)(r.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:`linear-gradient(270deg, ${m} 50%, ${m}00 100%)`}},display:"inlineBlock",position:"absolute",right:!0,width:140,children:(0,s.jsxs)(r.xv,{align:"end",weight:"bold",children:["\xa0",f]})})]})})})()})}},541776:(e,t,i)=>{i.d(t,{A9:()=>d,LH:()=>r,Rv:()=>l,TJ:()=>o,iB:()=>n,pW:()=>s});let n=48,r=n+8,l=Object.freeze({TOP:0,REPLY_TO_TRIED:1,REPLY_TO_AGGREGATED:2}),o="comment_featured_ids",s="did_it_featured_ids",d={NONE:"none",WARNING:"warning",BLOCK:"block"}},81226:(e,t,i)=>{i.d(t,{Z:()=>n});function n(e){let t=Math.round(e/1e3),i=t%60;return Math.floor(t/60)+":"+(i<10?"0":"")+i}},366428:(e,t,i)=>{i.d(t,{F:()=>d,Z:()=>s});var n=i(667294),r=i(407043),l=i(124580);let o={ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},OneBar:{impressionType:"oneBarImpressions",idType:"onebarIdStr",eventType:9993},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpression",idType:"idStr",eventType:170},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},AdsPreview:{impressionType:"AdsPreviewImpression",idType:"AdsPreviewStr",eventType:8600}};function s({carouselData:e,closeupImpressionType:t,closeupNavigationType:i,componentType:s,contextLogData:d,clientTrackingParams:a,elementType:c,impressionAuxFields:_,inImpressionExp:p,impressionType:u,impressionsFramework:m,isPaused:T,loggingId:y,objectIdStr:h,slotIndex:I,trackCarousel:f,viewData:g,viewParameter:E,viewType:v}){let{logContextEvent:x}=(0,r.v)(),D=m||l.Z,A=(0,n.useRef)(null),w=n=>{var r,l,p,m,T,D,w;let b=o[u],P=b.idType,R={clientTrackingParams:a,endTime:n.endTime,[P]:y,slotIndex:I,time:n.startTime,renderDuration:n.endTime-n.startTime,type:t,..._,forcedExit:"removed"===n.forcedExit?0:void 0};"Pin"===u&&(R={...R,pinCellWidth:(null===(r=A.current)||void 0===r?void 0:r.getBoundingClientRect().width)||0,pinCellHeight:(null===(l=A.current)||void 0===l?void 0:l.getBoundingClientRect().height)||0,windowWidth:null===(p=window)||void 0===p?void 0:p.innerWidth,windowHeight:null===(m=window)||void 0===m?void 0:m.innerHeight});let C={component:s,object_id_str:h,view_type:v,view_data:g||{},view_parameter:E};f?e&&x({event_type:7352,event_data:{pinCarouselSlotImpressions:[{...R,carouselDataId:Number(e.id),carouselSlotId:(null===(T=e.carousel_slots)||void 0===T?void 0:T[null!==(D=e.index)&&void 0!==D?D:0])&&Number(e.carousel_slots[null!==(w=e.index)&&void 0!==w?w:0].id),slotIndex:e.index}]},...C,aux_data:{...d}}):x({clientTrackingParams:a,event_type:b.eventType,...C,element:c,event_data:{[b.impressionType]:"Story"===u?R:[R]},aux_data:{closeup_navigation_type:i,...d}})},b=(0,n.useCallback)(()=>{try{A.current instanceof HTMLElement&&D.start(A.current).onExitViewport(w).setDebugId(y||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}},[A.current]);(0,n.useEffect)(()=>(p&&!D.inExperiment&&D.setExperimentStatus(!0),T||b(),()=>{A.current instanceof HTMLElement&&D.stop(A.current)}),[b]);let P=(0,n.useRef)(T);return(0,n.useEffect)(()=>{P.current&&!T&&b(),P.current=T},[T,b]),A}let d=({children:e,...t})=>e({impressionTrackerRef:s(t)})},664569:(e,t,i)=>{i.d(t,{n:()=>r,o:()=>n});let n={aggregatedComment:"aggregatedComment",didIt:"didIt",pin:"pin"},r={aggregatedComment:"aggregatedcomment",didIt:"userdiditdata",pin:"pin"}},814197:(e,t,i)=>{i.d(t,{Cq:()=>c,Dk:()=>p,Fk:()=>r,fS:()=>a,km:()=>_,lI:()=>o,lJ:()=>l,mS:()=>d,qW:()=>s});var n=i(883119);let r=new n.Ry(1),l=3,o=new n.Ry(l),s=2,d=new n.Ry(s),a=3,c=4,_=new n.Ry(5),p=new n.Ry(100)},737849:(e,t,i)=>{i.d(t,{Z:()=>_});var n=i(883119),r=i(121151),l=i(898781),o=i(349700),s=i(966113),d=i(50286),a=i(785893);let c=s.K_Y+"?source=block_dialogue";function _({firstName:e,onBlockUser:t,onClearModal:i}){let s=(0,l.ZP)(),_=(0,d.HG)(),p=(0,o.nk)(s.bt("Bloquer {{ firstName }} ?", "Block {{ firstName }}?", "blockUser.modal.header", undefined, true),{firstName:e}).join(""),u=(0,o.nk)(s.bt("Si vous bloquez {{ firstName }}, ses messages, abonnements et commentaires seront bloqués. Vous pourrez toujours consulter vos profils respectifs.", "Blocking {{ firstName }}, stops messages, follows, and comments. You can still view each other’s profiles.", "blockUser.modal.description", undefined, true),{firstName:e});return _?(0,a.jsxs)(r.ZP,{accessibilityModalLabel:p,footer:(0,a.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:"end",marginEnd:-1,marginStart:-1,children:[(0,a.jsx)(n.xu,{padding:1,children:(0,a.jsx)(n.zx,{fullWidth:!0,onClick:i,size:"md",text:s.bt("Annuler", "Cancel", "blockUser.modal.cancel", undefined, true)})}),(0,a.jsx)(n.xu,{padding:1,children:(0,a.jsx)(n.zx,{color:"red",fullWidth:!0,onClick:t,size:"md",text:s.bt("Bloquer", "Block", "Button to confirm blocking a user", undefined, true)})})]}),heading:p,onDismiss:i,role:"alertdialog",size:"md",children:[(0,a.jsx)(n.xu,{"data-test-id":"block-text",padding:4,children:(0,a.jsx)(n.xv,{children:u})}),(0,a.jsx)(n.xu,{padding:4,children:(0,a.jsx)(n.xv,{color:"default",weight:"bold",children:(0,a.jsx)(n.rU,{href:c,target:"blank",children:s.bt("En savoir plus", "Learn more", "link to help center to learn more about blocking", undefined, true)})})})]}):(0,a.jsxs)(r.ZP,{accessibilityModalLabel:p,mobileHideCloseIcon:!0,onDismiss:i,type:"block_button",children:[(0,a.jsx)(n.xu,{alignItems:"center",display:"flex",paddingX:3,paddingY:5,children:(0,a.jsx)(n.X6,{accessibilityLevel:1,size:"500",children:p})}),(0,a.jsx)(n.xu,{marginBottom:3,marginEnd:2,marginStart:2,children:(0,a.jsx)(n.xv,{align:"center",children:u})}),(0,a.jsxs)(n.xu,{alignItems:"center",display:"flex",justifyContent:"center",marginEnd:-1,marginStart:-1,children:[(0,a.jsx)(n.xu,{padding:1,children:(0,a.jsx)(n.zx,{fullWidth:!0,onClick:i,size:"md",text:s.bt("Annuler", "Cancel", "blockUser.modal.cancel", undefined, true)})}),(0,a.jsx)(n.xu,{padding:1,children:(0,a.jsx)(n.zx,{color:"red",fullWidth:!0,onClick:t,size:"md",text:s.bt("Bloquer", "Block", "Button to confirm blocking a user", undefined, true)})})]})]})}},600147:(e,t,i)=>{i.d(t,{DD:()=>_,lg:()=>p,Th:()=>m,YH:()=>d,wH:()=>s,IU:()=>u,L8:()=>c});var n=i(214494),r=i(186656),l=i(956800),o=i(492583);function s({didItDataId:e,isLikedByMe:t}){return i=>((0,r.Z)({url:`/v3/did_it/${e}/like/`,method:t?"DELETE":"POST"}),i({type:"USER_DID_IT_DATA_LIKE_TOGGLED",payload:{id:e,liked_by_me:!t}}))}function d({didItDataId:e,isMarkedHelpfulByMe:t}){return i=>((0,r.Z)({url:`/v3/helpful/2/${e}/`,method:t?"DELETE":"POST"}),i({type:"USER_DID_IT_DATA_HELPFUL_TOGGLED",payload:{id:e,marked_helpful_by_me:!t}}))}function a(e){return{type:"USER_DID_IT_DATA_DELETE",payload:{id:e}}}function c(e,t){return{type:"USER_DID_IT_DATA_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}function _({aggregatedPinDataId:e,details:t,fromUnifiedComment:i,image_signatures:r,pin_id:s,username:d,updateParentDidItCount:a}){let _={aggregatedPinDataId:e,details:t,image_signatures:r,pin_id:s};return t=>n.Z.create("DidItActivityResource",_).callCreate().then(n=>{let r=n.resource_response.data;t({type:"PIN_DID_IT",payload:{id:s,value:!0}}),t({type:"USER_DID_IT_DATA_CREATE",payload:{user_did_it_data:r}}),t((0,l.vX)({feedId:e,feedType:i?o.Z.UNIFIED_COMMENTS:o.Z.TRIED_IT_FEED,itemIds:[r.id],itemType:r.type})),t((0,l.vX)({feedId:d,feedType:o.Z.TRIED_IT_FEED,itemIds:[r.id],itemType:r.type})),a&&t(c(e,1))},()=>{})}function p({aggregatedPinDataId:e,feedType:t,id:i,isOwnedByMe:r,pinId:s,username:d,updateParentDidItCount:_}){return p=>{n.Z.create("DidItActivityResource",{user_did_it_data_id:i,pinId:s}).callDelete().then(()=>{r&&p({type:"PIN_DID_IT",payload:{id:s,value:!1}}),p(a(i)),p((0,l.EX)({feedId:null!=e?e:"",feedType:t||o.Z.TRIED_IT_FEED,itemIds:[i],itemType:"userdiditdata"})),p((0,l.EX)({feedId:d,feedType:o.Z.TRIED_IT_FEED,itemIds:[i],itemType:"userdiditdata"})),p((0,l.EX)({feedId:d,feedType:o.Z.UNIFIED_COMMENTS,itemIds:e?[e]:[],itemType:"userdiditdata"})),_&&p(c(i,-1))},()=>{})}}function u({id:e,details:t,image_signatures:i,pinId:r}){let l={details:t,image_signatures:i,user_did_it_data_id:e,pin_id:r};return e=>{n.Z.create("DidItActivityResource",l).callUpdate().then(t=>{let i=t.resource_response.data;e({type:"USER_DID_IT_DATA_UPDATE",payload:{user_did_it_data:i}})},()=>{})}}function m(e,t,i,n,s){return d=>{(0,r.Z)({url:`/v3/did_it/${i}/flag/`,method:"PUT",data:{reason:n,detailed_reasons:t,explanation:void 0}}).then(()=>{d(a(i)),e&&d((0,l.EX)({feedId:e,feedType:o.Z.TRIED_IT_FEED,itemIds:[i],itemType:"userdiditdata"})),d((0,l.EX)({feedId:s,feedType:o.Z.TRIED_IT_FEED,itemIds:[i],itemType:"userdiditdata"}))},()=>{})}}},274415:(e,t,i)=>{i.d(t,{R:()=>n});function n(e,t){return{type:"PIN_UPDATE_COMMENT_COUNT",payload:{id:e,increment:t}}}},461773:(e,t,i)=>{i.d(t,{KF:()=>c,ZN:()=>s,fv:()=>a,kE:()=>p,yA:()=>d});var n=i(214494),r=i(186656),l=i(90326);function o(e,t,i,r){return n.Z.create("UserFollowResource",{user_id:e,invite_code:r||void 0,aux_data:t?{pin_id:t}:void 0,client_tracking_params:i})}function s(e,t=null,i,n){return r=>{o(e,t,i,n).callCreate().catch(()=>r((0,l.P_)(e,!1))),r((0,l.P_)(e,!0))}}function d(e,t=null,i,n){return async r=>{r((0,l.P_)(e,!0)),await o(e,t,i,n).callCreate().catch(t=>{throw r((0,l.P_)(e,!1)),t})}}function a(e,t=null,i){return n=>{o(e,t,i).callDelete().catch(()=>n((0,l.P_)(e,!0))),n((0,l.P_)(e,!1))}}function c(e,t=null,i){return async n=>{n((0,l.P_)(e,!1)),await o(e,t,i).callDelete().catch(t=>{throw n((0,l.P_)(e,!0)),t})}}let _=(e,t)=>({type:"USER_BULK_FOLLOW",payload:{ids:e,value:t}}),p=e=>t=>{e.length>0&&((0,r.Z)({url:"/v3/users/follow/",method:"PUT",data:{followee_ids:e.join(",")}}).catch(()=>t(_(e,!1))),t(_(e,!0)))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/68317.fr-03b8dc2586097fd4.mjs.map