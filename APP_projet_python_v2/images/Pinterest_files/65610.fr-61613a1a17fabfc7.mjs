"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[65610],{411938:(e,t,n)=>{n.d(t,{Z:()=>r});function r(e,t,n=28){let r;if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;r=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;let o=new Date,i=r?new Date(r):o;return i.setDate(i.getDate()+n),new Date().getTime()<i.getTime()}},88307:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(186656),o=n(867820),i=n(529195);async function a(e){let t=(0,i.i$)(),n=(0,i.nR)(),a=(0,i.di)(),s=t?t.map(({pageType:e,...t})=>t):null,l={is_register:null!=e&&e};if(s&&(l.unauth_visited_pages=JSON.stringify(s)),n&&(l.invite_redemption=JSON.stringify(n)),a&&(l.paid_landing=JSON.stringify(a)),s||n||a){let e=await (0,r.Z)({url:"/v3/orientation/user_landing_signals/",method:"POST",data:l});(0,o.My)(`landing_signals.flush.${e.status}`),(0,i.z$)()}}},524172:(e,t,n)=>{n.d(t,{M:()=>m,Z:()=>P});var r=n(667294),o=n(366284),i=n(425288),a=n(83969),s=n(914772),l=n(773285),u=n(780280),_=n(867820),c=n(50286),d=n(785893);let g=["dweb_google_chrome_fedcm_eap_button_gesture","dweb_google_chrome_fedcm_eap_exempt_idp"],p=["mweb_google_chrome_fedcm_eap_button_gesture","mweb_google_chrome_fedcm_eap_exempt_idp"],f={dweb_google_chrome_fedcm_eap_exempt_idp:121,mweb_google_chrome_fedcm_eap_exempt_idp:121},{Provider:h,useMaybeHook:m}=(0,i.Z)("GoogleSignInApi"),b=()=>{let e=(0,c.HG)(),{checkExperiment:t}=(0,l.F)();return t(e?"web_google_disabled":"mweb_google_disabled").anyEnabled},y=()=>{let{userAgent:e}=(0,u.B)(),{browserName:t,platform:n}=e,r=null!=t?t:"";return(0,o.G6)(r)||"ios"===n},v=(e,t,n)=>e.some(e=>{let r=f[e]||116;return n>=r&&t(e).anyEnabled}),w=()=>{var e;let t=(0,c.HG)(),{checkExperiment:n}=(0,l.F)(),{userAgent:r}=(0,u.B)(),i=r.browserVersion?parseInt(r.browserVersion.split(".")[0],10):0,a=(0,o.i7)(null!==(e=r.browserName)&&void 0!==e?e:"");return a&&(t&&v(g,n,i)||!t&&"android"===r.platform&&v(p,n,i))};function P({children:e}){let t=b(),n=y(),o=w(),i=(0,r.useRef)(null),l=(0,r.useRef)(new Set),g=(0,r.useRef)(new Set),p=(0,r.useRef)(null),{language:f}=(0,u.B)(),m=(0,c.HG)(),v=m?"dweb":"mweb",P=(0,r.useRef)(!1),S=(0,r.useCallback)(()=>{if(P.current)return;P.current=!0;let e=!1,t=()=>{let t=(0,a.Fm)();t&&!e&&(e=!0,(0,s.Z)({type:"loadScript",status:"success"}),(0,s.Z)({type:"apiClient",valid:!!t}),p.current=t,(0,a.OY)({autoSelect:!0,itpSupport:n,isFedCMEnabled:o},e=>{if((0,s.Z)({type:"response",valid:!!e}),!e)return;(0,_.My)(`${v}.google_sign_in.select_by.${e.select_by}`);let t=(0,a.PL)(e.select_by);if("SIGN_IN_WITH_GOOGLE_BUTTON"===t){let t=Array.from(l.current),n=t[t.length-1],r=i.current;n?n(e):r&&r(e)}else{var n;null===(n=i.current)||void 0===n||n.call(i,e)}}),g.current.forEach(e=>{e()}),g.current.clear())};window.onGoogleLibraryLoad=()=>t(),(0,s.Z)({type:"loadScript",status:"start"}),(0,a.Px)(void 0,f).then(()=>{t()}).catch(()=>{})},[n,f,o,v]);(0,r.useEffect)(()=>{t?(l.current.clear(),g.current.clear()):S()},[t,S]);let N=(0,r.useRef)({ensureInit:(e,t)=>(S(),"button"===e?l.current.add(t):i.current=t,new Promise(e=>{let t=!!p.current;t?e():g.current.add(e)})),removeButtonCallback:e=>{l.current.delete(e)}});return(0,d.jsx)(h,{value:N.current,children:e})}},83969:(e,t,n)=>{n.d(t,{Fm:()=>a,OY:()=>l,PL:()=>_,Px:()=>s,mK:()=>c,ru:()=>u});var r=n(713930),o=n(966113),i=n(867820);let a=()=>{var e,t,n;return null===(e=window)||void 0===e?void 0:null===(t=e.google)||void 0===t?void 0:null===(n=t.accounts)||void 0===n?void 0:n.id},s=(e,t)=>(0,r.Z)("https://accounts.google.com/gsi/client"+(t?`?hl=${t}`:""),null!=e&&e.unsafe?null:"GSI"),l=({autoSelect:e,itpSupport:t,isFedCMEnabled:n},r)=>{var i;null===(i=a())||void 0===i||i.initialize({auto_select:null!=e&&e,client_id:o.v3o,callback:r,cancel_on_tap_outside:!1,context:"use",itp_support:t,use_fedcm_for_prompt:n})},u=({buttonRef:e,isDesktop:t,locale:n,logo_alignment:r})=>{let o=a();if(o&&e.current){let t=e.current.offsetWidth;o.renderButton(e.current,{locale:n,size:"large",shape:"pill",text:"continue_with",theme:"outline",width:t+"px",logo_alignment:r,click_listener:()=>(0,i.EX)({event:"start",provider:"google"})})}else(0,i.My)((t?"unauth_web":"unauth_mweb")+".gsi_button.not_initialized")},_=e=>["auto","fedcm_auto"].includes(e)?"AUTO_LOGIN":e.startsWith("btn")?"SIGN_IN_WITH_GOOGLE_BUTTON":"ONE_TAP_PROMPT",c=e=>{switch(e){case"SIGN_IN_WITH_GOOGLE_BUTTON":return"gsi_btn";case"ONE_TAP_PROMPT":return"onetap_btn";default:return"other"}}},45169:(e,t,n)=>{n.d(t,{E_:()=>u,Eh:()=>i,du:()=>l,yV:()=>a});var r=n(109322),o=n(116485);let i=(e,t)=>"DEPRECATED_CHECK_EXISTS"===t?"facebook_id"in e&&"facebook"||"google_open_id_token"in e&&"google"||"line_id_token"in e&&"line"||"email":"DEPRECATED_CHECK_TRUTHY"===t?e.facebook_id?"facebook":e.google_open_id_token?"google":e.line_id_token?"line":"email":e.type,a=e=>{let t=i(e,"DEPRECATED_CHECK_TRUTHY");return"google"===t?"google_one_tap":t},s=(e="")=>e in r.i5,l=e=>o.rT.includes(e)||o.ZR.has(e)||s(e),u={GOOGLE:"g",FACEBOOK:"fb",PINTEREST:"p",APPLE:"apl",LINE:"ln",UNKNOWN:"unk"}},914772:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(701563),o=n(867820);let i=e=>(0,o.dy)({event:e,provider:"google"}),a=e=>(0,r.RP)("google_autologin",e),s=e=>(0,r.M3)("google_autologin",e),l=e=>{switch(e.type){case"loadScript":"start"===e.status?(i("start"),i("load_script_start"),s("autoLoginGoogleStart")):"success"===e.status?i("load_script_success"):i("load_script_failure");break;case"apiClient":e.valid?(i("initialize_library"),s("autoLoginGoogleInitEnd")):(a("noAccountFound"),i("global_object_not_found"));break;case"response":e.valid?(i("receive_credential_response_from_provider"),(0,o.EX)({event:"receive_credential_response_from_provider",provider:"google"})):(a("noResponse"),(0,o.EX)({event:"receive_no_credential_response_from_provider",provider:"google"}));break;case"autologin":"start"===e.status?(i("pinterest_login_start"),(0,o.NC)("press_google_one_tap_other"),(0,r.M3)("google_autologin","autoLoginGoogleEnd"),(0,r.PA)("google_autologin")):("success"===e.status?i("pinterest_login_success"):i("pinterest_login_failure"),i("end"));break;case"manualLoginAttempt":(0,o.NC)(e.fromConnectButton?"press_google_one_tap_button":"press_google_one_tap"),(0,r.PA)("google_autologin")}}},383690:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(667294),o=n(773285);let i=()=>{let e=(0,o.F)();return(0,r.useCallback)(()=>{e.flush()},[e])}},701563:(e,t,n)=>{n.d(t,{M3:()=>h,PA:()=>m,RP:()=>f,gq:()=>g});var r=n(991067),o=n(790348),i=n(543059),a=n(638089),s=n(558775),l=n(729524),u=n(358864),_=n(985271);let c=({name:e,pwtStaticContext:t})=>{if(!_.Z||!(0,r.Z)())return null;let n={type:"stopwatch",name:e},o=[],i=!0;return{abort:e=>{i&&(i=!1,(0,s.Z)({metricId:n,pwtStaticContext:t,result:{type:"ABORT",reason:e}}))},annotate:e=>{i&&o.push({label:e,timestamp:_.Z.now()})},stop:()=>{if(!i)return;i=!1;let e={type:"COMPLETE",traceId:(0,u.Z)(),startTime:0,endTime:_.Z.now(),spans:[],annotationMap:(0,l.Z)(o),binaryAnnotationMap:(0,a.ng)({metricId:n,pwtStaticContext:t})};(0,s.Z)({metricId:n,pwtStaticContext:t,result:e})}}},d={},g=(e,t)=>{t.forEach(t=>{d[t]=c({name:t,pwtStaticContext:e})})},p=e=>d[e],f=(e,t)=>{let n=p(e);if(n)try{n.abort(t)}catch(t){(0,o.H)("app_load_stopwatch_error",{name:e,result:"abort"})}},h=(e,t)=>{let n=p(e);n&&(n.annotate(t),(0,i.ZP)(`stopwatch_${e}_${t}`))},m=e=>{let t=p(e);if(t)try{t.stop()}catch(t){(0,o.H)("app_load_stopwatch_error",{name:e,result:"complete"})}}},729524:(e,t,n)=>{n.d(t,{Z:()=>r});let r=e=>{let t={};e.forEach(({label:e,timestamp:n})=>{t={...t,[e]:(t[e]||[]).concat([n])}});let n=Object.freeze({});return Object.keys(t).forEach(e=>{(t[e]||[]).forEach((t,r)=>{let o=r?`${e}_${r+1}`:e;n={...n,[o]:t}})}),n}},69642:(e,t,n)=>{n.d(t,{Z:()=>a});var r=n(667294),o=n(932046),i=n(867820);function a(){return(0,r.useCallback)(e=>{e.action&&e.event?(0,i.My)("pinner_conversion",{...e,type:e.type||"none",trigger:e.trigger||"other",referrer:(0,o.Z)()}):(0,i.My)("pinner_conversion.missing_tags")},[])}},348584:(e,t,n)=>{n.d(t,{D:()=>u,Z:()=>_});var r=n(667294),o=n(616550),i=n(826067),a=n(785893);let s=(0,r.createContext)(!1),l=()=>{var e,t;let n=(0,o.TH)(),r=(0,o.k6)();return(null===(e=r.location.state)||void 0===e?void 0:e.isAppFactoryOAuth)||(null!==(t=(0,i.mB)(n.search).next)&&void 0!==t?t:"").startsWith("/app-factory-oauth/")};function u({children:e}){let t=l(),[n,o]=(0,r.useState)(t);return(0,r.useEffect)(()=>{t&&o(!0)},[t]),(0,a.jsx)(s.Provider,{value:n,children:e})}function _(){return(0,r.useContext)(s)}},529195:(e,t,n)=>{n.d(t,{Cb:()=>U,Ff:()=>et,K7:()=>M,Lp:()=>D,MM:()=>V,O0:()=>er,OJ:()=>Z,PW:()=>eo,Rh:()=>K,S2:()=>B,Vd:()=>z,Yi:()=>Y,Yy:()=>X,Z4:()=>L,ZN:()=>y,dc:()=>I,di:()=>R,i$:()=>S,iU:()=>G,nR:()=>k,oQ:()=>en,t_:()=>w,z$:()=>$});var r=n(667294),o=n(214494),i=n(464232),a=n(911691),s=n(231486),l=n(226198),u=n(425288),_=n(844974),c=n(339363),d=n(867820),g=n(826067),p=n(829407),f=n(116485),h=n(332215),m=n(785893);let b=new Set([...a.Z,"UK"]),y=["utm_pai","utm_source","invite_code"],v=function(e){return{...e,ts:Date.now()}},w=()=>(0,_.qn)(f.tz,"");function P(e,t){let n;try{n=JSON.parse(e)}catch(e){n=t}return n}let S=()=>P(w(),[]),N=()=>P((0,_.qn)(i.s1,""),[]),O=()=>P((0,_.qn)(i.Vb,""),[]),E=({pinId:e,link:t,imageSignature:n,domain:r})=>{let o=[...O()],a=o.length,s=a?o[0].pinId:"";if(a>=f.eA&&o.pop(),!a||e!==s){let a=v({pinId:e,link:t,imageSignature:n,domain:r});(0,_.Nh)(i.Vb,JSON.stringify([a].concat(o)))}},L=(e,t)=>{let n=[...S()],r=n.length,o=r?n[0].path:"";if(!(r>=f.eA)&&(!r||e!==o)){let r=v({path:e,pageType:t});(0,_.Nh)(f.tz,JSON.stringify([r].concat(n)))}},A=()=>{let e=(0,_.qn)(i.ny,"");return P(e,[])},C=()=>parseInt((0,_.qn)(i.rN,0),10),T=()=>{let e=(0,_.qn)(f.dx,"");return P(e,[])},k=()=>{let e=(0,_.qn)(f.Lg,"");return P(e,null)},D=e=>{if(!e)return;let t=[...T()],n=v({inviteCode:e});(0,_.Nh)(f.Lg,JSON.stringify(n)),t.length>=f.eA||(0,_.Nh)(f.dx,JSON.stringify([n].concat(t)))},R=()=>{let e=(0,_.qn)(f.eV,"");return P(e,null)},B=(e,t)=>{if(!e)return;let n=v({...!!t&&{adImageUrl:t},campaignId:e});(0,_.Nh)(f.eV,JSON.stringify(n))},Z=()=>(0,_.qn)(f.fo,""),U=e=>{(0,_.Nh)(f.fo,e)},$=()=>{w()&&(0,_.L_)(f.tz),(0,_.qn)(i.ny)&&(0,_.L_)(i.ny),(0,_.qn)(i.Vb)&&(0,_.L_)(i.Vb),k()&&((0,_.L_)(f.Lg),(0,_.L_)(f.dx)),R()&&(0,_.L_)(f.eV),Z()&&(0,_.L_)(f.fo)},x=()=>{let e=S();return e.filter(e=>"closeup"===e.pageType)};function I(){return x().length}let H=({query:e,rs:t,scope:n,rg:r})=>{let o=[...A()],a=o.length,s=a?o[0].query:"";if(a>=f.eA&&o.pop(),!a||e!==s){let a=v({query:e,rs:t,scope:n,rg:r});(0,_.Nh)(i.ny,JSON.stringify([a].concat(o)))}},M=()=>({count:1,time:0}),G=()=>{try{let e=JSON.parse((0,_.qn)(i.SI)),{count:t,time:n}=e;if("number"==typeof t&&"number"==typeof n)return{count:t,time:n};throw Error("Invalid revisitation data")}catch(e){return M()}},z=e=>{(0,_.Nh)(i.SI,JSON.stringify(e))},F=(e,t,n)=>{if(e>=n)return`${n}+`;let r=e.toString();return e>t&&(r=`${Math.floor(e/t)*t}+`),r},q=e=>({...e,_updateUnauthUserAggregateDefinitions:function(){let{completedSearches:t,closeupPins:n,clickthroughPins:r,downloadedPinsCount:o}=e;e.isQUS=Number(t.length>=1||n.length>=3||r.length>=1||o>=1)},_getDaysSinceLastRevisitation:function(){let{revisitationState:t}=e,{time:n}=t,r=new Date,o=new Date(n||new Date),i=Number(((r.getTime()-o.getTime())/864e5).toFixed(2)),a=F(i,7,84);return[i,a]},getStatslogData:function(){return Object.keys(e).reduce((t,n)=>(Array.isArray(e[n])&&(t[n+"Count"]=F(e[n].length,5,50)),t),{isQUS:e.isQUS.toString(),revisitationCount:(e.revisitationState.count||1).toString(),isAllowedCountry:e.isAllowedCountry.toString(),daysSinceLastRevisitationBucket:e.daysSinceLastRevisitationBucket.toString(),downloadedPinsCount:e.downloadedPinsCount.toString()})}}),J=({isAuthenticated:e,countryFromIp:t,countryFromHostName:n})=>{let r={isAuthenticated:Number(e),countryFromIp:t||"",countryFromHostName:n||"",closeupPins:[],completedSearches:[],clickthroughPins:[],downloadedPinsCount:0,savedPins:[],invitesRedeemed:[],isQUS:0,revisitationState:M(),daysSinceLastRevisitation:0,daysSinceLastRevisitationBucket:"0",isAllowedCountry:Number(!(b.has(t||"")||b.has(n||"")))};if(e||!r.isAllowedCountry)return Object.freeze(q(r));r.closeupPins=x(),r.completedSearches=A(),r.clickthroughPins=O(),r.downloadedPinsCount=C(),r.savedPins=N(),r.invitesRedeemed=T(),r.revisitationState=G();let o=q(r),[i,a]=o._getDaysSinceLastRevisitation();return r.daysSinceLastRevisitation=i,r.daysSinceLastRevisitationBucket=a,o._updateUnauthUserAggregateDefinitions(),Object.freeze(o)},{Provider:j,useHook:K}=(0,u.Z)("UnauthUserStateContext");function W(e,t){let{isAuthenticated:n,countryFromIp:r,countryFromHostName:o,isAllowedCountry:i}=e;if(n||!i)return e;switch(t.type){case"UPDATE":break;case"ADD_UNAUTH_COMPLETED_SEARCH":H(t.payload);break;case"ADD_UNAUTH_CLICKTHROUGH_PIN":E(t.payload);break;default:return e}return J({isAuthenticated:n,countryFromIp:r,countryFromHostName:o})}function V({children:e,initialState:t}){let[n,o]=(0,r.useReducer)(W,t,J);(0,p.Z)(()=>{o({type:"UPDATE"})});let i=(0,r.useMemo)(()=>({unauthUserState:n,unauthUserStateDispatch:o}),[n,o]);return(0,m.jsx)(j,{value:i,children:e})}function Y(){let e=o.Z.create("UnauthUserDataResource");return new Promise((t,n)=>{e.callGet().then(e=>{let r=e.resource_response.data,o=!!s.U2(l.x3);return r?((0,h.Wn)(r.medium_image_url)&&(r.medium_image_url=""),(0,d.My)(`mweb.unauth.personalized_login.fetch_user_info.info.user_info_found.logged_out_cookie_${o?"true":"false"}`),t(r)):((0,d.My)(`mweb.unauth.personalized_login.fetch_user_info.info.no_user_info.logged_out_cookie_${o?"true":"false"}`),n({}))}).catch(e=>{if(e&&e.message){let t=e.message.replace(/\s/g,"_").toLowerCase();(0,d.My)(`mweb.unauth.personalized_login.fetch_user_info.error.${t}`)}else(0,d.My)("mweb.unauth.personalized_login.fetch_user_info.error.unknown");return n(e)})})}function Q({i18n:e,location:t}){let n;let r=t.pathname.startsWith("/signup"),o=t.pathname.startsWith("/login");if(!r&&!o)return{showPLPBanner:!1,pinForBanner:null};try{n=JSON.parse((0,c.qn)(f.KH))}catch(e){n=[]}if(n&&n.length>0){let t=n[0];if(t)return t.bannerCopy=e.bt("D’autres idées similaires vous attendent", "More ideas like this await", "page banner with pin image that was signed up from", undefined, true),{showPLPBanner:!!t.image,pinForBanner:t}}return{showPLPBanner:!1,pinForBanner:null}}let X=e=>e.search&&e.search.startsWith("?next=")?e.search.split("?next=")[1]:null;function ee({i18n:e,location:t}){var n;let r=(null===(n=t.state)||void 0===n?void 0:n.next)||X(t);if(r){let t=r.indexOf("?"),n=(0,g.mB)(r.substring(t));if(n.url&&n.media)return{showPLPBanner:!0,pinForBanner:{image:{url:(0,g.Jx)(n.media),height:1,width:1},pinDescription:n.description,bannerCopy:e.bt("Enregistrez cette idée et découvrez d’autres sources d’inspiration similaires.", "Save this idea and discover more inspiration like it.", "page banner with pin image that was signed up from", undefined, true)}}}return{showPLPBanner:!1,pinForBanner:null}}function et({i18n:e,location:t}){return ee({i18n:e,location:t}).showPLPBanner?ee({i18n:e,location:t}):Q({i18n:e,location:t}).showPLPBanner?Q({i18n:e,location:t}):{showPLPBanner:!1,pinForBanner:null}}let en=(e,t)=>e?`https://i.pinimg.com/${t||"474x"}/${e.substr(0,2)}/${e.substr(2,2)}/${e.substr(4,2)}/${e}.jpg`:"",er=e=>e?`https://i.pinimg.com/75x75/${e.substr(0,2)}/${e.substr(2,2)}/${e.substr(4,2)}/${e}.jpg`:"",eo=e=>e?`https://i.pinimg.com/236x/${e.substr(0,2)}/${e.substr(2,2)}/${e.substr(4,2)}/${e}.jpg`:""}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/65610.fr-61613a1a17fabfc7.mjs.map